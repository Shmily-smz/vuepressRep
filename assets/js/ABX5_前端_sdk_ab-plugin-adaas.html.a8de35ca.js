"use strict";(self.webpackChunkmy_vuepress_site=self.webpackChunkmy_vuepress_site||[]).push([[2511],{63688:(a,n,e)=>{e.r(n),e.d(n,{comp:()=>l,data:()=>i});var s=e(20641);const t={},l=(0,e(66262).A)(t,[["render",function(a,n){const e=(0,s.g2)("CodeGroup");return(0,s.uX)(),(0,s.CE)("div",null,[n[1]||(n[1]=(0,s.Lk)("h1",{id:"ab-manager-adaas",tabindex:"-1"},[(0,s.Lk)("a",{class:"header-anchor",href:"#ab-manager-adaas"},[(0,s.Lk)("span",null,"ab-manager-adaas")])],-1)),n[2]||(n[2]=(0,s.Lk)("p",null,"和adaas进行交互,调用外设。",-1)),n[3]||(n[3]=(0,s.Lk)("h2",{id:"_1-引入并初始化",tabindex:"-1"},[(0,s.Lk)("a",{class:"header-anchor",href:"#_1-引入并初始化"},[(0,s.Lk)("span",null,"1. 引入并初始化")])],-1)),(0,s.bF)(e,null,{default:(0,s.k6)((()=>n[0]||(n[0]=[(0,s.Lk)("div",{class:"language-javascript line-numbers-mode","data-highlighter":"prismjs","data-ext":"js","data-title":"js"},[(0,s.Lk)("pre",null,[(0,s.Lk)("code",null,[(0,s.Lk)("span",{class:"line"},[(0,s.Lk)("span",{class:"token keyword"},"import"),(0,s.eW)(),(0,s.Lk)("span",{class:"token punctuation"},"{"),(0,s.eW)(" getAdaasManager "),(0,s.Lk)("span",{class:"token punctuation"},"}"),(0,s.eW)("  "),(0,s.Lk)("span",{class:"token keyword"},"from"),(0,s.eW)(),(0,s.Lk)("span",{class:"token string"},"'@agree/ab-manager-adaas'")]),(0,s.eW)("\n"),(0,s.Lk)("span",{class:"line"},[(0,s.Lk)("span",{class:"token comment"},"// 根据客户端的 Adaas 配置来进行管理")]),(0,s.eW)("\n"),(0,s.Lk)("span",{class:"line"},[(0,s.Lk)("span",{class:"token keyword"},"let"),(0,s.eW)(" adaasManager "),(0,s.Lk)("span",{class:"token operator"},"="),(0,s.eW)(" getAdaasManager"),(0,s.Lk)("span",{class:"token punctuation"},"."),(0,s.Lk)("span",{class:"token function"},"getInstance"),(0,s.Lk)("span",{class:"token punctuation"},"("),(0,s.Lk)("span",{class:"token punctuation"},")")]),(0,s.eW)("\n"),(0,s.Lk)("span",{class:"line"})])]),(0,s.Lk)("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[(0,s.Lk)("div",{class:"line-number"}),(0,s.Lk)("div",{class:"line-number"}),(0,s.Lk)("div",{class:"line-number"})])],-1),(0,s.Lk)("div",{class:"language-javascript line-numbers-mode","data-highlighter":"prismjs","data-ext":"js","data-title":"js"},[(0,s.Lk)("pre",null,[(0,s.Lk)("code",null,[(0,s.Lk)("span",{class:"line"},[(0,s.Lk)("span",{class:"token keyword"},"import"),(0,s.eW)(),(0,s.Lk)("span",{class:"token punctuation"},"{"),(0,s.eW)(" AdaasManager "),(0,s.Lk)("span",{class:"token punctuation"},"}"),(0,s.eW)("  "),(0,s.Lk)("span",{class:"token keyword"},"from"),(0,s.eW)(),(0,s.Lk)("span",{class:"token string"},"'@agree/ab-manager-adaas'")]),(0,s.eW)("\n"),(0,s.Lk)("span",{class:"line"}),(0,s.eW)("\n"),(0,s.Lk)("span",{class:"line"},[(0,s.Lk)("span",{class:"token comment"},"// 传入自定义的 Adaas 配置来进行管理")]),(0,s.eW)("\n"),(0,s.Lk)("span",{class:"line"},[(0,s.Lk)("span",{class:"token keyword"},"let"),(0,s.eW)(" adaasManager "),(0,s.Lk)("span",{class:"token operator"},"="),(0,s.eW)(),(0,s.Lk)("span",{class:"token keyword"},"new"),(0,s.eW)(),(0,s.Lk)("span",{class:"token class-name"},"AdaasManager"),(0,s.Lk)("span",{class:"token punctuation"},"("),(0,s.Lk)("span",{class:"token punctuation"},"{")]),(0,s.eW)("\n"),(0,s.Lk)("span",{class:"line"},[(0,s.eW)("  "),(0,s.Lk)("span",{class:"token literal-property property"},"grant_type"),(0,s.Lk)("span",{class:"token operator"},":"),(0,s.eW)(),(0,s.Lk)("span",{class:"token string"},"'client_credentials'"),(0,s.Lk)("span",{class:"token punctuation"},",")]),(0,s.eW)("\n"),(0,s.Lk)("span",{class:"line"},[(0,s.eW)("  "),(0,s.Lk)("span",{class:"token literal-property property"},"scope"),(0,s.Lk)("span",{class:"token operator"},":"),(0,s.eW)(),(0,s.Lk)("span",{class:"token string"},"'device'"),(0,s.Lk)("span",{class:"token punctuation"},",")]),(0,s.eW)("\n"),(0,s.Lk)("span",{class:"line"},[(0,s.eW)("  "),(0,s.Lk)("span",{class:"token literal-property property"},"client_id"),(0,s.Lk)("span",{class:"token operator"},":"),(0,s.eW)(),(0,s.Lk)("span",{class:"token string"},"'client_credentials'"),(0,s.Lk)("span",{class:"token punctuation"},",")]),(0,s.eW)("\n"),(0,s.Lk)("span",{class:"line"},[(0,s.eW)("  "),(0,s.Lk)("span",{class:"token literal-property property"},"client_secret"),(0,s.Lk)("span",{class:"token operator"},":"),(0,s.eW)(),(0,s.Lk)("span",{class:"token string"},"'123456'"),(0,s.Lk)("span",{class:"token punctuation"},",")]),(0,s.eW)("\n"),(0,s.Lk)("span",{class:"line"},[(0,s.eW)("  "),(0,s.Lk)("span",{class:"token literal-property property"},"deviceURL"),(0,s.Lk)("span",{class:"token operator"},":"),(0,s.eW)(),(0,s.Lk)("span",{class:"token string"},"'https://192.9.210.7:30000'"),(0,s.Lk)("span",{class:"token punctuation"},",")]),(0,s.eW)("\n"),(0,s.Lk)("span",{class:"line"},[(0,s.eW)("  "),(0,s.Lk)("span",{class:"token literal-property property"},"tokenURL"),(0,s.Lk)("span",{class:"token operator"},":"),(0,s.eW)(),(0,s.Lk)("span",{class:"token string"},"'https://192.9.210.7:30007'"),(0,s.Lk)("span",{class:"token punctuation"},",")]),(0,s.eW)("\n"),(0,s.Lk)("span",{class:"line"},[(0,s.Lk)("span",{class:"token punctuation"},"}"),(0,s.Lk)("span",{class:"token punctuation"},")")]),(0,s.eW)("\n"),(0,s.Lk)("span",{class:"line"})])]),(0,s.Lk)("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[(0,s.Lk)("div",{class:"line-number"}),(0,s.Lk)("div",{class:"line-number"}),(0,s.Lk)("div",{class:"line-number"}),(0,s.Lk)("div",{class:"line-number"}),(0,s.Lk)("div",{class:"line-number"}),(0,s.Lk)("div",{class:"line-number"}),(0,s.Lk)("div",{class:"line-number"}),(0,s.Lk)("div",{class:"line-number"}),(0,s.Lk)("div",{class:"line-number"}),(0,s.Lk)("div",{class:"line-number"}),(0,s.Lk)("div",{class:"line-number"})])],-1)]))),_:1}),n[4]||(n[4]=(0,s.Fv)('<p><strong>Adaas 配置项说明</strong></p><table><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>grant_type</td><td>String</td><td>授权类型</td></tr><tr><td>scope</td><td>String</td><td>范围</td></tr><tr><td>client_id</td><td>String</td><td>客户端ID</td></tr><tr><td>client_secret</td><td>String</td><td>客户端密码</td></tr><tr><td>deviceURL</td><td>String</td><td>调用外设的服务地址</td></tr><tr><td>tokenURL</td><td>String</td><td>获取token的服务地址</td></tr></tbody></table><h2 id="_2-方法" tabindex="-1"><a class="header-anchor" href="#_2-方法"><span>2. 方法</span></a></h2><table><thead><tr><th>方法名</th><th>传参</th><th>默认值</th><th>说明</th></tr></thead><tbody><tr><td>readIdr</td><td>-</td><td>-</td><td>读身份证</td></tr><tr><td>readMsf</td><td>-</td><td>-</td><td>读刷卡器MSF</td></tr><tr><td>readFic</td><td>-</td><td>-</td><td>读刷卡器FIC</td></tr><tr><td>evaluator</td><td>调用该方法时的vue实例</td><td>无</td><td>评价器</td></tr><tr><td>readPin</td><td>Time(String)</td><td>无</td><td>读密码键盘</td></tr><tr><td>print</td><td>xml,要打印的 aft 内容</td><td>无</td><td>打印</td></tr><tr><td>printImg</td><td>base64,要打印图片的 base64 码</td><td>无</td><td>打印图片</td></tr><tr><td>frontCamera</td><td>type</td><td>-</td><td>前置摄像头拍照</td></tr><tr><td>backCamera</td><td>type</td><td>-</td><td>后置摄像头拍照</td></tr><tr><td>sign</td><td>pdfPath,要签字的 pdf 文件路径</td><td>无</td><td>pdf加签</td></tr><tr><td>uploadFile</td><td>base64,上传文件的 base64</td><td>-</td><td>上传</td></tr></tbody></table><h3 id="readidr" tabindex="-1"><a class="header-anchor" href="#readidr"><span>readIdr</span></a></h3><blockquote><p>读身份证</p></blockquote><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line">adaasManager<span class="token punctuation">.</span><span class="token function">readIdr</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="readmsf" tabindex="-1"><a class="header-anchor" href="#readmsf"><span>readMsf</span></a></h3><blockquote><p>读刷卡器MSF</p></blockquote><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line">adaasManager<span class="token punctuation">.</span><span class="token function">readMsf</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="readfic" tabindex="-1"><a class="header-anchor" href="#readfic"><span>readFic</span></a></h3><blockquote><p>读刷卡器FIC</p></blockquote><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line">adaasManager<span class="token punctuation">.</span><span class="token function">readFic</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="evaluator" tabindex="-1"><a class="header-anchor" href="#evaluator"><span>evaluator</span></a></h3><blockquote><p>评价器</p></blockquote><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token comment">// this 为当前 vue 实例</span></span>\n<span class="line">adaasManager<span class="token punctuation">.</span><span class="token function">evaluator</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="readpin" tabindex="-1"><a class="header-anchor" href="#readpin"><span>readPin</span></a></h3><blockquote><p>读密码键盘</p></blockquote><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line">adaasManager<span class="token punctuation">.</span><span class="token function">readPin</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="print" tabindex="-1"><a class="header-anchor" href="#print"><span>print</span></a></h3><blockquote><p>打印</p></blockquote><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line">adaasManager<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;&lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39; standalone=&#39;yes&#39;?&gt;&lt;Root caption=&#39;test&#39;&gt;&lt;Setting&gt;&lt;Page name=&#39;A4(210*297)&#39;&gt;&lt;ColInterval&gt;1.84&lt;/ColInterval&gt;&lt;LineInterval&gt;5.14&lt;/LineInterval&gt;&lt;PrintBackgroundImage/&gt;&lt;CodeTitleFile&gt;DG_convert.dat&lt;/CodeTitleFile&gt;&lt;/Page&gt;&lt;/Setting&gt;&lt;Content&gt;&lt;Constant Width=&#39;29.9&#39; Height=&#39;5.03&#39; Left=&#39;10.0&#39; Top=&#39;20.0&#39; TextAlign=&#39;Align_Left&#39; VerticalAlign=&#39;Align_Middle&#39; LineSeparate=&#39;5.14&#39; Pos=&#39;Absolute&#39;&gt;交易日期&lt;/Constant&gt;&lt;/Content&gt;&lt;/Root&gt;&quot;</span><span class="token punctuation">)</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="printimg" tabindex="-1"><a class="header-anchor" href="#printimg"><span>printImg</span></a></h3><blockquote><p>打印图片</p></blockquote><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line">adaasManager<span class="token punctuation">.</span><span class="token function">readPin</span><span class="token punctuation">(</span>base64<span class="token punctuation">)</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="frontcamera" tabindex="-1"><a class="header-anchor" href="#frontcamera"><span>frontCamera</span></a></h3><blockquote><p>前置摄像头拍照</p></blockquote><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line">adaasManager<span class="token punctuation">.</span><span class="token function">frontCamera</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="backcamera" tabindex="-1"><a class="header-anchor" href="#backcamera"><span>backCamera</span></a></h3><blockquote><p>后置摄像头拍照</p></blockquote><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line">adaasManager<span class="token punctuation">.</span><span class="token function">backCamera</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="sign" tabindex="-1"><a class="header-anchor" href="#sign"><span>sign</span></a></h3><blockquote><p>pdf加签</p></blockquote><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line">adaasManager<span class="token punctuation">.</span><span class="token function">sign</span><span class="token punctuation">(</span>pdfPath<span class="token punctuation">)</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="uploadfile" tabindex="-1"><a class="header-anchor" href="#uploadfile"><span>uploadFile</span></a></h3><blockquote><p>上传</p></blockquote><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line">adaasManager<span class="token punctuation">.</span><span class="token function">uploadFile</span><span class="token punctuation">(</span>base64<span class="token punctuation">)</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div>',37))])}]]),i=JSON.parse('{"path":"/ABX5/%E5%89%8D%E7%AB%AF/sdk/ab-plugin-adaas.html","title":"ab-manager-adaas","lang":"en-US","frontmatter":{},"headers":[{"level":2,"title":"1. 引入并初始化","slug":"_1-引入并初始化","link":"#_1-引入并初始化","children":[]},{"level":2,"title":"2. 方法","slug":"_2-方法","link":"#_2-方法","children":[{"level":3,"title":"readIdr","slug":"readidr","link":"#readidr","children":[]},{"level":3,"title":"readMsf","slug":"readmsf","link":"#readmsf","children":[]},{"level":3,"title":"readFic","slug":"readfic","link":"#readfic","children":[]},{"level":3,"title":"evaluator","slug":"evaluator","link":"#evaluator","children":[]},{"level":3,"title":"readPin","slug":"readpin","link":"#readpin","children":[]},{"level":3,"title":"print","slug":"print","link":"#print","children":[]},{"level":3,"title":"printImg","slug":"printimg","link":"#printimg","children":[]},{"level":3,"title":"frontCamera","slug":"frontcamera","link":"#frontcamera","children":[]},{"level":3,"title":"backCamera","slug":"backcamera","link":"#backcamera","children":[]},{"level":3,"title":"sign","slug":"sign","link":"#sign","children":[]},{"level":3,"title":"uploadFile","slug":"uploadfile","link":"#uploadfile","children":[]}]}],"git":{"updatedTime":1727145923000,"contributors":[{"name":"wangaoqi","email":"wangaoqi@agree.com.cn","commits":1}]},"filePathRelative":"ABX5/前端/sdk/ab-plugin-adaas.md"}')}}]);