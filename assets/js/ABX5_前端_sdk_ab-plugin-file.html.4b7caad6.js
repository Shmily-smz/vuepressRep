"use strict";(self.webpackChunkmy_vuepress_site=self.webpackChunkmy_vuepress_site||[]).push([[3193],{54367:(n,s,a)=>{a.r(s),a.d(s,{comp:()=>l,data:()=>p});var t=a(20641);const e={},l=(0,a(66262).A)(e,[["render",function(n,s){const a=(0,t.g2)("font");return(0,t.uX)(),(0,t.CE)("div",null,[s[105]||(s[105]=(0,t.Fv)('<h1 id="ab-plugin-file-文件操作类" tabindex="-1"><a class="header-anchor" href="#ab-plugin-file-文件操作类"><span>ab-plugin-file@文件操作类</span></a></h1><h2 id="_1-引入" tabindex="-1"><a class="header-anchor" href="#_1-引入"><span>1. 引入</span></a></h2><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> File <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@agree/ab-plugin-file&#39;</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="_2-使用" tabindex="-1"><a class="header-anchor" href="#_2-使用"><span>2. 使用</span></a></h2><h3 id="_2-1-获取客户端跟路径" tabindex="-1"><a class="header-anchor" href="#_2-1-获取客户端跟路径"><span>2.1 获取客户端跟路径</span></a></h3>',5)),(0,t.Lk)("blockquote",null,[(0,t.bF)(a,{color:"green",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[0]||(s[0]=[(0,t.eW)("支持移动(Android)渠道")]))),_:1})]),s[106]||(s[106]=(0,t.Fv)('<div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token comment">// 外置存储卡的根路径  file:///storage/emulated/0</span></span>\n<span class="line"><span class="token keyword">let</span> externalRootDirectory <span class="token operator">=</span> File<span class="token punctuation">.</span>externalRootDirectory</span>\n<span class="line"></span>\n<span class="line"><span class="token comment">// app缓存路径 file:///storage/emulated/0/Android/data/&lt;appId&gt;/cache</span></span>\n<span class="line"><span class="token keyword">let</span> cacheDirectory <span class="token operator">=</span> File<span class="token punctuation">.</span>cacheDirectory</span>\n<span class="line"></span>\n<span class="line"><span class="token comment">// app私有目录路径 file:///storage/emulated/0/Android/data/&lt;appId&gt;/files</span></span>\n<span class="line"><span class="token keyword">let</span> workspaceDirectory <span class="token operator">=</span> File<span class="token punctuation">.</span>workspaceDirectory</span>\n<span class="line"></span>\n<span class="line"><span class="token comment">// app资产目录路径(只读)  file:///android_asset/</span></span>\n<span class="line"><span class="token keyword">let</span> assetsDirectory <span class="token operator">=</span> File<span class="token punctuation">.</span>assetsDirectory</span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>',1)),(0,t.Lk)("blockquote",null,[(0,t.bF)(a,{color:"green",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[1]||(s[1]=[(0,t.eW)("对应移动(Android)原SDK:AgreeSDK.file.xxx")]))),_:1})]),s[107]||(s[107]=(0,t.Lk)("hr",null,null,-1)),s[108]||(s[108]=(0,t.Lk)("h3",{id:"_2-2-readclientfile-读取客户端文件",tabindex:"-1"},[(0,t.Lk)("a",{class:"header-anchor",href:"#_2-2-readclientfile-读取客户端文件"},[(0,t.Lk)("span",null,"2.2 readClientFile --读取客户端文件")])],-1)),(0,t.Lk)("blockquote",null,[(0,t.bF)(a,{color:"green",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[2]||(s[2]=[(0,t.eW)("支持移动(Android/iOS)渠道")]))),_:1}),s[4]||(s[4]=(0,t.eW)(" > ")),(0,t.bF)(a,{color:"red",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[3]||(s[3]=[(0,t.eW)("支持柜面渠道")]))),_:1})]),s[109]||(s[109]=(0,t.Fv)('<div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">let</span> filePath <span class="token operator">=</span> <span class="token string">&#39;d://a.txt&#39;</span></span>\n<span class="line"><span class="token keyword">let</span> encoding <span class="token operator">=</span> <span class="token string">&#39;gbk&#39;</span></span>\n<span class="line"><span class="token keyword">let</span> offset <span class="token operator">=</span> <span class="token number">0</span></span>\n<span class="line"><span class="token keyword">let</span> size <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span></span>\n<span class="line"><span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token keyword">await</span> File<span class="token punctuation">.</span><span class="token function">readClientFile</span><span class="token punctuation">(</span>filePath<span class="token punctuation">,</span> encoding<span class="token punctuation">,</span> offset<span class="token punctuation">,</span> size<span class="token punctuation">)</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>参数列表:</li></ul>',2)),(0,t.Lk)("table",null,[s[17]||(s[17]=(0,t.Lk)("thead",null,[(0,t.Lk)("tr",null,[(0,t.Lk)("th",null,"参数"),(0,t.Lk)("th",null,"类型"),(0,t.Lk)("th",null,"必填参数"),(0,t.Lk)("th",null,"参数差异"),(0,t.Lk)("th",null,"说明")])],-1)),(0,t.Lk)("tbody",null,[s[15]||(s[15]=(0,t.Lk)("tr",null,[(0,t.Lk)("td",null,"filePath"),(0,t.Lk)("td",null,"string"),(0,t.Lk)("td",null,"√"),(0,t.Lk)("td",null,"-----"),(0,t.Lk)("td",null,"文件路径")],-1)),s[16]||(s[16]=(0,t.Lk)("tr",null,[(0,t.Lk)("td",null,"encoding"),(0,t.Lk)("td",null,"boolstringean"),(0,t.Lk)("td",null,"√"),(0,t.Lk)("td",null,"-----"),(0,t.Lk)("td",null,'例"gbk"')],-1)),(0,t.Lk)("tr",null,[s[6]||(s[6]=(0,t.Lk)("td",null,"offset",-1)),s[7]||(s[7]=(0,t.Lk)("td",null,"number",-1)),s[8]||(s[8]=(0,t.Lk)("td",null,"√",-1)),(0,t.Lk)("td",null,[(0,t.bF)(a,{color:"green"},{default:(0,t.k6)((()=>s[5]||(s[5]=[(0,t.eW)("移动端可缺省")]))),_:1})]),s[9]||(s[9]=(0,t.Lk)("td",null,"偏移量 0(不偏移)",-1))]),(0,t.Lk)("tr",null,[s[11]||(s[11]=(0,t.Lk)("td",null,"size",-1)),s[12]||(s[12]=(0,t.Lk)("td",null,"number",-1)),s[13]||(s[13]=(0,t.Lk)("td",null,"√",-1)),(0,t.Lk)("td",null,[(0,t.bF)(a,{color:"green"},{default:(0,t.k6)((()=>s[10]||(s[10]=[(0,t.eW)("移动端可缺省")]))),_:1})]),s[14]||(s[14]=(0,t.Lk)("td",null,"读取量 -1(全部读取)",-1))])])]),s[110]||(s[110]=(0,t.Fv)("<ul><li>返回值: <code>Object</code></li></ul><table><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>res.result</td><td>string</td><td>读取结果</td></tr></tbody></table>",2)),(0,t.Lk)("blockquote",null,[(0,t.bF)(a,{color:"green",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[18]||(s[18]=[(0,t.eW)("对应移动(Android/iOS)原SDK:let fileReader = new AgreeSDK.file.FileReader(); fileReader.readAsText()")]))),_:1})]),s[111]||(s[111]=(0,t.Lk)("hr",null,null,-1)),s[112]||(s[112]=(0,t.Lk)("h3",{id:"_2-3-clientdircreate-创建深度遍历客户端文件夹",tabindex:"-1"},[(0,t.Lk)("a",{class:"header-anchor",href:"#_2-3-clientdircreate-创建深度遍历客户端文件夹"},[(0,t.Lk)("span",null,"2.3 clientDirCreate --创建深度遍历客户端文件夹")])],-1)),(0,t.Lk)("blockquote",null,[(0,t.bF)(a,{color:"green",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[19]||(s[19]=[(0,t.eW)("支持移动(Android/iOS)渠道")]))),_:1}),s[21]||(s[21]=(0,t.eW)(" > ")),(0,t.bF)(a,{color:"red",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[20]||(s[20]=[(0,t.eW)("支持柜面渠道")]))),_:1})]),s[113]||(s[113]=(0,t.Fv)('<div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">let</span> filePath <span class="token operator">=</span> <span class="token string">&#39;d://a&#39;</span></span>\n<span class="line"><span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token keyword">await</span> File<span class="token punctuation">.</span><span class="token function">clientDirCreate</span><span class="token punctuation">(</span>filePath<span class="token punctuation">)</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>参数列表:</li></ul><table><thead><tr><th>参数</th><th>类型</th><th>必填参数</th><th>说明</th></tr></thead><tbody><tr><td>filePath</td><td>string</td><td>√</td><td>文件夹绝对路径</td></tr></tbody></table><ul><li>返回值: <code>Object</code></li></ul><table><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>res.result</td><td>string</td><td>&#39;true&#39;:创建成功;&#39;false&#39;:创建失败</td></tr></tbody></table>',5)),(0,t.Lk)("blockquote",null,[(0,t.bF)(a,{color:"green",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[22]||(s[22]=[(0,t.eW)("对应移动(Android/iOS)原 SDK: AgreeSDK.file.mkdirSync()")]))),_:1})]),s[114]||(s[114]=(0,t.Lk)("hr",null,null,-1)),s[115]||(s[115]=(0,t.Lk)("h3",{id:"_2-4-clientfilecreate-创建客户端文件",tabindex:"-1"},[(0,t.Lk)("a",{class:"header-anchor",href:"#_2-4-clientfilecreate-创建客户端文件"},[(0,t.Lk)("span",null,"2.4 clientFileCreate --创建客户端文件")])],-1)),(0,t.Lk)("blockquote",null,[(0,t.bF)(a,{color:"green",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[23]||(s[23]=[(0,t.eW)("支持移动(Android/iOS)渠道")]))),_:1}),s[25]||(s[25]=(0,t.eW)(" > ")),(0,t.bF)(a,{color:"red",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[24]||(s[24]=[(0,t.eW)("支持柜面渠道")]))),_:1})]),s[116]||(s[116]=(0,t.Fv)('<div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">let</span> filePath <span class="token operator">=</span> <span class="token string">&#39;d://a.txt&#39;</span></span>\n<span class="line"><span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token keyword">await</span> File<span class="token punctuation">.</span><span class="token function">clientFileCreate</span><span class="token punctuation">(</span>filePath<span class="token punctuation">)</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>参数列表:</li></ul><table><thead><tr><th>参数</th><th>类型</th><th>必填参数</th><th>说明</th></tr></thead><tbody><tr><td>filePath</td><td>string</td><td>√</td><td>文件路径</td></tr></tbody></table><ul><li>返回值: <code>Object</code></li></ul><table><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>clientFileCreate</td><td>boolean</td><td>true:创建成功;false:创建失败</td></tr></tbody></table>',5)),(0,t.Lk)("blockquote",null,[(0,t.bF)(a,{color:"green",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[26]||(s[26]=[(0,t.eW)("对应移动(Android/iOS)原 SDK: AgreeSDK.file.createFile() ")]))),_:1})]),s[117]||(s[117]=(0,t.Lk)("hr",null,null,-1)),s[118]||(s[118]=(0,t.Lk)("h3",{id:"_2-5-clientfiledelete-删除客户端文件",tabindex:"-1"},[(0,t.Lk)("a",{class:"header-anchor",href:"#_2-5-clientfiledelete-删除客户端文件"},[(0,t.Lk)("span",null,"2.5 clientFileDelete --删除客户端文件")])],-1)),(0,t.Lk)("blockquote",null,[(0,t.bF)(a,{color:"green",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[27]||(s[27]=[(0,t.eW)("支持移动(Android/iOS)渠道")]))),_:1}),s[29]||(s[29]=(0,t.eW)(" > ")),(0,t.bF)(a,{color:"red",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[28]||(s[28]=[(0,t.eW)("支持柜面渠道")]))),_:1})]),s[119]||(s[119]=(0,t.Fv)('<div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">let</span> filePath <span class="token operator">=</span> <span class="token string">&#39;d://a.txt&#39;</span></span>\n<span class="line"><span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token keyword">await</span> File<span class="token punctuation">.</span><span class="token function">clientFileDelete</span><span class="token punctuation">(</span>filePath<span class="token punctuation">)</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>参数列表:</li></ul><table><thead><tr><th>参数</th><th>类型</th><th>必填参数</th><th>说明</th></tr></thead><tbody><tr><td>filePath</td><td>string</td><td>√</td><td>文件路径</td></tr></tbody></table><ul><li>返回值: <code>Object</code></li></ul><table><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>clientFileDelete</td><td>boolean</td><td>true:删除成功;false:删除失败</td></tr></tbody></table>',5)),(0,t.Lk)("blockquote",null,[(0,t.bF)(a,{color:"green",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[30]||(s[30]=[(0,t.eW)("对应移动(Android/iOS)原 SDK: AgreeSDK.file.deleteFile()")]))),_:1})]),s[120]||(s[120]=(0,t.Lk)("hr",null,null,-1)),s[121]||(s[121]=(0,t.Lk)("h3",{id:"_2-6-isfileexist-文件是否存在",tabindex:"-1"},[(0,t.Lk)("a",{class:"header-anchor",href:"#_2-6-isfileexist-文件是否存在"},[(0,t.Lk)("span",null,"2.6 isFileExist --文件是否存在")])],-1)),(0,t.Lk)("blockquote",null,[(0,t.bF)(a,{color:"green",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[31]||(s[31]=[(0,t.eW)("支持移动(Android/iOS)渠道")]))),_:1}),s[33]||(s[33]=(0,t.eW)(" > ")),(0,t.bF)(a,{color:"red",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[32]||(s[32]=[(0,t.eW)("支持柜面渠道")]))),_:1})]),s[122]||(s[122]=(0,t.Fv)('<div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">let</span> path <span class="token operator">=</span> <span class="token string">&#39;d://a.txt&#39;</span></span>\n<span class="line"><span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token keyword">await</span> File<span class="token punctuation">.</span><span class="token function">isFileExist</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>参数列表:</li></ul><table><thead><tr><th>参数</th><th>类型</th><th>必填参数</th><th>说明</th></tr></thead><tbody><tr><td>path</td><td>string</td><td>√</td><td>文件路径</td></tr></tbody></table><ul><li>返回值: <code>Object</code></li></ul><table><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>clientFileExist</td><td>object</td><td>文件是否存在结果对象</td></tr></tbody></table>',5)),(0,t.Lk)("blockquote",null,[(0,t.bF)(a,{color:"green",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[34]||(s[34]=[(0,t.eW)("对应移动(Android/iOS)原 SDK: AgreeSDK.file.isFileExist")]))),_:1})]),s[123]||(s[123]=(0,t.Lk)("hr",null,null,-1)),s[124]||(s[124]=(0,t.Lk)("h3",{id:"_2-7-clientfileisdir-判断当前路径是否为文件夹",tabindex:"-1"},[(0,t.Lk)("a",{class:"header-anchor",href:"#_2-7-clientfileisdir-判断当前路径是否为文件夹"},[(0,t.Lk)("span",null,"2.7 clientFileIsDir -- 判断当前路径是否为文件夹")])],-1)),(0,t.Lk)("blockquote",null,[(0,t.bF)(a,{color:"green",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[35]||(s[35]=[(0,t.eW)("支持移动(Android/iOS)渠道")]))),_:1}),s[37]||(s[37]=(0,t.eW)(" > ")),(0,t.bF)(a,{color:"red",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[36]||(s[36]=[(0,t.eW)("支持柜面渠道")]))),_:1})]),s[125]||(s[125]=(0,t.Fv)('<div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">let</span> filePath <span class="token operator">=</span> <span class="token string">&#39;d://a.txt&#39;</span></span>\n<span class="line"><span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token keyword">await</span> File<span class="token punctuation">.</span><span class="token function">clientFileIsDir</span><span class="token punctuation">(</span>filePath<span class="token punctuation">)</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>参数列表:</li></ul><table><thead><tr><th>参数</th><th>类型</th><th>必填参数</th><th>说明</th></tr></thead><tbody><tr><td>filePath</td><td>string</td><td>√</td><td>文件路径</td></tr></tbody></table><ul><li>返回值: <code>Object</code></li></ul><table><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>res.result</td><td>string</td><td>&quot;true&quot;:是;&quot;false&quot;:否</td></tr></tbody></table><hr><h3 id="_2-8-getfilelength-获取文件大小" tabindex="-1"><a class="header-anchor" href="#_2-8-getfilelength-获取文件大小"><span>2.8 getFileLength -- 获取文件大小</span></a></h3>',7)),(0,t.Lk)("blockquote",null,[(0,t.bF)(a,{color:"green",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[38]||(s[38]=[(0,t.eW)("支持移动(Android/iOS)渠道")]))),_:1}),s[40]||(s[40]=(0,t.eW)(" > ")),(0,t.bF)(a,{color:"red",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[39]||(s[39]=[(0,t.eW)("支持柜面渠道")]))),_:1})]),s[126]||(s[126]=(0,t.Fv)('<div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">let</span> path <span class="token operator">=</span> <span class="token string">&#39;d://a.txt&#39;</span></span>\n<span class="line"><span class="token keyword">let</span> unitType <span class="token operator">=</span> <span class="token string">&#39;M&#39;</span></span>\n<span class="line"><span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token keyword">await</span> File<span class="token punctuation">.</span><span class="token function">getFileLength</span><span class="token punctuation">(</span>path<span class="token punctuation">,</span> unitType<span class="token punctuation">)</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>参数列表:</li></ul>',2)),(0,t.Lk)("table",null,[s[47]||(s[47]=(0,t.Lk)("thead",null,[(0,t.Lk)("tr",null,[(0,t.Lk)("th",null,"参数"),(0,t.Lk)("th",null,"类型"),(0,t.Lk)("th",null,"必填参数"),(0,t.Lk)("th",null,"参数差异"),(0,t.Lk)("th",null,"说明")])],-1)),(0,t.Lk)("tbody",null,[s[46]||(s[46]=(0,t.Lk)("tr",null,[(0,t.Lk)("td",null,"path"),(0,t.Lk)("td",null,"string"),(0,t.Lk)("td",null,"√"),(0,t.Lk)("td",null,"---"),(0,t.Lk)("td",null,"文件路径")],-1)),(0,t.Lk)("tr",null,[s[42]||(s[42]=(0,t.Lk)("td",null,"unitType",-1)),s[43]||(s[43]=(0,t.Lk)("td",null,"string",-1)),s[44]||(s[44]=(0,t.Lk)("td",null,"√",-1)),(0,t.Lk)("td",null,[(0,t.bF)(a,{color:"green"},{default:(0,t.k6)((()=>s[41]||(s[41]=[(0,t.eW)("移动端不支持")]))),_:1})]),s[45]||(s[45]=(0,t.Lk)("td",null,"类型",-1))])])]),s[127]||(s[127]=(0,t.Fv)("<ul><li>返回值: <code>Object</code></li></ul><table><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>res.size</td><td>string</td><td>&quot;0.0&quot;(文件大小结果)</td></tr></tbody></table>",2)),(0,t.Lk)("blockquote",null,[(0,t.bF)(a,{color:"green",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[48]||(s[48]=[(0,t.eW)("对应移动(Android/iOS)原 SDK: AgreeSDK.file.getFileInfo")]))),_:1})]),s[128]||(s[128]=(0,t.Lk)("hr",null,null,-1)),s[129]||(s[129]=(0,t.Lk)("h3",{id:"_2-9-clientfilereadlines-柜面自有-按行读取客户端文件",tabindex:"-1"},[(0,t.Lk)("a",{class:"header-anchor",href:"#_2-9-clientfilereadlines-柜面自有-按行读取客户端文件"},[(0,t.Lk)("span",null,"2.9 clientFileReadLines --柜面自有：按行读取客户端文件")])],-1)),(0,t.Lk)("blockquote",null,[(0,t.bF)(a,{color:"red",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[49]||(s[49]=[(0,t.eW)("支持柜面渠道")]))),_:1})]),s[130]||(s[130]=(0,t.Fv)('<div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">let</span> filePath <span class="token operator">=</span> <span class="token string">&#39;d://a.txt&#39;</span></span>\n<span class="line"><span class="token keyword">let</span> startLines <span class="token operator">=</span> <span class="token number">1</span></span>\n<span class="line"><span class="token keyword">let</span> endLines <span class="token operator">=</span> <span class="token number">2</span></span>\n<span class="line"><span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token keyword">await</span> File<span class="token punctuation">.</span><span class="token function">clientFileReadLines</span><span class="token punctuation">(</span>filePath<span class="token punctuation">,</span> startLines<span class="token punctuation">,</span> endLines<span class="token punctuation">)</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>参数列表:</li></ul><table><thead><tr><th>参数</th><th>类型</th><th>必填参数</th><th>说明</th></tr></thead><tbody><tr><td>filePath</td><td>string</td><td>√</td><td>文件路径</td></tr><tr><td>startLines</td><td>int</td><td>√</td><td>首行行数</td></tr><tr><td>endLines</td><td>int</td><td>√</td><td>最后一行行数</td></tr></tbody></table><ul><li>返回值: <code>Object</code></li></ul><table><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>res.clientFileCreate</td><td>string</td><td>读取结果</td></tr></tbody></table><hr><h3 id="_2-10-clientfilerename-客户端文件重命名" tabindex="-1"><a class="header-anchor" href="#_2-10-clientfilerename-客户端文件重命名"><span>2.10 clientFileRename --客户端文件重命名</span></a></h3>',7)),(0,t.Lk)("blockquote",null,[(0,t.bF)(a,{color:"green",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[50]||(s[50]=[(0,t.eW)("支持移动(Android/iOS)渠道")]))),_:1}),s[52]||(s[52]=(0,t.eW)(" > ")),(0,t.bF)(a,{color:"red",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[51]||(s[51]=[(0,t.eW)("支持柜面渠道")]))),_:1})]),s[131]||(s[131]=(0,t.Fv)('<div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">let</span> oldName <span class="token operator">=</span> <span class="token string">&#39;d://a.txt&#39;</span></span>\n<span class="line"><span class="token keyword">let</span> newName <span class="token operator">=</span> <span class="token string">&#39;d://b.txt&#39;</span></span>\n<span class="line"><span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token keyword">await</span> File<span class="token punctuation">.</span><span class="token function">clientFileRename</span><span class="token punctuation">(</span>oldName<span class="token punctuation">,</span> newName<span class="token punctuation">)</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>参数列表:</li></ul><table><thead><tr><th>参数</th><th>类型</th><th>必填参数</th><th>说明</th></tr></thead><tbody><tr><td>oldName</td><td>string</td><td>√</td><td>旧客户端文件全路径</td></tr><tr><td>newName</td><td>string</td><td>√</td><td>新客户端文件全路径</td></tr></tbody></table><ul><li>返回值: <code>Object</code></li></ul><table><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>res.clientFileRename</td><td>boolean</td><td>true:成功;false:失败</td></tr></tbody></table>',5)),(0,t.Lk)("blockquote",null,[(0,t.bF)(a,{color:"green",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[53]||(s[53]=[(0,t.eW)("对应移动(Android/iOS)原 SDK: AgreeSDK.file.rename()")]))),_:1})]),s[132]||(s[132]=(0,t.Lk)("hr",null,null,-1)),s[133]||(s[133]=(0,t.Lk)("h3",{id:"_2-11-clientfilesgetlist-获取文件列表",tabindex:"-1"},[(0,t.Lk)("a",{class:"header-anchor",href:"#_2-11-clientfilesgetlist-获取文件列表"},[(0,t.Lk)("span",null,"2.11 clientFilesGetList --获取文件列表")])],-1)),(0,t.Lk)("blockquote",null,[(0,t.bF)(a,{color:"green",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[54]||(s[54]=[(0,t.eW)("支持移动(Android/iOS)渠道")]))),_:1}),s[56]||(s[56]=(0,t.eW)(" > ")),(0,t.bF)(a,{color:"red",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[55]||(s[55]=[(0,t.eW)("支持柜面渠道")]))),_:1})]),s[134]||(s[134]=(0,t.Fv)('<div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">let</span> filePath <span class="token operator">=</span> <span class="token string">&#39;d://a.txt&#39;</span></span>\n<span class="line"><span class="token keyword">let</span> fileTypes <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;.3gp&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;.mp4&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;.txt&#39;</span><span class="token punctuation">]</span></span>\n<span class="line"><span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token keyword">await</span> File<span class="token punctuation">.</span><span class="token function">clientFilesGetList</span><span class="token punctuation">(</span>filePath<span class="token punctuation">,</span> fileTypes<span class="token punctuation">)</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>参数列表:</li></ul><table><thead><tr><th>参数</th><th>类型</th><th>必填参数</th><th>说明</th></tr></thead><tbody><tr><td>filePath</td><td>string</td><td>√</td><td>文件路径</td></tr><tr><td>fileTypes</td><td>string</td><td>√</td><td>获取文件格式</td></tr></tbody></table><ul><li>返回值: <code>list</code></li></ul><table><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>obj</td><td>object</td><td>例:{&quot;name&quot;:&quot;XXX&quot;,&quot;size&quot;:176,&quot;path&quot;:&quot;XXXX&quot;}</td></tr></tbody></table>',5)),(0,t.Lk)("blockquote",null,[(0,t.bF)(a,{color:"green",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[57]||(s[57]=[(0,t.eW)("对应移动(Android/iOS)原 SDK: AgreeSDK.file.getFilesFromDirectory()")]))),_:1})]),s[135]||(s[135]=(0,t.Lk)("hr",null,null,-1)),s[136]||(s[136]=(0,t.Lk)("h3",{id:"_2-12-downloadfile-文件下载",tabindex:"-1"},[(0,t.Lk)("a",{class:"header-anchor",href:"#_2-12-downloadfile-文件下载"},[(0,t.Lk)("span",null,"2.12 downloadFile --文件下载")])],-1)),(0,t.Lk)("blockquote",null,[(0,t.bF)(a,{color:"green",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[58]||(s[58]=[(0,t.eW)("支持移动渠道")]))),_:1}),s[60]||(s[60]=(0,t.eW)(" > ")),(0,t.bF)(a,{color:"red",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[59]||(s[59]=[(0,t.eW)("支持柜面渠道")]))),_:1})]),s[137]||(s[137]=(0,t.Fv)('<p><strong>文件下载调用示例</strong></p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">async</span></span>\n<span class="line"><span class="token function">downloadFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>\n<span class="line"><span class="token punctuation">{</span></span>\n<span class="line">  <span class="token keyword">let</span> serviceName <span class="token operator">=</span> <span class="token string">&#39;/downService/downloadFile&#39;</span></span>\n<span class="line">  <span class="token comment">// android端传整个url</span></span>\n<span class="line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>OsManager<span class="token punctuation">.</span>android<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>\n<span class="line">    <span class="token comment">// 该接口连公司内网可以测试使用</span></span>\n<span class="line">    serviceName <span class="token operator">=</span> <span class="token string">&#39;http://192.9.200.101:50002/downService/downloadFile&#39;</span></span>\n<span class="line">  <span class="token punctuation">}</span></span>\n<span class="line">  <span class="token keyword">let</span> remotePath <span class="token operator">=</span> <span class="token string">&#39;/aarm.zip&#39;</span></span>\n<span class="line">  <span class="token keyword">let</span> fileName <span class="token operator">=</span> <span class="token string">&#39;aarm.zip&#39;</span></span>\n<span class="line">  <span class="token keyword">let</span> localPath <span class="token operator">=</span> <span class="token string">&#39;D:\\\\test\\\\b&#39;</span> <span class="token comment">// 下载保存的本地目录，移动端不需要</span></span>\n<span class="line">  <span class="token keyword">try</span> <span class="token punctuation">{</span></span>\n<span class="line">    <span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token keyword">await</span> File<span class="token punctuation">.</span><span class="token function">downloadFile</span><span class="token punctuation">(</span>remotePath<span class="token punctuation">,</span> localPath<span class="token punctuation">,</span> serviceName<span class="token punctuation">,</span> fileName<span class="token punctuation">)</span></span>\n<span class="line">    <span class="token comment">// 下载成功信息</span></span>\n<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;文件下载：&#39;</span> <span class="token operator">+</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">)</span></span>\n<span class="line">  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>\n<span class="line">    <span class="token comment">// 下载错误信息</span></span>\n<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">)</span></span>\n<span class="line">  <span class="token punctuation">}</span></span>\n<span class="line"><span class="token punctuation">}</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>文件下载成功返回结果</strong></p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json" data-title="json"><pre><code><span class="line"><span class="token punctuation">{</span></span>\n<span class="line">  <span class="token property">&quot;downloadFile&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>\n<span class="line">  <span class="token property">&quot;filePath&quot;</span><span class="token operator">:</span> <span class="token string">&quot;file:///storage/emulated/0/Android/data/cn.com.agree.sdk.runtime.ext/files/download/20211009/aarm.zip&quot;</span></span>\n<span class="line"><span class="token punctuation">}</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>参数列表:</li></ul><table><thead><tr><th>参数</th><th>类型</th><th>必填参数</th><th>说明</th></tr></thead><tbody><tr><td>remotePath</td><td>string</td><td>√</td><td>服务端文件地址</td></tr><tr><td>localPath</td><td>string</td><td>√</td><td>本地文件地址(移动端不起作用)</td></tr><tr><td>fileName</td><td>string</td><td>√</td><td>文件名称</td></tr><tr><td>serviceName</td><td>string</td><td>√</td><td>服务端名称 (移动端需传完整的 url)</td></tr></tbody></table><ul><li>返回值: <code>Object</code></li></ul><table><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>downloadFile</td><td>boolean</td><td>是否下载成功</td></tr><tr><td>filePath</td><td>string</td><td>下载后文件存储路径</td></tr></tbody></table>',8)),(0,t.Lk)("blockquote",null,[(0,t.bF)(a,{color:"green",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[61]||(s[61]=[(0,t.eW)("对应移动原 SDK: api-file-transfer-1.0.1-2: AgreeSDK.ft.downloadFile() ")]))),_:1})]),s[138]||(s[138]=(0,t.Lk)("hr",null,null,-1)),s[139]||(s[139]=(0,t.Lk)("h3",{id:"_2-13-downloadfilenormal-文件下载标准接口",tabindex:"-1"},[(0,t.Lk)("a",{class:"header-anchor",href:"#_2-13-downloadfilenormal-文件下载标准接口"},[(0,t.Lk)("span",null,"2.13 downloadFileNormal --文件下载标准接口")])],-1)),(0,t.Lk)("blockquote",null,[(0,t.bF)(a,{color:"green",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[62]||(s[62]=[(0,t.eW)("支持移动(Android)渠道")]))),_:1})]),s[140]||(s[140]=(0,t.Fv)('<p>downloadFileNormal 和 downloadFile 接口调用的是同一个服务的接口，但是 downloadFileNormal 同时支持多种下载方式和传参方式，更强大、更灵活。</p><p><strong>文件下载调用示例</strong></p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">async</span></span>\n<span class="line"><span class="token function">downloadFileNormal</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>\n<span class="line"><span class="token punctuation">{</span></span>\n<span class="line">  <span class="token keyword">let</span> serviceName <span class="token operator">=</span> <span class="token string">&#39;/downService/downloadFile&#39;</span></span>\n<span class="line">  <span class="token comment">// android端传参</span></span>\n<span class="line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>OsManager<span class="token punctuation">.</span>android<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>\n<span class="line">    <span class="token comment">// serviceName = &quot;http://192.9.200.101:50002/downService/downloadFile&quot;;</span></span>\n<span class="line">    serviceName <span class="token operator">=</span> <span class="token string">&#39;http://192.9.200.136:59102/downloadFile?isAbsolutePath=true&amp;filePath=mp/ad/version/IDE/IDE/source/static/weather/207.png&#39;</span></span>\n<span class="line">  <span class="token punctuation">}</span></span>\n<span class="line">  <span class="token keyword">let</span> remotePath <span class="token operator">=</span> <span class="token string">&#39;/aarm.zip&#39;</span></span>\n<span class="line">  <span class="token keyword">let</span> fileName <span class="token operator">=</span> <span class="token string">&#39;aarm.zip&#39;</span></span>\n<span class="line">  <span class="token keyword">let</span> localPath <span class="token operator">=</span> <span class="token string">&#39;image/2021&#39;</span> <span class="token comment">// 下载保存的本地目录，移动端传沙箱内的相对路径，/appId/files/下路径</span></span>\n<span class="line">  <span class="token keyword">let</span> isAbsolutePath <span class="token operator">=</span> <span class="token boolean">false</span></span>\n<span class="line">  <span class="token keyword">let</span> params <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span>\n<span class="line">  <span class="token keyword">let</span> headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span>\n<span class="line">  <span class="token keyword">try</span> <span class="token punctuation">{</span></span>\n<span class="line">    <span class="token comment">// 完整的下载参数</span></span>\n<span class="line">    <span class="token comment">// let res = await File.downloadFileNormal(serviceName, localPath, fileName, remotePath, isAbsolutePath, params, headers);</span></span>\n<span class="line">    <span class="token comment">// 通过url下载文件，文件名是url结尾的文件命名，并指定保存路径</span></span>\n<span class="line">    <span class="token comment">//let res = await File.downloadFileNormal(serviceName, localPath);</span></span>\n<span class="line">    <span class="token comment">// 通过url下载文件，文件名是url结尾的文件命名，保存路径是默认的download/日期下</span></span>\n<span class="line">    <span class="token comment">// let res = await File.downloadFileNormal(serviceName);</span></span>\n<span class="line">    <span class="token comment">// 通过url下载文件，并保存自定义相对路径，并重命名下载文件的名称</span></span>\n<span class="line">    <span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token keyword">await</span> File<span class="token punctuation">.</span><span class="token function">downloadFileNormal</span><span class="token punctuation">(</span>serviceName<span class="token punctuation">,</span> localPath<span class="token punctuation">,</span> fileName<span class="token punctuation">)</span></span>\n<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;通过url下载：&#39;</span> <span class="token operator">+</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">)</span></span>\n<span class="line">  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>\n<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">)</span></span>\n<span class="line">  <span class="token punctuation">}</span></span>\n<span class="line"><span class="token punctuation">}</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>文件下载成功返回结果</strong></p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json" data-title="json"><pre><code><span class="line"><span class="token punctuation">{</span></span>\n<span class="line">  <span class="token property">&quot;downloadFile&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>\n<span class="line">  <span class="token property">&quot;filePath&quot;</span><span class="token operator">:</span> <span class="token string">&quot;file:///storage/emulated/0/Android/data/cn.com.agree.sdk.runtime.ext/files/download/20211009/aarm.zip&quot;</span></span>\n<span class="line"><span class="token punctuation">}</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>参数列表:</li></ul><table><thead><tr><th>参数</th><th>类型</th><th>必填参数</th><th>说明</th></tr></thead><tbody><tr><td>serviceName</td><td>string</td><td>√</td><td>服务端名称 (移动端需传完整的 url)</td></tr><tr><td>localPath</td><td>string</td><td>X</td><td>本地文件地址</td></tr><tr><td>fileName</td><td>string</td><td>X</td><td>文件名称</td></tr><tr><td>remotePath</td><td>string</td><td>X</td><td>服务端文件地址</td></tr><tr><td>isAbsolutePath</td><td>boolean</td><td>X</td><td>是否是绝对路径</td></tr><tr><td>params</td><td>object</td><td>X</td><td>其他参数</td></tr><tr><td>headers</td><td>object</td><td>X</td><td>请求头</td></tr></tbody></table><ul><li>返回值: <code>Object</code></li></ul><table><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>downloadFile</td><td>boolean</td><td>是否下载成功</td></tr><tr><td>filePath</td><td>string</td><td>下载后文件存储路径</td></tr></tbody></table><h3 id="_2-14-getclientfileassavepath-柜面自有-获取客户端打开文件路径" tabindex="-1"><a class="header-anchor" href="#_2-14-getclientfileassavepath-柜面自有-获取客户端打开文件路径"><span>2.14 getClientFileAsSavePath --柜面自有:获取客户端打开文件路径</span></a></h3>',10)),(0,t.Lk)("blockquote",null,[(0,t.bF)(a,{color:"green",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[63]||(s[63]=[(0,t.eW)("支持移动渠道")]))),_:1}),s[65]||(s[65]=(0,t.eW)(" > ")),(0,t.bF)(a,{color:"red",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[64]||(s[64]=[(0,t.eW)("支持柜面渠道")]))),_:1})]),s[141]||(s[141]=(0,t.Fv)('<div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">let</span> fileTypesList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;*.jpeg&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;*.txt&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;*.doc&#39;</span><span class="token punctuation">]</span></span>\n<span class="line"><span class="token keyword">let</span> behavior <span class="token operator">=</span> <span class="token string">&#39;open&#39;</span></span>\n<span class="line"><span class="token keyword">let</span> fileName <span class="token operator">=</span> <span class="token string">&#39;test.txt&#39;</span></span>\n<span class="line"><span class="token keyword">let</span> filterPath <span class="token operator">=</span> <span class="token string">&#39;D://&#39;</span></span>\n<span class="line"><span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token keyword">await</span> File<span class="token punctuation">.</span><span class="token function">getClientFileAsSavePath</span><span class="token punctuation">(</span>fileTypesList<span class="token punctuation">,</span> behavior<span class="token punctuation">,</span> fileName<span class="token punctuation">,</span> filterPath<span class="token punctuation">)</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>参数列表:</li></ul><table><thead><tr><th>参数</th><th>类型</th><th>必填参数</th><th>说明</th></tr></thead><tbody><tr><td>fileTypesList</td><td>list</td><td>√</td><td>支持打开文件的类型 默认不传值可以打开全部类型文件</td></tr><tr><td>behavior</td><td>string</td><td>√</td><td>模态对话框打开样式 默认为 open</td></tr><tr><td>fileName</td><td>string</td><td>√</td><td>文件名称</td></tr><tr><td>filterPath</td><td>string</td><td>√</td><td>文件路径</td></tr></tbody></table><ul><li>返回值: <code>Object</code></li></ul><table><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>res.path</td><td>string</td><td>路径结果</td></tr></tbody></table><hr><h3 id="_2-15-listtoexcel-柜面自有-导出表格" tabindex="-1"><a class="header-anchor" href="#_2-15-listtoexcel-柜面自有-导出表格"><span>2.15 listToExcel -- 柜面自有：导出表格</span></a></h3>',7)),(0,t.Lk)("blockquote",null,[(0,t.bF)(a,{color:"red",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[66]||(s[66]=[(0,t.eW)("支持柜面渠道")]))),_:1})]),s[142]||(s[142]=(0,t.Fv)('<div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">let</span> data <span class="token operator">=</span> <span class="token punctuation">[</span></span>\n<span class="line">  <span class="token punctuation">[</span><span class="token string">&#39;1&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;name&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;sexual&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;age&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>\n<span class="line">  <span class="token punctuation">[</span><span class="token string">&#39;2&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;huangguan&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;male&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;30&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>\n<span class="line">  <span class="token punctuation">[</span><span class="token string">&#39;3&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;liudexin&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;male&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;29&#39;</span><span class="token punctuation">]</span></span>\n<span class="line"><span class="token punctuation">]</span></span>\n<span class="line"><span class="token keyword">let</span> excelFilePath <span class="token operator">=</span> <span class="token string">&#39;D://test.xls&#39;</span></span>\n<span class="line"><span class="token keyword">let</span> head <span class="token operator">=</span> <span class="token string">&#39;&#39;</span></span>\n<span class="line"><span class="token keyword">let</span> sheetName <span class="token operator">=</span> <span class="token string">&#39;sheet1&#39;</span></span>\n<span class="line"><span class="token keyword">let</span> fontSize <span class="token operator">=</span> <span class="token number">10</span></span>\n<span class="line"><span class="token keyword">let</span> fontName <span class="token operator">=</span> <span class="token string">&#39;宋体&#39;</span></span>\n<span class="line"><span class="token keyword">let</span> FontColor <span class="token operator">=</span> <span class="token string">&#39;black&#39;</span></span>\n<span class="line"><span class="token keyword">let</span> backgroundColor <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span></span>\n<span class="line"><span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token keyword">await</span> File<span class="token punctuation">.</span><span class="token function">listToExcel</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> excelFilePath<span class="token punctuation">,</span> head<span class="token punctuation">,</span> sheetName<span class="token punctuation">,</span> fontSize<span class="token punctuation">,</span> fontName<span class="token punctuation">,</span> FontColor<span class="token punctuation">,</span> backgroundColor<span class="token punctuation">)</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>参数列表:</li></ul><table><thead><tr><th>参数</th><th>类型</th><th>必填参数</th><th>说明</th></tr></thead><tbody><tr><td>data</td><td>list</td><td>√</td><td>list 格式 data</td></tr><tr><td>excelFilePath</td><td>string</td><td>√</td><td>excel 导出文件路径</td></tr><tr><td>head</td><td>string</td><td>√</td><td>头部</td></tr><tr><td>sheetName</td><td>string</td><td>x</td><td>内部 sheet 名称,非必输</td></tr><tr><td>fontSize</td><td>number</td><td>x</td><td>字体大小,非必输</td></tr><tr><td>fontName</td><td>string</td><td>x</td><td>字体名称,非必输</td></tr><tr><td>FontColor</td><td>string</td><td>x</td><td>FontColor,非必输</td></tr><tr><td>backgroundColor</td><td>string</td><td>x</td><td>背景颜色,非必输</td></tr></tbody></table><ul><li>返回值: ``</li></ul><table><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>res.result</td><td>string</td><td>&quot;true&quot;:成功</td></tr></tbody></table><hr><h3 id="_2-16-pdftotxt-pdf-转-txt" tabindex="-1"><a class="header-anchor" href="#_2-16-pdftotxt-pdf-转-txt"><span>2.16 pdfToTxt -- pdf 转 txt</span></a></h3>',7)),(0,t.Lk)("blockquote",null,[(0,t.bF)(a,{color:"red",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[67]||(s[67]=[(0,t.eW)("支持柜面渠道")]))),_:1})]),s[143]||(s[143]=(0,t.Fv)('<div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">let</span> pdfPath <span class="token operator">=</span> <span class="token string">&#39;D:\\\\dq\\\\hg.pdf&#39;</span></span>\n<span class="line"><span class="token keyword">let</span> txtPath <span class="token operator">=</span> <span class="token string">&#39;D:\\\\dq\\\\hg.txt&#39;</span></span>\n<span class="line"><span class="token keyword">let</span> encoding <span class="token operator">=</span> <span class="token string">&#39;UTF-8&#39;</span></span>\n<span class="line"><span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token keyword">await</span> File<span class="token punctuation">.</span><span class="token function">pdfToTxt</span><span class="token punctuation">(</span>pdfPath<span class="token punctuation">,</span> txtPath<span class="token punctuation">,</span> encoding<span class="token punctuation">)</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>参数列表:</li></ul><table><thead><tr><th>参数</th><th>类型</th><th>必填参数</th><th>说明</th></tr></thead><tbody><tr><td>pdfPath</td><td>string</td><td>√</td><td>pdf 文件绝对路径</td></tr><tr><td>txtPath</td><td>string</td><td>√</td><td>txt 文件绝对路径</td></tr><tr><td>encoding</td><td>string</td><td>√</td><td>编码，默认为 UTF-8</td></tr></tbody></table><ul><li>返回值: <code>Object</code></li></ul><table><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>res.result</td><td>string</td><td>&quot;true&quot;:成功</td></tr></tbody></table><hr><h3 id="_2-17-readclientexcel-读取客户端-excel" tabindex="-1"><a class="header-anchor" href="#_2-17-readclientexcel-读取客户端-excel"><span>2.17 readClientExcel -- 读取客户端 excel</span></a></h3>',7)),(0,t.Lk)("blockquote",null,[(0,t.bF)(a,{color:"red",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[68]||(s[68]=[(0,t.eW)("支持柜面渠道")]))),_:1})]),s[144]||(s[144]=(0,t.Fv)('<div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">let</span> excelPath <span class="token operator">=</span> <span class="token string">&#39;C:/a.xls&#39;</span></span>\n<span class="line"><span class="token keyword">let</span> index <span class="token operator">=</span> <span class="token number">1</span></span>\n<span class="line"><span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token keyword">await</span> File<span class="token punctuation">.</span><span class="token function">readClientExcel</span><span class="token punctuation">(</span>excelPath<span class="token punctuation">,</span> index<span class="token punctuation">)</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>参数列表:</li></ul><table><thead><tr><th>参数</th><th>类型</th><th>必填参数</th><th>说明</th></tr></thead><tbody><tr><td>excelPath</td><td>string</td><td>√</td><td>excel 文件绝对路径</td></tr><tr><td>index</td><td>number</td><td>√</td><td>sheet index(例:index=1 从 1 开始)</td></tr></tbody></table><ul><li>返回值: ``</li></ul><table><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>res.result</td><td>string</td><td>&quot;true&quot;:成功</td></tr></tbody></table><hr><h3 id="_2-18-readclientfilebase64-读取客户端文件-返回-base64-字符串" tabindex="-1"><a class="header-anchor" href="#_2-18-readclientfilebase64-读取客户端文件-返回-base64-字符串"><span>2.18 readClientFileBase64 -- 读取客户端文件，返回 base64 字符串</span></a></h3>',7)),(0,t.Lk)("blockquote",null,[(0,t.bF)(a,{color:"green",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[69]||(s[69]=[(0,t.eW)("支持移动(Android/iOS)渠道")]))),_:1}),s[71]||(s[71]=(0,t.eW)(" > ")),(0,t.bF)(a,{color:"red",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[70]||(s[70]=[(0,t.eW)("支持柜面渠道")]))),_:1})]),s[145]||(s[145]=(0,t.Fv)('<div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">let</span> filePath <span class="token operator">=</span> <span class="token string">&#39;C:/test.log&#39;</span></span>\n<span class="line"><span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token keyword">await</span> File<span class="token punctuation">.</span><span class="token function">readClientFileBase64</span><span class="token punctuation">(</span>filePath<span class="token punctuation">)</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>参数列表:</li></ul><table><thead><tr><th>参数</th><th>类型</th><th>必填参数</th><th>说明</th></tr></thead><tbody><tr><td>filePath</td><td>string</td><td>√</td><td>文件路径</td></tr></tbody></table><ul><li>返回值: <code>Object</code></li></ul><table><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>res.Base64Str</td><td>string</td><td>例&quot;MjEzMzMzMzMzMzMz&quot;(base64 字符串)</td></tr></tbody></table>',5)),(0,t.Lk)("blockquote",null,[(0,t.bF)(a,{color:"green",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[72]||(s[72]=[(0,t.eW)("对应移动(Android/iOS)原 SDK: AgreeSDK.file.fileToBase64")]))),_:1})]),s[146]||(s[146]=(0,t.Lk)("hr",null,null,-1)),s[147]||(s[147]=(0,t.Lk)("h3",{id:"_2-19-uploadfile-上传文件",tabindex:"-1"},[(0,t.Lk)("a",{class:"header-anchor",href:"#_2-19-uploadfile-上传文件"},[(0,t.Lk)("span",null,"2.19 uploadFile -- 上传文件")])],-1)),(0,t.Lk)("blockquote",null,[(0,t.bF)(a,{color:"green",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[73]||(s[73]=[(0,t.eW)("支持移动(Android)渠道")]))),_:1}),s[75]||(s[75]=(0,t.eW)(" > ")),(0,t.bF)(a,{color:"red",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[74]||(s[74]=[(0,t.eW)("支持柜面渠道")]))),_:1}),s[76]||(s[76]=(0,t.Lk)("p",null,"目前新版 ABS 支持两种上传方式，之前支持的是通过将参数拼接到 url 上进行上传，后来新增了表单形式的文件上传。 推荐使用表单形式。",-1))]),s[148]||(s[148]=(0,t.Fv)('<p><strong>1、url 拼接参数上传(不推荐)</strong></p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">let</span> localPath <span class="token operator">=</span> <span class="token string">&#39;file:///storage/emulated/0/download/demo.jpg&#39;</span></span>\n<span class="line"><span class="token keyword">let</span> remotePath <span class="token operator">=</span> <span class="token string">&#39;/home/pad/abs/workspace&#39;</span></span>\n<span class="line"><span class="token keyword">let</span> url <span class="token operator">=</span> <span class="token string">&#39;http://192.9.200.101:51002/upService/uploadFile&#39;</span></span>\n<span class="line"><span class="token comment">// url形式传参-老版功能支持</span></span>\n<span class="line"><span class="token keyword">let</span> urlOptions <span class="token operator">=</span> <span class="token punctuation">{</span></span>\n<span class="line">  <span class="token comment">// 自定义参数，移动端支持，柜面不支持，可不传</span></span>\n<span class="line">  <span class="token literal-property property">params</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>\n<span class="line">    <span class="token comment">// url形式上传需要将参数拼接到params上</span></span>\n<span class="line">    <span class="token literal-property property">isAbsolutePath</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 是否是绝对路径</span></span>\n<span class="line">    <span class="token literal-property property">override</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 是否覆盖原文件</span></span>\n<span class="line">    <span class="token literal-property property">filePath</span><span class="token operator">:</span> <span class="token string">&#39;/home/pad/abs/workspace&#39;</span> <span class="token comment">// 服务端保存的地址</span></span>\n<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// 自定义参数</span></span>\n<span class="line">  <span class="token literal-property property">headers</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">//自定义请求头</span></span>\n<span class="line"><span class="token punctuation">}</span></span>\n<span class="line"><span class="token keyword">try</span> <span class="token punctuation">{</span></span>\n<span class="line">  <span class="token comment">// 柜面端的options参数不生效，只有移动端有效</span></span>\n<span class="line">  <span class="token keyword">let</span> ret <span class="token operator">=</span> <span class="token keyword">await</span> File<span class="token punctuation">.</span><span class="token function">uploadFile</span><span class="token punctuation">(</span>localPath<span class="token punctuation">,</span> remotePath<span class="token punctuation">,</span> url<span class="token punctuation">,</span> options<span class="token punctuation">)</span></span>\n<span class="line">  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ret<span class="token punctuation">)</span></span>\n<span class="line"><span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>\n<span class="line">  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span></span>\n<span class="line"><span class="token punctuation">}</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>2、表单形式文件上传(推荐使用)</strong></p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token comment">// 1、表单形式，推荐使用</span></span>\n<span class="line"><span class="token keyword">let</span> url <span class="token operator">=</span> <span class="token string">&#39;http://192.9.200.101:51002/upService/uploadFileForm&#39;</span></span>\n<span class="line"><span class="token keyword">let</span> localPath <span class="token operator">=</span> <span class="token string">&#39;file:///storage/emulated/0/download/demo.jpg&#39;</span></span>\n<span class="line"><span class="token keyword">let</span> remotePath <span class="token operator">=</span> <span class="token string">&#39;/home/pad/abs/workspace&#39;</span></span>\n<span class="line"><span class="token comment">// 表单形式传参-新版abs支持，推荐</span></span>\n<span class="line"><span class="token keyword">let</span> options <span class="token operator">=</span> <span class="token punctuation">{</span></span>\n<span class="line">  <span class="token comment">// 自定义参数，移动端支持，柜面不支持，可不传</span></span>\n<span class="line">  <span class="token literal-property property">isAbsolutePath</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 是否绝对路径</span></span>\n<span class="line">  <span class="token literal-property property">override</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 是否覆盖已存在文件</span></span>\n<span class="line">  <span class="token literal-property property">params</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// 自定义参数</span></span>\n<span class="line">  <span class="token literal-property property">headers</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">//自定义请求头</span></span>\n<span class="line"><span class="token punctuation">}</span></span>\n<span class="line"><span class="token keyword">try</span> <span class="token punctuation">{</span></span>\n<span class="line">  <span class="token comment">// 柜面端的options参数不生效，只有移动端有效</span></span>\n<span class="line">  <span class="token keyword">let</span> ret <span class="token operator">=</span> <span class="token keyword">await</span> File<span class="token punctuation">.</span><span class="token function">uploadFile</span><span class="token punctuation">(</span>localPath<span class="token punctuation">,</span> remotePath<span class="token punctuation">,</span> url<span class="token punctuation">,</span> options<span class="token punctuation">)</span></span>\n<span class="line">  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ret<span class="token punctuation">)</span></span>\n<span class="line"><span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>\n<span class="line">  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span></span>\n<span class="line"><span class="token punctuation">}</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>成功返回结果：</p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json" data-title="json"><pre><code><span class="line"><span class="token punctuation">{</span></span>\n<span class="line">  <span class="token property">&quot;res&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>\n<span class="line">    <span class="token property">&quot;ResponseResult&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>\n<span class="line">      <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;000000&quot;</span><span class="token punctuation">,</span></span>\n<span class="line">      <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;文件上传成功！文件名:demo.jpg,文件类型:multipart/form-data,文件大小:35406 Bytes&quot;</span></span>\n<span class="line">    <span class="token punctuation">}</span></span>\n<span class="line">  <span class="token punctuation">}</span></span>\n<span class="line"><span class="token punctuation">}</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>失败返回结果：</p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json" data-title="json"><pre><code><span class="line"><span class="token punctuation">{</span></span>\n<span class="line">  <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-1&quot;</span><span class="token punctuation">,</span></span>\n<span class="line">  <span class="token property">&quot;message&quot;</span><span class="token operator">:</span> <span class="token string">&quot;java.net.ConnectException: Failed to connect to /192.9.200.101:50002&quot;</span></span>\n<span class="line"><span class="token punctuation">}</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>参数列表:</li></ul><table><thead><tr><th>参数</th><th>类型</th><th>必填参数</th><th>说明</th></tr></thead><tbody><tr><td>localPath</td><td>string</td><td>√</td><td>本地文件路径</td></tr><tr><td>remotePath</td><td>string</td><td>√</td><td>保存到服务端路径</td></tr><tr><td>serviceName</td><td>string</td><td>√</td><td>服务器接口地址</td></tr><tr><td>options</td><td>object</td><td>X</td><td>自定义参数（目前仅移动渠道需要）</td></tr></tbody></table><ul><li>Options 参数列表:</li></ul><table><thead><tr><th>参数</th><th>类型</th><th>必填参数</th><th>说明</th></tr></thead><tbody><tr><td>isAbsolutePath</td><td>boolean</td><td>X</td><td>是否保存到绝对路径，默认 true（仅移动渠道需要）</td></tr><tr><td>override</td><td>boolean</td><td>X</td><td>是否覆盖已有文件，默认 true（仅移动渠道需要）</td></tr><tr><td>params</td><td>object</td><td>X</td><td>自定义额外参数，选填，如果是 url 传参方式接口，则需要使用该参数，默认{}</td></tr><tr><td>headers</td><td>object</td><td>X</td><td>自定义请求头，选填, 默认{}</td></tr></tbody></table><ul><li>返回值: <code>Object</code></li></ul><table><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>res.result</td><td>string</td><td>是否更新成功</td></tr></tbody></table>',14)),(0,t.Lk)("blockquote",null,[(0,t.bF)(a,{color:"green",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[77]||(s[77]=[(0,t.eW)("对应移动(Android)原 SDK: AgreeSDK.ft.uploadFile")]))),_:1})]),s[149]||(s[149]=(0,t.Lk)("hr",null,null,-1)),s[150]||(s[150]=(0,t.Lk)("h3",{id:"_2-20-wordtotxt-word-转-txt",tabindex:"-1"},[(0,t.Lk)("a",{class:"header-anchor",href:"#_2-20-wordtotxt-word-转-txt"},[(0,t.Lk)("span",null,"2.20 wordToTxt -- word 转 txt")])],-1)),(0,t.Lk)("blockquote",null,[(0,t.bF)(a,{color:"red",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[78]||(s[78]=[(0,t.eW)("支持柜面渠道")]))),_:1})]),s[151]||(s[151]=(0,t.Fv)('<div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">let</span> wordPath <span class="token operator">=</span> <span class="token string">&#39;D:\\\\dq\\\\hg.doc&#39;</span></span>\n<span class="line"><span class="token keyword">let</span> txtPath <span class="token operator">=</span> <span class="token string">&#39;D:\\\\dq\\\\hg.txt&#39;</span></span>\n<span class="line"><span class="token keyword">let</span> encoding <span class="token operator">=</span> <span class="token string">&#39;UTF-8&#39;</span></span>\n<span class="line"><span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token keyword">await</span> File<span class="token punctuation">.</span><span class="token function">wordToTxt</span><span class="token punctuation">(</span>wordPath<span class="token punctuation">,</span> txtPath<span class="token punctuation">,</span> encoding<span class="token punctuation">)</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>参数列表:</li></ul><table><thead><tr><th>参数</th><th>类型</th><th>必填参数</th><th>说明</th></tr></thead><tbody><tr><td>wordPath</td><td>string</td><td>√</td><td>word 文件绝对路径</td></tr><tr><td>txtPath</td><td>string</td><td>√</td><td>txt 文件绝对路径</td></tr><tr><td>encoding</td><td>string</td><td>√</td><td>编码，默认为 UTF-8</td></tr></tbody></table><ul><li>返回值: <code>Object</code></li></ul><table><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>res.result</td><td>string</td><td>文本内容</td></tr></tbody></table><hr><h3 id="_2-21-writeclientfile-写客户端文件" tabindex="-1"><a class="header-anchor" href="#_2-21-writeclientfile-写客户端文件"><span>2.21 writeClientFile -- 写客户端文件</span></a></h3>',7)),(0,t.Lk)("blockquote",null,[(0,t.bF)(a,{color:"green",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[79]||(s[79]=[(0,t.eW)("支持移动(Android/iOS)渠道")]))),_:1}),s[81]||(s[81]=(0,t.eW)(" > ")),(0,t.bF)(a,{color:"red",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[80]||(s[80]=[(0,t.eW)("支持柜面渠道")]))),_:1})]),s[152]||(s[152]=(0,t.Fv)('<div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">let</span> filePath <span class="token operator">=</span> <span class="token string">&#39;D:\\\\dq\\\\hg.doc&#39;</span></span>\n<span class="line"><span class="token keyword">let</span> content <span class="token operator">=</span> <span class="token string">&#39;hello&#39;</span></span>\n<span class="line"><span class="token keyword">let</span> append <span class="token operator">=</span> <span class="token string">&#39;true&#39;</span></span>\n<span class="line"><span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token keyword">await</span> File<span class="token punctuation">.</span><span class="token function">writeClientFile</span><span class="token punctuation">(</span>filePath<span class="token punctuation">,</span> content<span class="token punctuation">,</span> append<span class="token punctuation">)</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>参数列表:</li></ul><table><thead><tr><th>参数</th><th>类型</th><th>必填参数</th><th>说明</th></tr></thead><tbody><tr><td>filePath</td><td>string</td><td>√</td><td>文件路径</td></tr><tr><td>content</td><td>string</td><td>√</td><td>写入文件的内容</td></tr><tr><td>append</td><td>string</td><td>√</td><td>是否追加写入</td></tr><tr><td>encoding</td><td>string</td><td>-</td><td>编码格式</td></tr></tbody></table><ul><li>返回值: <code>Object</code></li></ul><table><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>res.clientFileWrite</td><td>boolean</td><td>写入结果</td></tr></tbody></table>',5)),(0,t.Lk)("blockquote",null,[(0,t.bF)(a,{color:"green",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[82]||(s[82]=[(0,t.eW)("对应移动(Android/iOS)原 SDK: AgreeSDK.file.createFile()")]))),_:1})]),s[153]||(s[153]=(0,t.Lk)("hr",null,null,-1)),s[154]||(s[154]=(0,t.Lk)("h3",{id:"_2-22-clientfilecopy-复制客户端文件",tabindex:"-1"},[(0,t.Lk)("a",{class:"header-anchor",href:"#_2-22-clientfilecopy-复制客户端文件"},[(0,t.Lk)("span",null,"2.22 clientFileCopy -- 复制客户端文件")])],-1)),(0,t.Lk)("blockquote",null,[(0,t.bF)(a,{color:"green",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[83]||(s[83]=[(0,t.eW)("支持移动(Android/iOS)渠道")]))),_:1}),s[85]||(s[85]=(0,t.eW)(" > ")),(0,t.bF)(a,{color:"red",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[84]||(s[84]=[(0,t.eW)("支持柜面渠道")]))),_:1})]),s[155]||(s[155]=(0,t.Fv)('<div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">let</span> sourceFile <span class="token operator">=</span> <span class="token string">&#39;D:\\\\dq\\\\hg.doc&#39;</span></span>\n<span class="line"><span class="token keyword">let</span> destinationFile <span class="token operator">=</span> <span class="token string">&#39;D:\\\\dq\\\\test.doc&#39;</span></span>\n<span class="line"><span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token keyword">await</span> File<span class="token punctuation">.</span><span class="token function">clientFileCopy</span><span class="token punctuation">(</span>sourceFile<span class="token punctuation">,</span> destinationFile<span class="token punctuation">)</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>参数列表:</li></ul><table><thead><tr><th>参数</th><th>类型</th><th>必填参数</th><th>说明</th></tr></thead><tbody><tr><td>sourceFile</td><td>string</td><td>√</td><td>原文件全路径</td></tr><tr><td>destinationFile</td><td>string</td><td>√</td><td>文件全路径</td></tr></tbody></table><ul><li>返回值: <code>Object</code></li></ul><table><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>res.result</td><td>string</td><td>复制结果(&quot;true&quot;:成功;&quot;false&quot;:失败)</td></tr></tbody></table>',5)),(0,t.Lk)("blockquote",null,[(0,t.bF)(a,{color:"green",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[86]||(s[86]=[(0,t.eW)("对应移动(Android/iOS)原 SDK: AgreeSDK.file.copyFile() ")]))),_:1})]),s[156]||(s[156]=(0,t.Lk)("hr",null,null,-1)),s[157]||(s[157]=(0,t.Lk)("h3",{id:"_2-23-文件断点下载",tabindex:"-1"},[(0,t.Lk)("a",{class:"header-anchor",href:"#_2-23-文件断点下载"},[(0,t.Lk)("span",null,"2.23 文件断点下载")])],-1)),(0,t.Lk)("blockquote",null,[(0,t.bF)(a,{color:"green",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[87]||(s[87]=[(0,t.eW)("支持移动(Android)渠道")]))),_:1})]),s[158]||(s[158]=(0,t.Fv)('<p><strong>创建下载器</strong></p><p><code>File.createDownloader</code></p><p>创建下载器会初始化入参，当下载成功后，会返回下载文件信息。</p><p><strong>示例</strong></p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token comment">// 断点下载方法，目前仅android支持</span></span>\n<span class="line"><span class="token keyword">async</span></span>\n<span class="line"><span class="token function">createDownloader</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>\n<span class="line"><span class="token punctuation">{</span></span>\n<span class="line">  <span class="token keyword">let</span> url <span class="token operator">=</span> <span class="token string">&#39;http://192.9.200.101:50002/downService/downloadFile&#39;</span></span>\n<span class="line">  <span class="token keyword">let</span> fileName <span class="token operator">=</span> <span class="token string">&#39;aarm.zip&#39;</span></span>\n<span class="line">  <span class="token keyword">let</span> filePath <span class="token operator">=</span> <span class="token string">&#39;/aarm.zip&#39;</span></span>\n<span class="line">  <span class="token keyword">let</span> priority <span class="token operator">=</span> <span class="token number">1</span> <span class="token comment">// 优先级</span></span>\n<span class="line">  <span class="token keyword">let</span> poolSize <span class="token operator">=</span> <span class="token number">3</span> <span class="token comment">// 同时下载的任务数</span></span>\n<span class="line">  <span class="token keyword">this</span><span class="token punctuation">.</span>tag <span class="token operator">=</span> url <span class="token operator">+</span> filePath <span class="token comment">// tag是每一个下载任务的唯一标志</span></span>\n<span class="line">  <span class="token keyword">let</span> params <span class="token operator">=</span> <span class="token punctuation">{</span></span>\n<span class="line">    <span class="token literal-property property">isBreakpoint</span><span class="token operator">:</span> <span class="token string">&#39;true&#39;</span><span class="token punctuation">,</span></span>\n<span class="line">    <span class="token literal-property property">isAbsolutePath</span><span class="token operator">:</span> <span class="token string">&#39;false&#39;</span><span class="token punctuation">,</span></span>\n<span class="line">    filePath</span>\n<span class="line">  <span class="token punctuation">}</span></span>\n<span class="line">  <span class="token keyword">let</span> headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span>\n<span class="line">  <span class="token keyword">try</span> <span class="token punctuation">{</span></span>\n<span class="line">    <span class="token keyword">let</span> ret <span class="token operator">=</span> <span class="token keyword">await</span> File<span class="token punctuation">.</span><span class="token function">createDownloader</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> priority<span class="token punctuation">,</span> poolSize<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>tag<span class="token punctuation">,</span> fileName<span class="token punctuation">,</span> headers<span class="token punctuation">,</span> params<span class="token punctuation">)</span></span>\n<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;下载返回:&#39;</span> <span class="token operator">+</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>ret<span class="token punctuation">)</span><span class="token punctuation">)</span></span>\n<span class="line">  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>\n<span class="line">    console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">)</span></span>\n<span class="line">  <span class="token punctuation">}</span></span>\n<span class="line"><span class="token punctuation">}</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>下载完成返回结果：</p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json" data-title="json"><pre><code><span class="line"><span class="token punctuation">{</span></span>\n<span class="line">  <span class="token property">&quot;path&quot;</span><span class="token operator">:</span> <span class="token string">&quot;file:///storage/emulated/0/Android/data/cn.com.agree.sdk.runtime.ext/files/download/20211011/aarm.zip&quot;</span><span class="token punctuation">,</span></span>\n<span class="line">  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;aarm.zip&quot;</span><span class="token punctuation">,</span></span>\n<span class="line">  <span class="token property">&quot;downloadedSize&quot;</span><span class="token operator">:</span> <span class="token number">25485464</span><span class="token punctuation">,</span></span>\n<span class="line">  <span class="token property">&quot;totalSize&quot;</span><span class="token operator">:</span> <span class="token number">25485464</span><span class="token punctuation">,</span></span>\n<span class="line">  <span class="token property">&quot;progress&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span></span>\n<span class="line">  <span class="token property">&quot;tag&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://192.9.200.101:50002/downService/downloadFile/aarm.zip&quot;</span></span>\n<span class="line"><span class="token punctuation">}</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>参数列表:</li></ul><table><thead><tr><th>参数</th><th>类型</th><th>必填参数</th><th>说明</th></tr></thead><tbody><tr><td>url</td><td>string</td><td>√</td><td>服务器下载接口</td></tr><tr><td>priority</td><td>string</td><td>√</td><td>下载优先级</td></tr><tr><td>poolSize</td><td>string</td><td>√</td><td>线程池同时下载任务数量</td></tr><tr><td>tag</td><td>string</td><td>√</td><td>下载任务的唯一识别标识</td></tr><tr><td>fileName</td><td>string</td><td>√</td><td>下载后文件存储的名称</td></tr><tr><td>headers</td><td>object</td><td>√</td><td>请求头信息</td></tr><tr><td>params</td><td>object</td><td>√</td><td>需要传的参数</td></tr></tbody></table><p>abs 接口需要传递的参数 params 字段</p><table><thead><tr><th>参数</th><th>类型</th><th>必填参数</th><th>说明</th></tr></thead><tbody><tr><td>isBreakpoint</td><td>string</td><td>√</td><td>是否是断点下载</td></tr><tr><td>isAbsolutePath</td><td>string</td><td>√</td><td>是否是绝对路径</td></tr><tr><td>filePath</td><td>string</td><td>√</td><td>文件的路径，根据是否是绝对路径来传对应的参数</td></tr></tbody></table><ul><li>返回值: <code>Object</code></li></ul><table><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>path</td><td>string</td><td>文件下载后保存的路径</td></tr><tr><td>name</td><td>string</td><td>文件名称</td></tr><tr><td>downloadedSize</td><td>string</td><td>已下载文件大小</td></tr><tr><td>totalSize</td><td>string</td><td>文件总大小</td></tr><tr><td>progress</td><td>string</td><td>当前下载进度</td></tr><tr><td>tag</td><td>string</td><td>当前下载任务唯一标识</td></tr></tbody></table><p><strong>开始下载</strong></p><p>开始下载也就是继续下载，在开始下载之前必须先调用<code>File.createDownloader</code>接口。</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line">File<span class="token punctuation">.</span><span class="token function">startDownload</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>tag<span class="token punctuation">)</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>暂停下载</strong></p><p>暂停下载，会停止当前下载任务，本地会记录当前下载任务进度信息，如需继续下载，调用<code>File.startDownload</code>即可。</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line">File<span class="token punctuation">.</span><span class="token function">pauseDownload</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>tag<span class="token punctuation">)</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>移除下载</strong></p><p>移除当前下载任务，移除后，将不存在断点下载信息。</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line">File<span class="token punctuation">.</span><span class="token function">removeDownload</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>tag<span class="token punctuation">)</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>获取下载信息</strong></p><p>返回指定 tag 的下载任务信息，便于展示下载 UI 信息，比如初始化进度信息。</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">let</span> ret <span class="token operator">=</span> <span class="token keyword">await</span> File<span class="token punctuation">.</span><span class="token function">getDownloaderInfo</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>tag<span class="token punctuation">)</span></span>\n<span class="line">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;获取下载信息:&#39;</span> <span class="token operator">+</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>ret<span class="token punctuation">)</span><span class="token punctuation">)</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>返回结果：</p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json" data-title="json"><pre><code><span class="line"><span class="token punctuation">{</span></span>\n<span class="line">  <span class="token property">&quot;path&quot;</span><span class="token operator">:</span> <span class="token string">&quot;file:///storage/emulated/0/Android/data/cn.com.agree.sdk.runtime.ext/files/download/20211011/aarm.zip&quot;</span><span class="token punctuation">,</span></span>\n<span class="line">  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;aarm.zip&quot;</span><span class="token punctuation">,</span></span>\n<span class="line">  <span class="token property">&quot;downloadedSize&quot;</span><span class="token operator">:</span> <span class="token number">3861408</span><span class="token punctuation">,</span></span>\n<span class="line">  <span class="token property">&quot;totalSize&quot;</span><span class="token operator">:</span> <span class="token number">25485464</span><span class="token punctuation">,</span></span>\n<span class="line">  <span class="token property">&quot;progress&quot;</span><span class="token operator">:</span> <span class="token number">0.12894001603126526</span><span class="token punctuation">,</span></span>\n<span class="line">  <span class="token property">&quot;tag&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://192.9.200.101:50002/downService/downloadFile/aarm.zip&quot;</span></span>\n<span class="line"><span class="token punctuation">}</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>注册监听</strong></p><ul><li><p>onFileBreakDownloadProgress 文件断点下载的进度监听，能够返回文件下载进度和下载信息。如果前端需要动态显示下载进度，可以在该监听方法里写进度 UI 展示。</p></li><li><p>onFileBreakDownloadRemove 文件断点下载任务被移除时的监听，当调用移除下载方法时，监听会被触发。</p></li></ul><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>\n<span class="line"><span class="token punctuation">{</span></span>\n<span class="line">  <span class="token comment">// 断点下载文件进度监听</span></span>\n<span class="line">  document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span></span>\n<span class="line">    <span class="token string">&#39;onFileBreakDownloadProgress&#39;</span><span class="token punctuation">,</span></span>\n<span class="line">    <span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>\n<span class="line">      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;onFileBreakDownloadProgress==&#39;</span> <span class="token operator">+</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span></span>\n<span class="line">      <span class="token keyword">let</span> data <span class="token operator">=</span> res<span class="token punctuation">.</span>data</span>\n<span class="line">      <span class="token keyword">let</span> tag <span class="token operator">=</span> data<span class="token punctuation">.</span>tag</span>\n<span class="line">      <span class="token keyword">if</span> <span class="token punctuation">(</span>tag <span class="token operator">===</span> <span class="token string">&#39;tag1&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>\n<span class="line">        <span class="token comment">// 展示tag1进度UI</span></span>\n<span class="line">      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>tag <span class="token operator">===</span> <span class="token string">&#39;tag2&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>\n<span class="line">        <span class="token comment">// 展示tag2进度UI</span></span>\n<span class="line">      <span class="token punctuation">}</span></span>\n<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>\n<span class="line">    <span class="token boolean">false</span></span>\n<span class="line">  <span class="token punctuation">)</span></span>\n<span class="line">  <span class="token comment">// 断点下载文件移除任务监听</span></span>\n<span class="line">  document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span></span>\n<span class="line">    <span class="token string">&#39;onFileBreakDownloadRemove&#39;</span><span class="token punctuation">,</span></span>\n<span class="line">    <span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>\n<span class="line">      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;onFileBreakDownloadRemove==&#39;</span> <span class="token operator">+</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span></span>\n<span class="line">      <span class="token keyword">let</span> data <span class="token operator">=</span> res<span class="token punctuation">.</span>data</span>\n<span class="line">      <span class="token keyword">let</span> tag <span class="token operator">=</span> data<span class="token punctuation">.</span>tag</span>\n<span class="line">      <span class="token keyword">if</span> <span class="token punctuation">(</span>tag <span class="token operator">===</span> <span class="token string">&#39;tag1&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>\n<span class="line">        <span class="token comment">// 触发tag1移除监听</span></span>\n<span class="line">      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>tag <span class="token operator">===</span> <span class="token string">&#39;tag2&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>\n<span class="line">        <span class="token comment">// 触发tag2移除监听</span></span>\n<span class="line">      <span class="token punctuation">}</span></span>\n<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>\n<span class="line">    <span class="token boolean">false</span></span>\n<span class="line">  <span class="token punctuation">)</span></span>\n<span class="line"><span class="token punctuation">}</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>监听返回结果</strong></p><p>获取 res.data 的值，返回结果如下：</p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json" data-title="json"><pre><code><span class="line"><span class="token punctuation">{</span></span>\n<span class="line">  <span class="token property">&quot;path&quot;</span><span class="token operator">:</span> <span class="token string">&quot;file:///storage/emulated/0/Android/data/cn.com.agree.sdk.runtime.ext/files/download/20211011/aarm.zip&quot;</span><span class="token punctuation">,</span></span>\n<span class="line">  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;aarm.zip&quot;</span><span class="token punctuation">,</span></span>\n<span class="line">  <span class="token property">&quot;downloadedSize&quot;</span><span class="token operator">:</span> <span class="token number">3861408</span><span class="token punctuation">,</span></span>\n<span class="line">  <span class="token property">&quot;totalSize&quot;</span><span class="token operator">:</span> <span class="token number">25485464</span><span class="token punctuation">,</span></span>\n<span class="line">  <span class="token property">&quot;progress&quot;</span><span class="token operator">:</span> <span class="token number">0.12894001603126526</span><span class="token punctuation">,</span></span>\n<span class="line">  <span class="token property">&quot;tag&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://192.9.200.101:50002/downService/downloadFile/aarm.zip&quot;</span></span>\n<span class="line"><span class="token punctuation">}</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-24-获取文件-md5-getclientfilemd5" tabindex="-1"><a class="header-anchor" href="#_2-24-获取文件-md5-getclientfilemd5"><span>2.24 获取文件 MD5-getClientFileMD5</span></a></h3>',34)),(0,t.Lk)("blockquote",null,[(0,t.bF)(a,{color:"green",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[88]||(s[88]=[(0,t.eW)("支持移动(Android)渠道")]))),_:1}),s[90]||(s[90]=(0,t.eW)(" > ")),(0,t.bF)(a,{color:"red",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[89]||(s[89]=[(0,t.eW)("支持柜面渠道")]))),_:1})]),s[159]||(s[159]=(0,t.Fv)('<p>接口调用：</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line">File<span class="token punctuation">.</span><span class="token function">getClientFileMD5</span><span class="token punctuation">(</span>filePath<span class="token punctuation">,</span> resultType<span class="token punctuation">)</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>示例：</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">async</span></span>\n<span class="line"><span class="token function">getClientFileMD5</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>\n<span class="line"><span class="token punctuation">{</span></span>\n<span class="line">  <span class="token keyword">let</span> filePath <span class="token operator">=</span> <span class="token string">&#39;&#39;</span></span>\n<span class="line">  <span class="token keyword">let</span> resultType <span class="token operator">=</span> <span class="token string">&#39;MD5String&#39;</span></span>\n<span class="line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>OsManager<span class="token punctuation">.</span>android<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>\n<span class="line">    filePath <span class="token operator">=</span> <span class="token string">&#39;file:///storage/emulated/0/download/demo.jpg&#39;</span></span>\n<span class="line">  <span class="token punctuation">}</span></span>\n<span class="line">  <span class="token keyword">try</span> <span class="token punctuation">{</span></span>\n<span class="line">    <span class="token comment">// 第二个参数是返回值类型，可以返回字符串类型的MD5/字节类型的MD5/Base64类型的MD5</span></span>\n<span class="line">    <span class="token comment">// let ret = await File.getClientFileMD5(filePath, resultType);</span></span>\n<span class="line">    <span class="token comment">// 默认是返回字符串类型的md5，可以不传第二个参数</span></span>\n<span class="line">    <span class="token keyword">let</span> ret <span class="token operator">=</span> <span class="token keyword">await</span> File<span class="token punctuation">.</span><span class="token function">getClientFileMD5</span><span class="token punctuation">(</span>filePath<span class="token punctuation">)</span></span>\n<span class="line">    <span class="token comment">// 返回值： { result: &quot;f1802c81c98e3f2a3cb258be17ee989c&quot;}</span></span>\n<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;获取文件MD5:&#39;</span> <span class="token operator">+</span> ret<span class="token punctuation">.</span>result<span class="token punctuation">)</span></span>\n<span class="line">  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>\n<span class="line">    console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">)</span></span>\n<span class="line">  <span class="token punctuation">}</span></span>\n<span class="line"><span class="token punctuation">}</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>返回结果：</p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json" data-title="json"><pre><code><span class="line"><span class="token punctuation">{</span></span>\n<span class="line">  <span class="token property">&quot;result&quot;</span><span class="token operator">:</span> <span class="token string">&quot;f1802c81c98e3f2a3cb258be17ee989c&quot;</span></span>\n<span class="line"><span class="token punctuation">}</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>参数列表:</li></ul><table><thead><tr><th>参数</th><th>类型</th><th>必填参数</th><th>说明</th></tr></thead><tbody><tr><td>filePath</td><td>string</td><td>√</td><td>文件的绝对路径</td></tr><tr><td>resultType</td><td>string</td><td>X</td><td>返回值类型：MD5String(字符串类型), Md5Byte(字节类型), Md5Base64(base64 类型)</td></tr></tbody></table><ul><li>返回值: <code>Object</code></li></ul><table><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>result</td><td>string</td><td>文件的 md5 值</td></tr></tbody></table><hr><h3 id="_2-25-downgrmfiles-下载指定文件夹-aarm-资源" tabindex="-1"><a class="header-anchor" href="#_2-25-downgrmfiles-下载指定文件夹-aarm-资源"><span>2.25 downGrmFiles -- 下载指定文件夹 aarm 资源</span></a></h3>',12)),(0,t.Lk)("blockquote",null,[(0,t.bF)(a,{color:"red",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[91]||(s[91]=[(0,t.eW)("支持柜面渠道")]))),_:1})]),s[160]||(s[160]=(0,t.Fv)('<div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">let</span> relativeDirPath <span class="token operator">=</span> <span class="token string">&#39;/www/TEClient/TEClientFM/static/&#39;</span></span>\n<span class="line"><span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token keyword">await</span> File<span class="token punctuation">.</span><span class="token function">downGrmFiles</span><span class="token punctuation">(</span>relativeDirPath<span class="token punctuation">)</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>参数列表:</li></ul><table><thead><tr><th>参数</th><th>类型</th><th>必填参数</th><th>说明</th></tr></thead><tbody><tr><td>relativeDirPath</td><td>string</td><td>√</td><td>文件夹相对路径，相对于 workspace</td></tr></tbody></table><ul><li>返回值: <code>Object</code></li></ul><table><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>res.result</td><td>boolean</td><td>下载结果</td></tr></tbody></table><hr><h3 id="_2-26-readjsonfile-读取指定-json-文件返回-json-对象" tabindex="-1"><a class="header-anchor" href="#_2-26-readjsonfile-读取指定-json-文件返回-json-对象"><span>2.26 readJsonFile -- 读取指定 JSON 文件返回 JSON 对象</span></a></h3>',7)),(0,t.Lk)("blockquote",null,[(0,t.bF)(a,{color:"green",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[92]||(s[92]=[(0,t.eW)("支持移动(Android/iOS)渠道")]))),_:1}),s[94]||(s[94]=(0,t.eW)(" > ")),(0,t.bF)(a,{color:"red",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[93]||(s[93]=[(0,t.eW)("支持柜面渠道")]))),_:1})]),s[161]||(s[161]=(0,t.Fv)('<div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">let</span> path <span class="token operator">=</span> <span class="token string">&#39;D:\\\\a\\\\1.json&#39;</span></span>\n<span class="line"><span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token keyword">await</span> File<span class="token punctuation">.</span><span class="token function">readJsonFile</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>参数列表:</li></ul><table><thead><tr><th>参数</th><th>类型</th><th>必填参数</th><th>说明</th></tr></thead><tbody><tr><td>path</td><td>string</td><td>√</td><td>json 文件的绝地路径</td></tr></tbody></table><ul><li>返回值: <code>Object</code></li></ul><table><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>res.result</td><td>object</td><td>JSON 对象</td></tr></tbody></table><hr><h3 id="_2-27-readfolderlist-读取指定目录返回文件列表" tabindex="-1"><a class="header-anchor" href="#_2-27-readfolderlist-读取指定目录返回文件列表"><span>2.27 readFolderList -- 读取指定目录返回文件列表</span></a></h3>',7)),(0,t.Lk)("blockquote",null,[(0,t.bF)(a,{color:"green",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[95]||(s[95]=[(0,t.eW)("支持移动(Android/iOS)渠道")]))),_:1}),s[97]||(s[97]=(0,t.eW)(" > ")),(0,t.bF)(a,{color:"red",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[96]||(s[96]=[(0,t.eW)("支持柜面渠道")]))),_:1})]),s[162]||(s[162]=(0,t.Fv)('<div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">let</span> path <span class="token operator">=</span> <span class="token string">&#39;D:\\\\a\\\\b&#39;</span></span>\n<span class="line"><span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token keyword">await</span> File<span class="token punctuation">.</span><span class="token function">readFolderList</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>参数列表:</li></ul><table><thead><tr><th>参数</th><th>类型</th><th>必填参数</th><th>说明</th></tr></thead><tbody><tr><td>path</td><td>string</td><td>√</td><td>文件夹绝对路径</td></tr></tbody></table><ul><li>返回值: <code>Object</code></li></ul><table><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>res.result</td><td>JSONArray</td><td>文件列表</td></tr></tbody></table><hr><h3 id="_2-28-checkanddownload-判断资源是否需要更新的方法" tabindex="-1"><a class="header-anchor" href="#_2-28-checkanddownload-判断资源是否需要更新的方法"><span>2.28 CheckAndDownload -- 判断资源是否需要更新的方法</span></a></h3>',7)),(0,t.Lk)("blockquote",null,[(0,t.bF)(a,{color:"red",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[98]||(s[98]=[(0,t.eW)("支持柜面渠道（v2.0.25 新增）")]))),_:1})]),s[163]||(s[163]=(0,t.Fv)('<div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">let</span> paths <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;www/index.html&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;www/main.js&#39;</span><span class="token punctuation">]</span></span>\n<span class="line"><span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token keyword">await</span> File<span class="token punctuation">.</span><span class="token function">CheckAndDownload</span><span class="token punctuation">(</span>paths<span class="token punctuation">)</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>参数列表:</li></ul><table><thead><tr><th>参数</th><th>类型</th><th>必填参数</th><th>说明</th></tr></thead><tbody><tr><td>paths</td><td>array</td><td>√</td><td>需要判断的资源路径数组</td></tr></tbody></table><ul><li>返回值: <code>Object</code></li></ul><table><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>res.downloadKeys</td><td>Array</td><td>需要更新的资源路径数组</td></tr></tbody></table><hr><h3 id="_2-29-openfile-打开文件" tabindex="-1"><a class="header-anchor" href="#_2-29-openfile-打开文件"><span>2.29 openFile -- 打开文件</span></a></h3>',7)),(0,t.Lk)("blockquote",null,[(0,t.bF)(a,{color:"green",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[99]||(s[99]=[(0,t.eW)("支持移动(Android/iOS)渠道")]))),_:1}),s[101]||(s[101]=(0,t.eW)(" > ")),(0,t.bF)(a,{color:"red",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[100]||(s[100]=[(0,t.eW)("支持柜面渠道（v2.0.31 新增）")]))),_:1})]),s[164]||(s[164]=(0,t.Fv)('<div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">try</span><span class="token punctuation">{</span></span>\n<span class="line">    <span class="token keyword">let</span> type <span class="token operator">=</span> <span class="token string">&quot;word&quot;</span><span class="token punctuation">,</span></span>\n<span class="line">    <span class="token keyword">let</span> fileName <span class="token operator">=</span> <span class="token string">&quot;file:///www/static/test.doc&quot;</span></span>\n<span class="line">    <span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token keyword">await</span> File<span class="token punctuation">.</span><span class="token function">openFile</span><span class="token punctuation">(</span>fileName<span class="token punctuation">,</span> type<span class="token punctuation">)</span><span class="token punctuation">;</span></span>\n<span class="line"><span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">{</span></span>\n<span class="line"></span>\n<span class="line"><span class="token punctuation">}</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>参数列表:</li></ul><table><thead><tr><th>参数</th><th>类型</th><th>必填参数</th><th>说明</th></tr></thead><tbody><tr><td>fileName</td><td>string</td><td>√</td><td>文件的绝对路径</td></tr><tr><td>type</td><td>string</td><td>X</td><td>type 打开文档类型，可选参数包括：word,excel,ppt,txt,pdf,image</td></tr></tbody></table><ul><li>返回值: <code>Object</code></li></ul><table><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>res.result</td><td>string</td><td>打开结果</td></tr></tbody></table>',5)),(0,t.Lk)("blockquote",null,[(0,t.bF)(a,{color:"green",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[102]||(s[102]=[(0,t.eW)("对应移动(Android/iOS)原 SDK: AgreeSDK.file.openFile() ")]))),_:1})]),s[165]||(s[165]=(0,t.Lk)("hr",null,null,-1)),s[166]||(s[166]=(0,t.Lk)("h3",{id:"_2-30-createimgbybase64-根据-base64-生成-img",tabindex:"-1"},[(0,t.Lk)("a",{class:"header-anchor",href:"#_2-30-createimgbybase64-根据-base64-生成-img"},[(0,t.Lk)("span",null,"2.30 CreateImgByBase64 -- 根据 base64 生成 img")])],-1)),(0,t.Lk)("blockquote",null,[(0,t.bF)(a,{color:"green",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[103]||(s[103]=[(0,t.eW)("2.0.28 版本后支持")]))),_:1})]),s[167]||(s[167]=(0,t.Fv)('<div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">try</span> <span class="token punctuation">{</span></span>\n<span class="line">  <span class="token keyword">let</span> filePath <span class="token operator">=</span> <span class="token string">&#39;C:\\\\Users\\\\Desktop\\\\test.png&#39;</span></span>\n<span class="line">  <span class="token keyword">let</span> base64Str <span class="token operator">=</span> <span class="token string">&#39;iVBORw0KGgoAAAANSUhEUgAAAwMAAAO9CAIAAABRgCxxAAAAAXNSR0IArs4c6……&#39;</span></span>\n<span class="line">  <span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token keyword">await</span> File<span class="token punctuation">.</span><span class="token function">CreateImgByBase64</span><span class="token punctuation">(</span>filePath<span class="token punctuation">,</span> base64Str<span class="token punctuation">)</span></span>\n<span class="line"><span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>参数列表:</li></ul><table><thead><tr><th>参数</th><th>类型</th><th>必填参数</th><th>说明</th></tr></thead><tbody><tr><td>filePath</td><td>string</td><td>√</td><td>文件路径</td></tr><tr><td>base64Str</td><td>string</td><td>√</td><td>base64 值</td></tr></tbody></table><ul><li>返回值: <code>Object</code></li></ul><table><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>res.result</td><td>boolean</td><td>结果</td></tr></tbody></table><h3 id="_2-31-writefiletouploadtask-写埋点日志上传文件" tabindex="-1"><a class="header-anchor" href="#_2-31-writefiletouploadtask-写埋点日志上传文件"><span>2.31 writeFileToUploadTask -- 写埋点日志上传文件</span></a></h3>',6)),(0,t.Lk)("blockquote",null,[(0,t.bF)(a,{color:"green",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[104]||(s[104]=[(0,t.eW)("2.0.30 版本后支持")]))),_:1})]),s[168]||(s[168]=(0,t.Fv)('<div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">let</span> filePath <span class="token operator">=</span> <span class="token string">&#39;D:\\\\dq\\\\hg.doc&#39;</span></span>\n<span class="line"><span class="token keyword">let</span> content <span class="token operator">=</span> <span class="token string">&#39;hello&#39;</span></span>\n<span class="line"><span class="token keyword">let</span> append <span class="token operator">=</span> <span class="token string">&#39;true&#39;</span></span>\n<span class="line"><span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token keyword">await</span> File<span class="token punctuation">.</span><span class="token function">writeFileToUploadTask</span><span class="token punctuation">(</span>filePath<span class="token punctuation">,</span> content<span class="token punctuation">,</span> append<span class="token punctuation">)</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>参数列表:</li></ul><table><thead><tr><th>参数</th><th>类型</th><th>必填参数</th><th>说明</th></tr></thead><tbody><tr><td>filePath</td><td>string</td><td>√</td><td>文件路径</td></tr><tr><td>content</td><td>string</td><td>√</td><td>写入文件的内容</td></tr><tr><td>append</td><td>string</td><td>√</td><td>是否追加写入</td></tr><tr><td>encoding</td><td>string</td><td>-</td><td>编码格式</td></tr></tbody></table><ul><li>返回值: <code>Object</code></li></ul><table><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>res.result</td><td>boolean</td><td>结果</td></tr></tbody></table>',5))])}]]),p=JSON.parse('{"path":"/ABX5/%E5%89%8D%E7%AB%AF/sdk/ab-plugin-file.html","title":"ab-plugin-file@文件操作类","lang":"en-US","frontmatter":{"outline":"deep"},"headers":[{"level":2,"title":"1. 引入","slug":"_1-引入","link":"#_1-引入","children":[]},{"level":2,"title":"2. 使用","slug":"_2-使用","link":"#_2-使用","children":[{"level":3,"title":"2.1 获取客户端跟路径","slug":"_2-1-获取客户端跟路径","link":"#_2-1-获取客户端跟路径","children":[]},{"level":3,"title":"2.2 readClientFile --读取客户端文件","slug":"_2-2-readclientfile-读取客户端文件","link":"#_2-2-readclientfile-读取客户端文件","children":[]},{"level":3,"title":"2.3 clientDirCreate --创建深度遍历客户端文件夹","slug":"_2-3-clientdircreate-创建深度遍历客户端文件夹","link":"#_2-3-clientdircreate-创建深度遍历客户端文件夹","children":[]},{"level":3,"title":"2.4 clientFileCreate --创建客户端文件","slug":"_2-4-clientfilecreate-创建客户端文件","link":"#_2-4-clientfilecreate-创建客户端文件","children":[]},{"level":3,"title":"2.5 clientFileDelete --删除客户端文件","slug":"_2-5-clientfiledelete-删除客户端文件","link":"#_2-5-clientfiledelete-删除客户端文件","children":[]},{"level":3,"title":"2.6 isFileExist --文件是否存在","slug":"_2-6-isfileexist-文件是否存在","link":"#_2-6-isfileexist-文件是否存在","children":[]},{"level":3,"title":"2.7 clientFileIsDir -- 判断当前路径是否为文件夹","slug":"_2-7-clientfileisdir-判断当前路径是否为文件夹","link":"#_2-7-clientfileisdir-判断当前路径是否为文件夹","children":[]},{"level":3,"title":"2.8 getFileLength -- 获取文件大小","slug":"_2-8-getfilelength-获取文件大小","link":"#_2-8-getfilelength-获取文件大小","children":[]},{"level":3,"title":"2.9 clientFileReadLines --柜面自有：按行读取客户端文件","slug":"_2-9-clientfilereadlines-柜面自有-按行读取客户端文件","link":"#_2-9-clientfilereadlines-柜面自有-按行读取客户端文件","children":[]},{"level":3,"title":"2.10 clientFileRename --客户端文件重命名","slug":"_2-10-clientfilerename-客户端文件重命名","link":"#_2-10-clientfilerename-客户端文件重命名","children":[]},{"level":3,"title":"2.11 clientFilesGetList --获取文件列表","slug":"_2-11-clientfilesgetlist-获取文件列表","link":"#_2-11-clientfilesgetlist-获取文件列表","children":[]},{"level":3,"title":"2.12 downloadFile --文件下载","slug":"_2-12-downloadfile-文件下载","link":"#_2-12-downloadfile-文件下载","children":[]},{"level":3,"title":"2.13 downloadFileNormal --文件下载标准接口","slug":"_2-13-downloadfilenormal-文件下载标准接口","link":"#_2-13-downloadfilenormal-文件下载标准接口","children":[]},{"level":3,"title":"2.14 getClientFileAsSavePath --柜面自有:获取客户端打开文件路径","slug":"_2-14-getclientfileassavepath-柜面自有-获取客户端打开文件路径","link":"#_2-14-getclientfileassavepath-柜面自有-获取客户端打开文件路径","children":[]},{"level":3,"title":"2.15 listToExcel -- 柜面自有：导出表格","slug":"_2-15-listtoexcel-柜面自有-导出表格","link":"#_2-15-listtoexcel-柜面自有-导出表格","children":[]},{"level":3,"title":"2.16 pdfToTxt -- pdf 转 txt","slug":"_2-16-pdftotxt-pdf-转-txt","link":"#_2-16-pdftotxt-pdf-转-txt","children":[]},{"level":3,"title":"2.17 readClientExcel -- 读取客户端 excel","slug":"_2-17-readclientexcel-读取客户端-excel","link":"#_2-17-readclientexcel-读取客户端-excel","children":[]},{"level":3,"title":"2.18 readClientFileBase64 -- 读取客户端文件，返回 base64 字符串","slug":"_2-18-readclientfilebase64-读取客户端文件-返回-base64-字符串","link":"#_2-18-readclientfilebase64-读取客户端文件-返回-base64-字符串","children":[]},{"level":3,"title":"2.19 uploadFile -- 上传文件","slug":"_2-19-uploadfile-上传文件","link":"#_2-19-uploadfile-上传文件","children":[]},{"level":3,"title":"2.20 wordToTxt -- word 转 txt","slug":"_2-20-wordtotxt-word-转-txt","link":"#_2-20-wordtotxt-word-转-txt","children":[]},{"level":3,"title":"2.21 writeClientFile -- 写客户端文件","slug":"_2-21-writeclientfile-写客户端文件","link":"#_2-21-writeclientfile-写客户端文件","children":[]},{"level":3,"title":"2.22 clientFileCopy -- 复制客户端文件","slug":"_2-22-clientfilecopy-复制客户端文件","link":"#_2-22-clientfilecopy-复制客户端文件","children":[]},{"level":3,"title":"2.23 文件断点下载","slug":"_2-23-文件断点下载","link":"#_2-23-文件断点下载","children":[]},{"level":3,"title":"2.24 获取文件 MD5-getClientFileMD5","slug":"_2-24-获取文件-md5-getclientfilemd5","link":"#_2-24-获取文件-md5-getclientfilemd5","children":[]},{"level":3,"title":"2.25 downGrmFiles -- 下载指定文件夹 aarm 资源","slug":"_2-25-downgrmfiles-下载指定文件夹-aarm-资源","link":"#_2-25-downgrmfiles-下载指定文件夹-aarm-资源","children":[]},{"level":3,"title":"2.26 readJsonFile -- 读取指定 JSON 文件返回 JSON 对象","slug":"_2-26-readjsonfile-读取指定-json-文件返回-json-对象","link":"#_2-26-readjsonfile-读取指定-json-文件返回-json-对象","children":[]},{"level":3,"title":"2.27 readFolderList -- 读取指定目录返回文件列表","slug":"_2-27-readfolderlist-读取指定目录返回文件列表","link":"#_2-27-readfolderlist-读取指定目录返回文件列表","children":[]},{"level":3,"title":"2.28 CheckAndDownload -- 判断资源是否需要更新的方法","slug":"_2-28-checkanddownload-判断资源是否需要更新的方法","link":"#_2-28-checkanddownload-判断资源是否需要更新的方法","children":[]},{"level":3,"title":"2.29 openFile -- 打开文件","slug":"_2-29-openfile-打开文件","link":"#_2-29-openfile-打开文件","children":[]},{"level":3,"title":"2.30 CreateImgByBase64 -- 根据 base64 生成 img","slug":"_2-30-createimgbybase64-根据-base64-生成-img","link":"#_2-30-createimgbybase64-根据-base64-生成-img","children":[]},{"level":3,"title":"2.31 writeFileToUploadTask -- 写埋点日志上传文件","slug":"_2-31-writefiletouploadtask-写埋点日志上传文件","link":"#_2-31-writefiletouploadtask-写埋点日志上传文件","children":[]}]}],"git":{"updatedTime":1727145923000,"contributors":[{"name":"wangaoqi","email":"wangaoqi@agree.com.cn","commits":1}]},"filePathRelative":"ABX5/前端/sdk/ab-plugin-file.md"}')}}]);