"use strict";(self.webpackChunkmy_vuepress_site=self.webpackChunkmy_vuepress_site||[]).push([[291],{16139:(e,a,n)=>{n.r(a),n.d(a,{comp:()=>h,data:()=>i});var r=n(20641);const s={},h=(0,n(66262).A)(s,[["render",function(e,a){return(0,r.uX)(),(0,r.CE)("div",null,a[0]||(a[0]=[(0,r.Fv)('<h3 id="_1、ab5中内嵌的限制" tabindex="-1"><a class="header-anchor" href="#_1、ab5中内嵌的限制"><span>1、AB5中内嵌的限制</span></a></h3><pre><code>目前AB5前端部分使用vue作为主要开发框架，需要使用较新的js语法，故选用cef（基于chromium 76及以上版本内核）作为展示引擎，UI层使用H5渲染。由于chromium在49版本后不支持win32 API操作，导致无法在浏览器中进行窗口内嵌。相比于原有旧系统采用win32 API的内嵌方式，内嵌组件在技术上存在限制。\n</code></pre><h3 id="_2、ab5内嵌组件的处理机制" tabindex="-1"><a class="header-anchor" href="#_2、ab5内嵌组件的处理机制"><span>2、AB5内嵌组件的处理机制</span></a></h3><pre><code>1、AB5在这种浏览器不能内嵌的情况下，使用基座对窗口进行整合，但内嵌的程序与浏览器（H5界面）在逻辑上是两个图层，即内嵌程序是飘在H5界面上，AB5对程序进行定位，使其看起来像是内嵌的效果。\n2、但是在H5进行弹窗时（提示框，悬浮树，下拉选项），由于H5在下层，故会导致被内嵌组件遮挡问题。界面进行滚动时，组件无法跟随滚动条滚动\n3、为了解决H5弹框遮挡问题，在H5在弹窗时，会通知内嵌组件进行截图，把H5原位置换为图片，原内嵌组件隐藏，等弹窗消失时，再把图片换为内嵌组件。\n4、为了解决滚动不跟随问题，会在向下滚动时，把H5原位置换为图片，原内嵌组件隐藏，向上滚动到顶部时，把图片换为内嵌组件。\n</code></pre><h3 id="_3、场景展示" tabindex="-1"><a class="header-anchor" href="#_3、场景展示"><span>3、场景展示</span></a></h3><pre><code>1、打开内嵌效果\n2、H5弹窗时（提示框，悬浮树，下拉选项），内嵌效果\n3、向下滚动、向上滚动时，内嵌效果\n</code></pre><h3 id="_4、内嵌问题" tabindex="-1"><a class="header-anchor" href="#_4、内嵌问题"><span>4、内嵌问题</span></a></h3><h4 id="_1、会有微小的闪烁效果。" tabindex="-1"><a class="header-anchor" href="#_1、会有微小的闪烁效果。"><span>1、会有微小的闪烁效果。</span></a></h4><pre><code>\t由于在控制防遮挡方面，使用截图方式，所以内嵌组件切换为截图时或截图切换为内嵌组件时，内嵌控件显示、隐藏和设置截图中间会有极为短暂的时间显示空白背景，以及图片和真实内嵌控件不同图层显示效果终究有所差异，所以在低配机器上会有切换时的闪烁动作。\n</code></pre><h4 id="_2、截图时截到其他应用" tabindex="-1"><a class="header-anchor" href="#_2、截图时截到其他应用"><span>2、截图时截到其他应用</span></a></h4><pre><code>由于采用截图方式，截图时与当前显示效果一致，如果截图时有聊天窗口置顶、alt+tab键切换到其他应用或者极短时间内滚动条移动到下方，就会造成截图时截到部分聊天窗口、截图到其他应用或者截图到灰屏或者黑屏(初始化时有弹窗或者滚动条不在最上方等不符合显示的场景，会先除法截图，这时因为影像控件等内嵌控件还没初始化完成，所以截图到的是一块灰色或者黑色图片)，这种问题不影响业务正常进行，弹窗关闭，滚动条移动到最上方或者点击图片等触发内嵌控件显示的操作都可以恢复正常。另外建议在操作客户端时，尽量不让其他窗口置顶，防止客户端的捕获屏幕状态出现问题。\n</code></pre>',11)]))}]]),i=JSON.parse('{"path":"/AB%E4%BA%A7%E5%93%81%E7%9F%A5%E8%AF%86%E5%BA%93/%E5%B9%B3%E5%8F%B0/ABC5/ABC5%E4%B8%AD%E5%86%85%E5%B5%8C%E7%BB%84%E4%BB%B6%E8%AF%B4%E6%98%8E.html","title":"","lang":"en-US","frontmatter":{},"headers":[{"level":3,"title":"1、AB5中内嵌的限制","slug":"_1、ab5中内嵌的限制","link":"#_1、ab5中内嵌的限制","children":[]},{"level":3,"title":"2、AB5内嵌组件的处理机制","slug":"_2、ab5内嵌组件的处理机制","link":"#_2、ab5内嵌组件的处理机制","children":[]},{"level":3,"title":"3、场景展示","slug":"_3、场景展示","link":"#_3、场景展示","children":[]},{"level":3,"title":"4、内嵌问题","slug":"_4、内嵌问题","link":"#_4、内嵌问题","children":[]}],"git":{"updatedTime":1727145923000,"contributors":[{"name":"wangaoqi","email":"wangaoqi@agree.com.cn","commits":1}]},"filePathRelative":"AB产品知识库/平台/ABC5/ABC5中内嵌组件说明.md"}')}}]);