"use strict";(self.webpackChunkmy_vuepress_site=self.webpackChunkmy_vuepress_site||[]).push([[989],{42217:(n,s,a)=>{a.r(s),a.d(s,{comp:()=>e,data:()=>o});var p=a(20641);const t={},e=(0,a(66262).A)(t,[["render",function(n,s){return(0,p.uX)(),(0,p.CE)("div",null,s[0]||(s[0]=[(0,p.Fv)('<h1 id="ab-launcher" tabindex="-1"><a class="header-anchor" href="#ab-launcher"><span>ab-launcher</span></a></h1><h2 id="_1-平台引入的sdk" tabindex="-1"><a class="header-anchor" href="#_1-平台引入的sdk"><span>1. 平台引入的sdk</span></a></h2><p>@agree/ab-manager-data @agree/ab-plugin-message @agree/ab-manager-auf @agree/ab-manager-trade</p><h2 id="_2-使用方法" tabindex="-1"><a class="header-anchor" href="#_2-使用方法"><span>2. 使用方法</span></a></h2><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line">window<span class="token punctuation">.</span>abx<span class="token punctuation">.</span><span class="token function">initConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>\n<span class="line">  <span class="token string-property property">&quot;tradeManager&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span></span>\n<span class="line">    <span class="token string-property property">&quot;canRepeatList&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token comment">//配置可重复打开的交易</span></span>\n<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>\n<span class="line">  <span class="token string-property property">&quot;dataManager&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span></span>\n<span class="line">    <span class="token string-property property">&quot;sizeLimit&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span></span>\n<span class="line">       <span class="token string-property property">&quot;sdm&quot;</span><span class="token operator">:</span> <span class="token number">2048000</span><span class="token punctuation">,</span></span>\n<span class="line">        <span class="token string-property property">&quot;dm&quot;</span><span class="token operator">:</span> <span class="token number">4096000</span><span class="token punctuation">,</span></span>\n<span class="line">        <span class="token string-property property">&quot;localData&quot;</span><span class="token operator">:</span> <span class="token number">3145728</span><span class="token punctuation">,</span></span>\n<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// sdm,dm,localData的大小限制</span></span>\n<span class="line">    <span class="token string-property property">&quot;sharedDataModels&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token comment">//初始化的SDM</span></span>\n<span class="line">    <span class="token string-property property">&quot;SDMToSessionStorageList&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">//需要同步session的sdm    </span></span>\n<span class="line">    <span class="token string-property property">&quot;dataInitialization&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token comment">//初始化的数据</span></span>\n<span class="line">    <span class="token comment">// 例：dataInitialization：[</span></span>\n<span class="line">    <span class="token comment">//  {</span></span>\n<span class="line">    <span class="token comment">//   model:&#39;全局数据&#39;,</span></span>\n<span class="line">    <span class="token comment">//   path:&#39;全局数据.adm&#39;,</span></span>\n<span class="line">    <span class="token comment">//   context:{</span></span>\n<span class="line">    <span class="token comment">//     moduleName:&#39;BankModule&#39;</span></span>\n<span class="line">    <span class="token comment">//   },</span></span>\n<span class="line">    <span class="token comment">// },</span></span>\n<span class="line">    <span class="token comment">// {</span></span>\n<span class="line">    <span class="token comment">//   model:&#39;UserInfo&#39;,</span></span>\n<span class="line">    <span class="token comment">//   data:{</span></span>\n<span class="line">    <span class="token comment">//     name:&#39;xiaoming&#39;</span></span>\n<span class="line">    <span class="token comment">//   },</span></span>\n<span class="line">    <span class="token comment">//   sdm:true</span></span>\n<span class="line">    <span class="token comment">// },</span></span>\n<span class="line">    <span class="token comment">// {</span></span>\n<span class="line">    <span class="token comment">//   model:&#39;TellerInfo&#39;,</span></span>\n<span class="line">    <span class="token comment">//   data:new TellerInfo(),</span></span>\n<span class="line">    <span class="token comment">//   sdm:true</span></span>\n<span class="line">    <span class="token comment">// },</span></span>\n<span class="line">    <span class="token comment">// {</span></span>\n<span class="line">    <span class="token comment">//   model:&#39;CustomerInfo&#39;,</span></span>\n<span class="line">    <span class="token comment">//   data:new CustomerInfo(),</span></span>\n<span class="line">    <span class="token comment">//   sdm:true</span></span>\n<span class="line">    <span class="token comment">// }]</span></span>\n<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>\n<span class="line">  <span class="token string-property property">&quot;aufManager&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span></span>\n<span class="line">    <span class="token string-property property">&quot;$aufAlias&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token comment">//auf需要的别名</span></span>\n<span class="line">    <span class="token string-property property">&quot;$canRightClickDirective&quot;</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//控制右键菜单显示</span></span>\n<span class="line">    <span class="token string-property property">&quot;$isConsoleLog&quot;</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">//是否在控制台打印log,默认为true</span></span>\n<span class="line">    <span class="token string-property property">&quot;$callback&quot;</span><span class="token operator">:</span><span class="token punctuation">(</span><span class="token parameter">log</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token comment">//打印日志的回调函数,log为当前返回的信息</span></span>\n<span class="line">    <span class="token string-property property">&quot;$stepTimeout&quot;</span><span class="token operator">:</span><span class="token number">10000</span><span class="token punctuation">,</span><span class="token comment">////步进式loadUId的timeout,不设置默认10000</span></span>\n<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>\n<span class="line">  <span class="token string-property property">&quot;messageManager&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span></span>\n<span class="line">    <span class="token string-property property">&quot;parentMsgUrl&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token comment">//ws地址</span></span>\n<span class="line">    <span class="token string-property property">&quot;tellerId&quot;</span><span class="token operator">:</span><span class="token number">00001</span><span class="token punctuation">,</span> <span class="token comment">//柜员号</span></span>\n<span class="line">    <span class="token string-property property">&quot;clientMap&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token comment">//登陆柜员对应的信息 </span></span>\n<span class="line">    <span class="token string-property property">&quot;onMessage&quot;</span><span class="token operator">:</span><span class="token punctuation">(</span><span class="token parameter">msg</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token comment">//默认时消息回调 </span></span>\n<span class="line">    <span class="token string-property property">&quot;onException&quot;</span><span class="token operator">:</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token comment">//默认时异常回调 </span></span>\n<span class="line">    <span class="token string-property property">&quot;forceCreateWebsocket&quot;</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">//true 为使用 js websocket，false 为使用壳子的 websocket</span></span>\n<span class="line">    <span class="token string-property property">&quot;options&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token comment">//额外定义的操作属性</span></span>\n<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>\n<span class="line">  <span class="token string-property property">&quot;aui&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span></span>\n<span class="line">    <span class="token string-property property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;aui-web&quot;</span><span class="token punctuation">,</span> <span class="token comment">//引入的组件库类型</span></span>\n<span class="line">    <span class="token string-property property">&quot;throttleButton&quot;</span><span class="token operator">:</span> <span class="token number">500</span><span class="token punctuation">,</span> <span class="token comment">//按钮的防抖时间</span></span>\n<span class="line">    <span class="token string-property property">&quot;showDefaultPlaceholder&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">//展示默认的占位文字</span></span>\n<span class="line">    <span class="token string-property property">&quot;selectedWhenFocus&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token comment">// 焦点进入后全选</span></span>\n<span class="line">  <span class="token punctuation">}</span></span>\n<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>\n<span class="line"></span>\n<span class="line">window<span class="token punctuation">.</span>abx<span class="token punctuation">.</span><span class="token function">initTradeConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>\n<span class="line">  <span class="token string-property property">&quot;canRepeatList&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>\n<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>\n<span class="line"></span>\n<span class="line">window<span class="token punctuation">.</span>abx<span class="token punctuation">.</span><span class="token function">initDataConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>\n<span class="line">  <span class="token string-property property">&quot;sizeLimit&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>\n<span class="line">    <span class="token string-property property">&quot;sdm&quot;</span><span class="token operator">:</span> <span class="token number">2048000</span><span class="token punctuation">,</span></span>\n<span class="line">    <span class="token string-property property">&quot;dm&quot;</span><span class="token operator">:</span> <span class="token number">4096000</span><span class="token punctuation">,</span></span>\n<span class="line">    <span class="token string-property property">&quot;localData&quot;</span><span class="token operator">:</span> <span class="token number">3145728</span><span class="token punctuation">,</span></span>\n<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>\n<span class="line">  <span class="token string-property property">&quot;sharedDataModels&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;UserInfo&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;TellerInfo&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;CustomerInfo&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;AgentInfo&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;TransactorInfo&#39;</span><span class="token punctuation">,</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>\n<span class="line">  <span class="token string-property property">&quot;SDMToSessionStorageList&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>\n<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>\n<span class="line"></span>\n<span class="line">window<span class="token punctuation">.</span>abx<span class="token punctuation">.</span><span class="token function">initAufConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>\n<span class="line">  <span class="token string-property property">&quot;$aufAlias&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span></span>\n<span class="line">  <span class="token string-property property">&quot;$aufVisibleRefs&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span></span>\n<span class="line">  <span class="token string-property property">&quot;aufPathPublicPath&quot;</span><span class="token operator">:</span> <span class="token string">&quot;@&quot;</span><span class="token punctuation">,</span></span>\n<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>\n<span class="line"></span>\n<span class="line">window<span class="token punctuation">.</span>abx<span class="token punctuation">.</span><span class="token function">initAuiConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>\n<span class="line">    <span class="token string-property property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&#39;aui-web&#39;</span><span class="token punctuation">,</span></span>\n<span class="line">    <span class="token string-property property">&quot;throttleButton&quot;</span><span class="token operator">:</span> <span class="token number">500</span><span class="token punctuation">,</span></span>\n<span class="line">    <span class="token string-property property">&quot;showDefaultPlaceholder&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> </span>\n<span class="line">    <span class="token string-property property">&quot;selectedWhenFocus&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span> </span>\n<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>\n<span class="line"></span>\n<span class="line"></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>',5)]))}]]),o=JSON.parse('{"path":"/ABX5/%E5%89%8D%E7%AB%AF/sdk/ab-launcher.html","title":"ab-launcher","lang":"en-US","frontmatter":{},"headers":[{"level":2,"title":"1. 平台引入的sdk","slug":"_1-平台引入的sdk","link":"#_1-平台引入的sdk","children":[]},{"level":2,"title":"2. 使用方法","slug":"_2-使用方法","link":"#_2-使用方法","children":[]}],"git":{"updatedTime":1727145923000,"contributors":[{"name":"wangaoqi","email":"wangaoqi@agree.com.cn","commits":1}]},"filePathRelative":"ABX5/前端/sdk/ab-launcher.md"}')}}]);