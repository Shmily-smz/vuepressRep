"use strict";(self.webpackChunkmy_vuepress_site=self.webpackChunkmy_vuepress_site||[]).push([[2174],{63105:(e,t,a)=>{a.r(t),a.d(t,{comp:()=>s,data:()=>p});var o=a(20641);const n={},s=(0,a(66262).A)(n,[["render",function(e,t){return(0,o.uX)(),(0,o.CE)("div",null,t[0]||(t[0]=[(0,o.Fv)('<h3 id="_1、商用密码产品认证背景" tabindex="-1"><a class="header-anchor" href="#_1、商用密码产品认证背景"><span>1、商用密码产品认证背景</span></a></h3><p>公司于 2021 年 9 月份，由知识及风险管理部统一收集市场问题，市场反馈部分银行（宁波银行，广发银行）收到地方人民银行下发的《中国人民银行关于印发《金融领域国产密码改造评价指标》和《金融领域信息系国产密码改造基线》的通知》，要求使用到国密算法的服务厂商，需提供产品的商用密码认证信息。通过了解，在实际的项目实施过程中，有两种使用国密算法的方式，一种是公司产品采用集成第三方安全厂商的接口服务(SDK)来进行国密安全处理，一种是公司产品采用自研国密算法模块进行处理，目前已知的主要是 AB 产品，ABC 与 ABS 之间采用 mina 信道进行国密加密。<strong>根据人行验收标准，明确要求“采用自研软算法模块，应申请并提供相应认证证书信息，如果暂未获得认证证书，可提供相关申请材料”，因此，凡涉及使用自研国密算法模块的产品，均需要通过国家密码管理局商用密码检测中心的检测认证。</strong> 综上所述，现由知识及风险管理部统一规划进行产品的国密资质认证申请工作。</p><h3 id="_2、商用密码产品认证证书与国密证书的区别" tabindex="-1"><a class="header-anchor" href="#_2、商用密码产品认证证书与国密证书的区别"><span>2、商用密码产品认证证书与国密证书的区别</span></a></h3><p>商用密码产品认证证书</p><blockquote><p>是指资质证书，由国家密码局认定的<strong>商用密码检测中心</strong>对产品进行检测，检测通过后，为公司的产品颁发<strong>实物</strong>认证证书。</p></blockquote><p>国密证书</p><blockquote><p>是指软件证书，服务端密钥库一般为 pkcs12 格式，文件名以.pfx 为后缀，可以解析出 x509 格式的证书下发给客户端，文件名以.cer 为后缀，产品加载后，可以对通讯或者字段进行加密。开发环境可以使用自签证书，生产环境建议使用<strong>CA 证书机构</strong>颁发的证书</p></blockquote><h3 id="_3、商用密码产品认证范围与级别" tabindex="-1"><a class="header-anchor" href="#_3、商用密码产品认证范围与级别"><span>3、商用密码产品认证范围与级别</span></a></h3><p>AB 系列产品（AB3、AB4、AB5、ABX）抽离了一个公共的密码模块来认证</p><p><strong>赞同金融交易渠道软件客户端密码模块 ABCM (agree browser crypto module) V1.0</strong></p><blockquote><p>密码模块主要包含：SM2/SM3/SM4 国密算法，签名验签，国密证书加载使用、秘钥交换。SM2 算法中支持外部随机源。结合 AB 产品，可以支持字段加密，报文加密，报文完整性校验，客户端合法性校验。</p></blockquote><p>ABCM 认证级别</p><blockquote><p>其他密码模块-安全一级（共四级，一级为最低安全级别，纯软件最高为二级）</p></blockquote><h3 id="_4、商用密码产品认证进展" tabindex="-1"><a class="header-anchor" href="#_4、商用密码产品认证进展"><span>4、商用密码产品认证进展</span></a></h3><p>2021 年 11 月 19 日，向国家密码管理局商用密码检测中心提交申请 2021 年 12 月 9 日，根据国家密码管理局商用密码检测中心的修改建议，对文档进行修改并再次提交 2021 年 12 月 24 日，收到国家密码管理局商用密码检测中心认证部的委托的<strong>受理通知</strong>（项目需要可以联系知识及风险管理部-柴傲蕾） 目前密码模块正在认证过程中 2022 年 4 月 2 日，文档整改完成，邮寄机器到认证中心 2022 年 4 月 13 日，程序检测完成，检测中心目前正在审核文档 预计 2022 年 7 月份可以拿到证书</p><h3 id="_5、目前-ab3-ab4-ab5-国密算法支持情况" tabindex="-1"><a class="header-anchor" href="#_5、目前-ab3-ab4-ab5-国密算法支持情况"><span>5、目前 AB3/AB4/AB5 国密算法支持情况</span></a></h3><p>目前产品支持情况</p><blockquote><p><strong>AB3</strong>项目组执行对产品源码进行更改，个别市场支持国密算法，大部分不支持。 <strong>AB4</strong>产品自带国密算法，mina 部分为自研的国密秘钥交换算法，客户端与服务证书为通过 java 生成的公私钥文件，未使用标准的 pkcs12 格式密钥库与 x509 格式证书存储。目前不支持加载 pkcs12 格式密钥库与 x509 格式证书。 <strong>AB5</strong>产品自带国密算法，通讯部分采用下发 SM2 公钥方式，传递 SM4 对称秘钥方式，完成一机一密，支持使用 SM4 秘钥对关键字段与全报文加密。未使用标准的 pkcs12 格式密钥库与 x509 格式证书存储。目前不支持加载 pkcs12 格式密钥库与 x509 格式证书。</p></blockquote><p><strong>对于上面的提到的支持国密，是指可以满足银行 2019 年之前的检查要求，对于 140 号文，AB345 目前均不支持，需要根据各行方案进行改造。</strong></p><h3 id="_6、银行国密改造应对策略" tabindex="-1"><a class="header-anchor" href="#_6、银行国密改造应对策略"><span>6、银行国密改造应对策略</span></a></h3><p>AB 国密现状</p><blockquote><p>目前正在向商用密码检测中心申请&lt;赞同金融交易渠道软件客户端密码模块 ABCM&gt;的商密认证 申请的只有<strong>客户端</strong>模块，没有<strong>服务端</strong>模块 客户端支持报文加密，不支持<strong>国密 https</strong>通道加密</p></blockquote><p>AB 国密改造的思路</p><blockquote><p>在国密领域，赞同介入较晚，对人行验收标准解读不够深入，缺少配合行里验收的经验，现阶段客户端资质在申请过程中，也缺少服务端资质，为不影响行里进行人行验收，建议先使用具备资质的第三方安全厂商国密模块与方案，我们配合测试。</p><p>在配合行里改造的过程中，我们也会尽快深入人行验收标注与过程，积累技术与资质实例，争取在后续的改造中，可以打造出我们自己的改造方案</p></blockquote><p>赞同是否可以提供国密改造方案？</p><blockquote><p>国密改造的目标是为了完成<strong>人行验收</strong>要求，这方面标准解读，赞同没有安全厂商专业，建议先<strong>由安全厂商对人行检查标准进行解读，结合赞同柜面技术架构，制定改造方案</strong>，赞同积极配合改造</p></blockquote><p>跟其他市场的沟通</p><blockquote><p>项目组可以先跟行里讨论下，我们的架构是 CS 的，基于 java 语言开发，CS 之间使用开源 apache mina 开发的通讯框架（socket 异步长链接），安全厂商可以提供方案与 jar 包，行里对方案进行评估（或者选取咨询厂商进行评估），确定后我们根据方案做集成</p></blockquote><p>给大连银行的答复</p><blockquote><p>建议可以把咱们国密沟通的进展跟他们说下：跟大连沟通完之后，了解到其他行也有相关的国密改造诉求，发现各地沟通的验收标准不一致，随后联系咨询公司对方案进行评估，发现现有方案在服务端商密认证上存在缺失，同时也了解到除了今年的人行检查外，明年可能会有密码局参考等保三级标准检查，等保三级标准需要商密二级认证，二级认证需要靠硬件参与。为了不影响行里后续的检查，我们建议针对国密改造这事儿，再次进行解读与咨询，重新评估方案，如果方案需要修改，我们极力配合</p></blockquote>',30)]))}]]),p=JSON.parse('{"path":"/AB%E4%BA%A7%E5%93%81%E7%9F%A5%E8%AF%86%E5%BA%93/%E5%B9%B3%E5%8F%B0/%E5%9B%BD%E5%AF%86%E6%94%B9%E9%80%A0/00-AB%E5%95%86%E7%94%A8%E5%AF%86%E7%A0%81%E8%AE%A4%E8%AF%81%E4%B8%8E%E5%9B%BD%E5%AF%86%E6%94%B9%E9%80%A0%E6%83%85%E5%86%B5%E7%AE%80%E4%BB%8B.html","title":"","lang":"en-US","frontmatter":{},"headers":[{"level":3,"title":"1、商用密码产品认证背景","slug":"_1、商用密码产品认证背景","link":"#_1、商用密码产品认证背景","children":[]},{"level":3,"title":"2、商用密码产品认证证书与国密证书的区别","slug":"_2、商用密码产品认证证书与国密证书的区别","link":"#_2、商用密码产品认证证书与国密证书的区别","children":[]},{"level":3,"title":"3、商用密码产品认证范围与级别","slug":"_3、商用密码产品认证范围与级别","link":"#_3、商用密码产品认证范围与级别","children":[]},{"level":3,"title":"4、商用密码产品认证进展","slug":"_4、商用密码产品认证进展","link":"#_4、商用密码产品认证进展","children":[]},{"level":3,"title":"5、目前 AB3/AB4/AB5 国密算法支持情况","slug":"_5、目前-ab3-ab4-ab5-国密算法支持情况","link":"#_5、目前-ab3-ab4-ab5-国密算法支持情况","children":[]},{"level":3,"title":"6、银行国密改造应对策略","slug":"_6、银行国密改造应对策略","link":"#_6、银行国密改造应对策略","children":[]}],"git":{"updatedTime":1727145923000,"contributors":[{"name":"wangaoqi","email":"wangaoqi@agree.com.cn","commits":1}]},"filePathRelative":"AB产品知识库/平台/国密改造/00-AB商用密码认证与国密改造情况简介.md"}')}}]);