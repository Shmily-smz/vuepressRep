"use strict";(self.webpackChunkmy_vuepress_site=self.webpackChunkmy_vuepress_site||[]).push([[9574],{25619:(s,n,a)=>{a.r(n),a.d(n,{comp:()=>t,data:()=>i});var e=a(20641);const l={},t=(0,a(66262).A)(l,[["render",function(s,n){const a=(0,e.g2)("RouteLink");return(0,e.uX)(),(0,e.CE)("div",null,[n[7]||(n[7]=(0,e.Fv)('<h1 id="运行时配置" tabindex="-1"><a class="header-anchor" href="#运行时配置"><span>运行时配置</span></a></h1><p>对于壳子来说，废弃了请求直接请求远端的配置，采用使用壳子自身的配置。</p><p>对 web 环境来说，允许设置获取前段获取配置的路径通过请求的方式获取配置信息。</p><h2 id="abc-壳" tabindex="-1"><a class="header-anchor" href="#abc-壳"><span>abc 壳</span></a></h2><p>aui.properties</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">cn.com.agree.ab.a5.client.web/commitUrl = http://192.168.70.10/abxmlh/demo-</span>\n<span class="line">cn.com.agree.ab.a5.client.web/resourceServiceEndPoint = http://localhost:9050</span>\n<span class="line">cn.com.agree.ab.a5.client.web/messageUrl = ws://192.168.70.10/abxmlh/demo-message/message/websocket</span>\n<span class="line">cn.com.agree.ab.a5.client.web/mode = production</span>\n<span class="line">cn.com.agree.ab.a5.client.web/cellunit = ABX5</span>\n<span class="line">cn.com.agree.ab.a5.client.web/localization = true</span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>因为不需要从直接从远端获取配置，所以暂时废弃 mainAarmUrl 的配置( <code>cn.com.agree.ab.a5.client.communication/mainAarmUrl = http://192.168.71.115:8000/</code> )。</p><h2 id="web-环境" tabindex="-1"><a class="header-anchor" href="#web-环境"><span>web 环境</span></a></h2>',8)),(0,e.Lk)("p",null,[n[1]||(n[1]=(0,e.eW)("web 环境的配置信息允许从远端获取，可以是本地启动的 mock ，也可以是某个服务，而获取配置信息的请求路径拼接方式为: ")),n[2]||(n[2]=(0,e.Lk)("code",null,"${devConfig.serviceEndPoint}getFrontEndConfig",-1)),n[3]||(n[3]=(0,e.eW)(" ，其中 ")),n[4]||(n[4]=(0,e.Lk)("code",null,"devConfig.serviceEndPoint",-1)),n[5]||(n[5]=(0,e.eW)(" 就是编译时提供的配置信息: ")),(0,e.bF)(a,{to:"/ABX5/%E5%89%8D%E7%AB%AF/%E5%89%8D%E7%AB%AF%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E4%BB%8B%E7%BB%8D/configJson.html"},{default:(0,e.k6)((()=>n[0]||(n[0]=[(0,e.eW)("config.json")]))),_:1}),n[6]||(n[6]=(0,e.eW)(" 文件中配置的"))]),n[8]||(n[8]=(0,e.Fv)('<h2 id="pad" tabindex="-1"><a class="header-anchor" href="#pad"><span>pad</span></a></h2><p>manifest.json</p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json" data-title="json"><pre><code><span class="line"><span class="token punctuation">{</span></span>\n<span class="line">  <span class="token property">&quot;abx5&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>\n<span class="line">    <span class="token property">&quot;resourceServiceEndPoint&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://localhost:53008&quot;</span><span class="token punctuation">,</span></span>\n<span class="line">    <span class="token property">&quot;commitUrl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://192.168.70.10/abxmlh/demo-&quot;</span><span class="token punctuation">,</span></span>\n<span class="line">    <span class="token property">&quot;mode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;production&quot;</span><span class="token punctuation">,</span></span>\n<span class="line">    <span class="token property">&quot;cellunit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ABX5&quot;</span><span class="token punctuation">,</span></span>\n<span class="line">    <span class="token property">&quot;localization&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>\n<span class="line">    <span class="token property">&quot;messageUrl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ws://192.168.70.10/abxmlh/demo-message/message/websocket&quot;</span><span class="token punctuation">,</span></span>\n<span class="line">    <span class="token property">&quot;resource&quot;</span><span class="token operator">:</span> <span class="token string">&quot;local&quot;</span><span class="token punctuation">,</span></span>\n<span class="line">    <span class="token property">&quot;ABX5ModuleRootDir&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/www/workspace/ABX&quot;</span><span class="token punctuation">,</span></span>\n<span class="line">    <span class="token property">&quot;updateTradeResource&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span></span>\n<span class="line">    <span class="token property">&quot;jsPluginsRootDir&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span></span>\n<span class="line">    <span class="token property">&quot;ABX5HttpUrl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span></span>\n<span class="line">    <span class="token property">&quot;extensionFolders&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/www/workspace/ABX&quot;</span><span class="token punctuation">,</span></span>\n<span class="line">    <span class="token property">&quot;startCompatible&quot;</span><span class="token operator">:</span> <span class="token string">&quot;false&quot;</span><span class="token punctuation">,</span></span>\n<span class="line">    <span class="token property">&quot;frontEndConfig&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span>\n<span class="line">  <span class="token punctuation">}</span></span>\n<span class="line"><span class="token punctuation">}</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="配置字段信息说明" tabindex="-1"><a class="header-anchor" href="#配置字段信息说明"><span>配置字段信息说明</span></a></h2><h3 id="resourceserviceendpoint-resourceserviceendpoint" tabindex="-1"><a class="header-anchor" href="#resourceserviceendpoint-resourceserviceendpoint"><span>resourceServiceEndPoint {#resourceServiceEndPoint}</span></a></h3><blockquote><p>服务地址:资源加载地址</p></blockquote><ul><li><strong>类型</strong></li></ul><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">{</span>\n<span class="line">  resourceServiceEndPoint: string;</span>\n<span class="line">}</span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>示例</strong></li></ul><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json" data-title="json"><pre><code><span class="line"><span class="token punctuation">{</span></span>\n<span class="line">  <span class="token property">&quot;resourceServiceEndPoint&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://192.168.70.10/abxmlh/demo-aarm/aarm&quot;</span></span>\n<span class="line"><span class="token punctuation">}</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>详细说明</strong></li></ul><ol><li>服务地址</li><li>为资源加载地址</li></ol><h3 id="messageurl-messageurl" tabindex="-1"><a class="header-anchor" href="#messageurl-messageurl"><span>messageUrl {#messageUrl}</span></a></h3><blockquote><p>建立长连接的地址</p></blockquote><ul><li><strong>类型</strong></li></ul><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">{</span>\n<span class="line">  messageUrl: string;</span>\n<span class="line">}</span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>示例</strong></li></ul><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json" data-title="json"><pre><code><span class="line"><span class="token punctuation">{</span></span>\n<span class="line">  <span class="token property">&quot;messageUrl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ws://192.168.70.10/abxmlh/demo-message/message/websocket&quot;</span></span>\n<span class="line"><span class="token punctuation">}</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>详细说明</strong></li></ul><ol><li>建立长连接的地址, <code>bpmn</code>类型交易用于接受<code>socket</code>消息时使用</li></ol><h3 id="commiturl-commiturl" tabindex="-1"><a class="header-anchor" href="#commiturl-commiturl"><span>commitUrl {#commitUrl}</span></a></h3><blockquote><p><code>bpmn</code>流程发送请求的<code>http</code>地址</p></blockquote><ul><li><strong>类型</strong></li></ul><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">{</span>\n<span class="line">  commitUrl: string;</span>\n<span class="line">}</span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>示例</strong></li></ul><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json" data-title="json"><pre><code><span class="line"><span class="token punctuation">{</span></span>\n<span class="line">  <span class="token property">&quot;commitUrl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://192.168.70.10/abxmlh/demo-&quot;</span></span>\n<span class="line"><span class="token punctuation">}</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>详细说明</strong></li></ul><ol><li><code>bpmn</code>流程发送请求的<code>http</code>地址</li></ol><h3 id="deployenv-deployenv" tabindex="-1"><a class="header-anchor" href="#deployenv-deployenv"><span>deployEnv {#deployEnv}</span></a></h3><blockquote><p>部署环境配置，默认是容器云</p></blockquote><ul><li><strong>类型</strong></li></ul><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts" data-title="ts"><pre><code><span class="line"><span class="token keyword">enum</span> DeployEnv <span class="token operator">=</span> <span class="token punctuation">{</span></span>\n<span class="line">  <span class="token string">&quot;vm&quot;</span> <span class="token operator">=</span> <span class="token string">&#39;vm&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 虚机部署</span></span>\n<span class="line">  <span class="token string">&quot;boyun&quot;</span> <span class="token operator">=</span> <span class="token string">&#39;boyun&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 博云环境部署</span></span>\n<span class="line">  <span class="token string">&quot;docker&quot;</span> <span class="token operator">=</span> <span class="token string">&quot;docker&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 容器化部署（默认）</span></span>\n<span class="line"><span class="token punctuation">}</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>示例</strong></li></ul><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json" data-title="json"><pre><code><span class="line"><span class="token punctuation">{</span></span>\n<span class="line">  <span class="token property">&quot;deployEnv&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vm&quot;</span> <span class="token comment">// 博云环境部署</span></span>\n<span class="line"><span class="token punctuation">}</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container tip"><p class="hint-container-title">Tips</p><p>部署方式代表着不同的请求路径</p></div><ul><li><strong>详细说明</strong></li></ul><ol><li><code>vm</code>: 请求地址使用<code>commitUrl/url</code></li><li><code>boyun</code>:请求地址使用<code>commitUrl/url</code></li><li><code>docker</code>: 请求地址使用<code>commitUrl/moduleName-aase/aase/url</code></li></ol><h3 id="mode-mode" tabindex="-1"><a class="header-anchor" href="#mode-mode"><span>mode {#mode}</span></a></h3><blockquote><p>客户端运行时的模式</p></blockquote><ul><li><strong>类型</strong></li></ul><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts" data-title="ts"><pre><code><span class="line"><span class="token keyword">enum</span> Mode <span class="token punctuation">{</span></span>\n<span class="line">  <span class="token constant">DEV</span> <span class="token operator">=</span> <span class="token string">&quot;dev&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 开发模式</span></span>\n<span class="line">  <span class="token constant">PROD</span> <span class="token operator">=</span> <span class="token string">&quot;prod&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 生产模式</span></span>\n<span class="line"><span class="token punctuation">}</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>示例</strong></li></ul><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json" data-title="json"><pre><code><span class="line"><span class="token punctuation">{</span></span>\n<span class="line">  <span class="token property">&quot;mode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dev&quot;</span></span>\n<span class="line"><span class="token punctuation">}</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>详细说明</strong></li></ul><ol><li><code>dev</code>: 开发模式，日志输出到控制台，启动开发模式的热更新热更新</li><li><code>prod</code>: 生产模式，日志禁止输出到控制台，并将日志记录到日志文件，启动生产模式的热更新</li></ol><div class="hint-container tip"><p class="hint-container-title">Tips</p><p>开发以及生产模式的热更新区别请查看<a href="../%E6%B7%B1%E5%85%A5%E5%B9%B3%E5%8F%B0/%E7%83%AD%E6%9B%B4%E6%96%B0">热更新</a></p></div><h3 id="localization-localization" tabindex="-1"><a class="header-anchor" href="#localization-localization"><span>localization {#localization}</span></a></h3><blockquote><p>是否本地加载</p></blockquote><ul><li><strong>类型</strong></li></ul><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts" data-title="ts"><pre><code><span class="line"><span class="token punctuation">{</span></span>\n<span class="line">  localization<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span></span>\n<span class="line"><span class="token punctuation">}</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>示例</strong></li></ul><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json" data-title="json"><pre><code><span class="line"><span class="token punctuation">{</span></span>\n<span class="line">  <span class="token property">&quot;localization&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span></span>\n<span class="line"><span class="token punctuation">}</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>详细说明</strong></li></ul><ol><li>此参数用于配置资源的加载来源：如在壳子环境下，将资源下载到本地，则视为本地加载，为<code>true</code>；如果是直接加载服务器的资源，则认为是服务端加载,为<code>false</code></li><li>此参数决定加载资源的路径</li></ol>',54))])}]]),i=JSON.parse('{"path":"/ABX5/%E5%89%8D%E7%AB%AF/%E5%89%8D%E7%AB%AF%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E4%BB%8B%E7%BB%8D/%E8%BF%90%E8%A1%8C%E6%97%B6%E9%85%8D%E7%BD%AE.html","title":"运行时配置","lang":"en-US","frontmatter":{"outline":"deep"},"headers":[{"level":2,"title":"abc 壳","slug":"abc-壳","link":"#abc-壳","children":[]},{"level":2,"title":"web 环境","slug":"web-环境","link":"#web-环境","children":[]},{"level":2,"title":"pad","slug":"pad","link":"#pad","children":[]},{"level":2,"title":"配置字段信息说明","slug":"配置字段信息说明","link":"#配置字段信息说明","children":[{"level":3,"title":"resourceServiceEndPoint {#resourceServiceEndPoint}","slug":"resourceserviceendpoint-resourceserviceendpoint","link":"#resourceserviceendpoint-resourceserviceendpoint","children":[]},{"level":3,"title":"messageUrl {#messageUrl}","slug":"messageurl-messageurl","link":"#messageurl-messageurl","children":[]},{"level":3,"title":"commitUrl {#commitUrl}","slug":"commiturl-commiturl","link":"#commiturl-commiturl","children":[]},{"level":3,"title":"deployEnv {#deployEnv}","slug":"deployenv-deployenv","link":"#deployenv-deployenv","children":[]},{"level":3,"title":"mode {#mode}","slug":"mode-mode","link":"#mode-mode","children":[]},{"level":3,"title":"localization {#localization}","slug":"localization-localization","link":"#localization-localization","children":[]}]}],"git":{"updatedTime":1727145923000,"contributors":[{"name":"wangaoqi","email":"wangaoqi@agree.com.cn","commits":1}]},"filePathRelative":"ABX5/前端/前端配置文件介绍/运行时配置.md"}')}}]);