"use strict";(self.webpackChunkmy_vuepress_site=self.webpackChunkmy_vuepress_site||[]).push([[9107],{27549:(n,s,a)=>{a.r(s),a.d(s,{comp:()=>l,data:()=>c});var p=a(20641);const t={class:"hint-container tip"},e={},l=(0,a(66262).A)(e,[["render",function(n,s){const a=(0,p.g2)("RouteLink");return(0,p.uX)(),(0,p.CE)("div",null,[s[32]||(s[32]=(0,p.Fv)('<h1 id="交易流程-交易流程" tabindex="-1"><a class="header-anchor" href="#交易流程-交易流程"><span>交易流程 {#交易流程}</span></a></h1><p>介绍交易流程及涉及到的<code>API</code>使用方式</p><h2 id="流程上下文" tabindex="-1"><a class="header-anchor" href="#流程上下文"><span>流程上下文</span></a></h2><ul><li>bpmn 交易</li></ul><p><code>bpmn</code> 交易的流程上下文是当前交易每进行一步时,服务端推送的 <code>socket</code> 消息,该消息包含:</p><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts" data-title="ts"><pre><code><span class="line"><span class="token keyword">const</span> socketArgs <span class="token operator">=</span> <span class="token punctuation">{</span></span>\n<span class="line">  isPageInsideMsg<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 是否为页面内消息</span></span>\n<span class="line">  data<span class="token operator">:</span> <span class="token punctuation">{</span></span>\n<span class="line">    router<span class="token operator">:</span> <span class="token punctuation">{</span></span>\n<span class="line">      commitTerminal<span class="token operator">:</span> <span class="token string">&quot;A&quot;</span><span class="token punctuation">,</span></span>\n<span class="line">      pity<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>\n<span class="line">      processTerminal<span class="token operator">:</span> <span class="token string">&quot;A&quot;</span><span class="token punctuation">,</span></span>\n<span class="line">      resetFlag<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>\n<span class="line">      skipFlag<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span></span>\n<span class="line">      stepKey<span class="token operator">:</span> <span class="token string">&quot;步骤一_focus&quot;</span><span class="token punctuation">,</span></span>\n<span class="line">      stepName<span class="token operator">:</span> <span class="token string">&quot;步骤一_focus&quot;</span><span class="token punctuation">,</span></span>\n<span class="line">      <span class="token constant">ID</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>\n<span class="line">        pageId<span class="token operator">:</span> <span class="token string">&quot;/BankModule/scene/bpmn交易/测试交易三/步骤一_focus&quot;</span><span class="token punctuation">,</span></span>\n<span class="line">        moduleName<span class="token operator">:</span> <span class="token string">&quot;BankModule&quot;</span><span class="token punctuation">,</span></span>\n<span class="line">        tradeName<span class="token operator">:</span> <span class="token string">&quot;scene/bpmn交易/测试交易三&quot;</span><span class="token punctuation">,</span></span>\n<span class="line">        stepKey<span class="token operator">:</span> <span class="token string">&quot;步骤一_focus&quot;</span><span class="token punctuation">,</span></span>\n<span class="line">        terminal<span class="token operator">:</span> <span class="token string">&quot;A&quot;</span><span class="token punctuation">,</span></span>\n<span class="line">      <span class="token punctuation">}</span><span class="token punctuation">,</span></span>\n<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>\n<span class="line">    meta<span class="token operator">:</span> <span class="token punctuation">{</span></span>\n<span class="line">      branchNum<span class="token operator">:</span> <span class="token string">&quot;0000&quot;</span><span class="token punctuation">,</span></span>\n<span class="line">      checkOidFlag<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>\n<span class="line">      currentDefinitionKey<span class="token operator">:</span> <span class="token string">&quot;BankModule:scene/bpmn交易/测试交易三&quot;</span><span class="token punctuation">,</span></span>\n<span class="line">      end<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 是否完成</span></span>\n<span class="line">      jumpFlag<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span></span>\n<span class="line">      moduleName<span class="token operator">:</span> <span class="token string">&quot;BankModule&quot;</span><span class="token punctuation">,</span></span>\n<span class="line">      nextStep<span class="token operator">:</span> <span class="token punctuation">{</span></span>\n<span class="line">        commitTerminal<span class="token operator">:</span> <span class="token string">&quot;A&quot;</span><span class="token punctuation">,</span></span>\n<span class="line">        pity<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>\n<span class="line">        processTerminal<span class="token operator">:</span> <span class="token string">&quot;A&quot;</span><span class="token punctuation">,</span></span>\n<span class="line">        resetFlag<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>\n<span class="line">        skipFlag<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span></span>\n<span class="line">        stepKey<span class="token operator">:</span> <span class="token string">&quot;步骤一_focus&quot;</span><span class="token punctuation">,</span></span>\n<span class="line">        stepName<span class="token operator">:</span> <span class="token string">&quot;步骤一_focus&quot;</span><span class="token punctuation">,</span></span>\n<span class="line">      <span class="token punctuation">}</span><span class="token punctuation">,</span></span>\n<span class="line">      oid<span class="token operator">:</span> <span class="token string">&quot;MMS_Oid_chen2222&quot;</span><span class="token punctuation">,</span></span>\n<span class="line">      replay<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>\n<span class="line">      retryStepFlag<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span></span>\n<span class="line">      sessionID<span class="token operator">:</span> <span class="token string">&quot;ba0bbb0c-bc86-4cac-bcfe-6ef1db33d218&quot;</span><span class="token punctuation">,</span></span>\n<span class="line">      stepKey<span class="token operator">:</span> <span class="token string">&quot;步骤一_focus&quot;</span><span class="token punctuation">,</span></span>\n<span class="line">      taskId<span class="token operator">:</span> <span class="token string">&quot;4707&quot;</span><span class="token punctuation">,</span></span>\n<span class="line">      taskKey<span class="token operator">:</span> <span class="token string">&quot;BankModule:scene/bpmn交易/测试交易三/步骤一&quot;</span><span class="token punctuation">,</span></span>\n<span class="line">      taskName<span class="token operator">:</span> <span class="token string">&quot;步骤一&quot;</span><span class="token punctuation">,</span></span>\n<span class="line">      tradeMember<span class="token operator">:</span> <span class="token punctuation">{</span></span>\n<span class="line">        <span class="token string-property property">&quot;1111&quot;</span><span class="token operator">:</span> <span class="token string">&quot;C&quot;</span><span class="token punctuation">,</span></span>\n<span class="line">        MMS_Oid_chen2222<span class="token operator">:</span> <span class="token string">&quot;A&quot;</span><span class="token punctuation">,</span></span>\n<span class="line">      <span class="token punctuation">}</span><span class="token punctuation">,</span></span>\n<span class="line">      tradeName<span class="token operator">:</span> <span class="token string">&quot;scene/bpmn交易/测试交易三&quot;</span><span class="token punctuation">,</span></span>\n<span class="line">      tradeTitle<span class="token operator">:</span> <span class="token string">&quot;bpmn交易/测试交易三&quot;</span><span class="token punctuation">,</span></span>\n<span class="line">      userNum<span class="token operator">:</span> <span class="token string">&quot;000000&quot;</span><span class="token punctuation">,</span></span>\n<span class="line">      variableJson<span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span></span>\n<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>\n<span class="line">    context<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// 当前交易的交易数据</span></span>\n<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>\n<span class="line">  pathInfoList<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 当前交易内所有的流程节点</span></span>\n<span class="line">  aaseMessageId<span class="token operator">:</span> <span class="token string">&quot;27cb0bdb-0783-4620-a2f4-8b25ddf00d30&quot;</span><span class="token punctuation">,</span></span>\n<span class="line">  reqUniqueId<span class="token operator">:</span> <span class="token string">&quot;parcel-5&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 保证交易唯一的 ID</span></span>\n<span class="line">  cellUnit<span class="token operator">:</span> <span class="token string">&quot;ABX5&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 当前的客户端标识</span></span>\n<span class="line">  sessionErrorInfo<span class="token operator">:</span> <span class="token punctuation">{</span></span>\n<span class="line">    <span class="token comment">// 当前步骤的错误信息</span></span>\n<span class="line">    errorHandleWay<span class="token operator">:</span> <span class="token punctuation">{</span></span>\n<span class="line">      退出<span class="token operator">:</span> <span class="token string">&quot;/exitProcess&quot;</span><span class="token punctuation">,</span></span>\n<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>\n<span class="line">    errorCode<span class="token operator">:</span> <span class="token string">&quot;0000&quot;</span><span class="token punctuation">,</span></span>\n<span class="line">    errorMsg<span class="token operator">:</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">,</span></span>\n<span class="line">    isSuccess<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>\n<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>\n<span class="line">  type<span class="token operator">:</span> <span class="token string">&quot;wspush&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 消息类型</span></span>\n<span class="line">  msgId<span class="token operator">:</span> <span class="token string">&quot;ec25859e-9976-42f2-b590-f9a357974d00&quot;</span><span class="token punctuation">,</span></span>\n<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>',6)),(0,p.Lk)("div",t,[s[12]||(s[12]=(0,p.Lk)("p",{class:"hint-container-title"},"Tips",-1)),(0,p.Lk)("p",null,[(0,p.bF)(a,{to:"/ABX5/%E5%89%8D%E7%AB%AF/%E6%A8%A1%E6%9D%BFide/bpmn%E4%BA%A4%E6%98%93%E7%9B%B8%E5%85%B3%E6%A8%A1%E6%9D%BF.html#frame%E8%AF%B4%E6%98%8E"},{default:(0,p.k6)((()=>s[0]||(s[0]=[(0,p.Lk)("code",null,"frame模板说明",-1)]))),_:1}),s[2]||(s[2]=(0,p.eW)("内已表明 ")),s[3]||(s[3]=(0,p.Lk)("code",null,"frame",-1)),s[4]||(s[4]=(0,p.eW)(" 用以串联 ")),s[5]||(s[5]=(0,p.Lk)("code",null,"bpmn",-1)),s[6]||(s[6]=(0,p.eW)(" 交易流程,则在 ")),s[7]||(s[7]=(0,p.Lk)("code",null,"frame",-1)),s[8]||(s[8]=(0,p.eW)(" 内需要对当前交易的流程上下文进行处理。 ")),s[9]||(s[9]=(0,p.Lk)("code",null,"bpmn",-1)),s[10]||(s[10]=(0,p.eW)(" 交易的流程上下文可以在声明周期函数 ")),(0,p.bF)(a,{to:"/ABX5/%E5%89%8D%E7%AB%AF/%E6%B7%B1%E5%85%A5%E5%B9%B3%E5%8F%B0/%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F.html#_onbeforemount"},{default:(0,p.k6)((()=>s[1]||(s[1]=[(0,p.Lk)("code",null,"_onBeforeMount",-1)]))),_:1}),s[11]||(s[11]=(0,p.eW)(" 内获取并处理。"))]),s[13]||(s[13]=(0,p.Fv)('<p>示例: <code>lifecycleArgs</code> 为 <code>bpmn</code> 交易的流程上下文</p><div class="language-vue line-numbers-mode" data-highlighter="prismjs" data-ext="vue" data-title="vue"><pre><code><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript"></span>\n<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span></span>\n<span class="line">  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>\n<span class="line">    <span class="token keyword">return</span> <span class="token punctuation">{</span></span>\n<span class="line">      <span class="token literal-property property">args</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span></span>\n<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">;</span></span>\n<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>\n<span class="line">  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>\n<span class="line">    <span class="token keyword">async</span> <span class="token function">_onBeforeMount</span><span class="token punctuation">(</span><span class="token parameter">lifecycleArgs</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>\n<span class="line">      <span class="token keyword">this</span><span class="token punctuation">.</span>args <span class="token operator">=</span> lifecycleArgs<span class="token punctuation">.</span>detail<span class="token punctuation">;</span></span>\n<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>\n<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>\n<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>\n<span class="line"></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>',2))]),(0,p.Lk)("ul",null,[(0,p.Lk)("li",null,[(0,p.Lk)("p",null,[(0,p.bF)(a,{to:"/ABX5/%E5%89%8D%E7%AB%AF/sdk/ab-manager-auf.html"},{default:(0,p.k6)((()=>s[14]||(s[14]=[(0,p.eW)("auf 交易(查看 auf 说明文档)")]))),_:1})])]),s[15]||(s[15]=(0,p.Lk)("li",null,[(0,p.Lk)("p",null,"单画面交易"),(0,p.Lk)("blockquote",null,[(0,p.Lk)("p",null,"单画面交易暂无流程上下文")])],-1))]),s[33]||(s[33]=(0,p.Fv)('<h2 id="流程操作-api-流程操作-api" tabindex="-1"><a class="header-anchor" href="#流程操作-api-流程操作-api"><span>流程操作 API{#流程操作 api}</span></a></h2><h3 id="bpmn-流程操作-api-汇总" tabindex="-1"><a class="header-anchor" href="#bpmn-流程操作-api-汇总"><span>bpmn 流程操作 API 汇总</span></a></h3><table><thead><tr><th>API</th><th>option</th><th>Description</th></tr></thead><tbody><tr><td>_next</td><td> {<br>  data?: any <br> }<br><code>data</code> 是下一步请求的请求体,默认值是当前 bpmn 交易的 _pageData,也可以组装数据作为请求体提交 </td><td><a href="#BPMN下一步">下一步</a></td></tr><tr><td>_back</td><td>-</td><td><a href="#BPMN上一步">上一步</a></td></tr><tr><td>this.getContext().destroy()</td><td>-</td><td><a href="#BPMN退出交易">退出交易</a></td></tr><tr><td>_jump</td><td> {<br>  taskKey, 需要重置/跳转的步骤的 pathTaskKey<br>  taskId, 当前步骤的 taskId<br> } </td><td><a href="#BPMN跳转">跳转</a></td></tr><tr><td>_reset</td><td> {<br>  taskKey, 需要重置/跳转的步骤的 pathTaskKey<br>  taskId, 当前步骤的 taskId<br> } </td><td><a href="#BPMN重置">重置</a></td></tr><tr><td>_retry</td><td>-</td><td><a href="#BPMN重试">重试</a></td></tr><tr><td>_skip</td><td>-</td><td><a href="#BPMN跳过">跳过</a></td></tr></tbody></table><hr><h3 id="auf-流程操作-api-汇总" tabindex="-1"><a class="header-anchor" href="#auf-流程操作-api-汇总"><span>auf 流程操作 API 汇总</span></a></h3>',5)),(0,p.Lk)("table",null,[s[31]||(s[31]=(0,p.Lk)("thead",null,[(0,p.Lk)("tr",null,[(0,p.Lk)("th",null,"API"),(0,p.Lk)("th",null,"option"),(0,p.Lk)("th",null,"Description")])],-1)),(0,p.Lk)("tbody",null,[(0,p.Lk)("tr",null,[s[17]||(s[17]=(0,p.Lk)("td",null,[(0,p.Lk)("code",null,"_next()")],-1)),s[18]||(s[18]=(0,p.Lk)("td",null,"-",-1)),(0,p.Lk)("td",null,[(0,p.bF)(a,{to:"/ABX5/%E5%89%8D%E7%AB%AF/%E6%B7%B1%E5%85%A5%E5%B9%B3%E5%8F%B0/%E4%BA%A4%E6%98%93%E6%B5%81%E7%A8%8B.html#AUF%E4%B8%8B%E4%B8%80%E6%AD%A5"},{default:(0,p.k6)((()=>s[16]||(s[16]=[(0,p.eW)("下一步")]))),_:1})])]),(0,p.Lk)("tr",null,[s[20]||(s[20]=(0,p.Lk)("td",null,[(0,p.Lk)("code",null,"_back()")],-1)),s[21]||(s[21]=(0,p.Lk)("td",null,"-",-1)),(0,p.Lk)("td",null,[(0,p.bF)(a,{to:"/ABX5/%E5%89%8D%E7%AB%AF/%E6%B7%B1%E5%85%A5%E5%B9%B3%E5%8F%B0/%E4%BA%A4%E6%98%93%E6%B5%81%E7%A8%8B.html#AUF%E4%B8%8A%E4%B8%80%E6%AD%A5"},{default:(0,p.k6)((()=>s[19]||(s[19]=[(0,p.eW)("上一步")]))),_:1})])]),(0,p.Lk)("tr",null,[s[23]||(s[23]=(0,p.Lk)("td",null,[(0,p.Lk)("code",null,"this.getContext().destroy()")],-1)),s[24]||(s[24]=(0,p.Lk)("td",null,"-",-1)),(0,p.Lk)("td",null,[(0,p.bF)(a,{to:"/ABX5/%E5%89%8D%E7%AB%AF/%E6%B7%B1%E5%85%A5%E5%B9%B3%E5%8F%B0/%E4%BA%A4%E6%98%93%E6%B5%81%E7%A8%8B.html#AUF%E9%80%80%E5%87%BA%E4%BA%A4%E6%98%93"},{default:(0,p.k6)((()=>s[22]||(s[22]=[(0,p.eW)("退出交易")]))),_:1})])]),(0,p.Lk)("tr",null,[s[26]||(s[26]=(0,p.Lk)("td",null,[(0,p.Lk)("code",null,"_jump")],-1)),s[27]||(s[27]=(0,p.Lk)("td",null,[(0,p.Lk)("code",null,"laneID(泳道ID)")],-1)),(0,p.Lk)("td",null,[(0,p.bF)(a,{to:"/ABX5/%E5%89%8D%E7%AB%AF/%E6%B7%B1%E5%85%A5%E5%B9%B3%E5%8F%B0/%E4%BA%A4%E6%98%93%E6%B5%81%E7%A8%8B.html#AUF%E8%B7%B3%E8%BD%AC"},{default:(0,p.k6)((()=>s[25]||(s[25]=[(0,p.eW)("跳转")]))),_:1})])]),(0,p.Lk)("tr",null,[s[29]||(s[29]=(0,p.Lk)("td",null,[(0,p.Lk)("code",null,"_reset")],-1)),s[30]||(s[30]=(0,p.Lk)("td",null,"-",-1)),(0,p.Lk)("td",null,[(0,p.bF)(a,{to:"/ABX5/%E5%89%8D%E7%AB%AF/%E6%B7%B1%E5%85%A5%E5%B9%B3%E5%8F%B0/%E4%BA%A4%E6%98%93%E6%B5%81%E7%A8%8B.html#AUF%E9%87%8D%E7%BD%AE"},{default:(0,p.k6)((()=>s[28]||(s[28]=[(0,p.eW)("重置")]))),_:1})])])])]),s[34]||(s[34]=(0,p.Fv)('<hr><h3 id="bpmn-交易-api" tabindex="-1"><a class="header-anchor" href="#bpmn-交易-api"><span>bpmn 交易 API</span></a></h3><h4 id="next-bpmn下一步" tabindex="-1"><a class="header-anchor" href="#next-bpmn下一步"><span><code>_next()</code> {#BPMN下一步}</span></a></h4><p>流程提交,流转至下一节点</p><ul><li><p>参数: <code>Object</code>,包含以下内容:</p><p><code>data</code>?: <code>any</code>, 下一步请求的请求体,默认值是当前 bpmn 交易的 _pageData,也可以组装数据作为请求体提交</p></li><li><p>返回值: 请求成功,返回响应内容;请求失败,抛出错误 <code>TradeError</code>.</p></li><li><p>示例</p></li></ul><div class="language-vue line-numbers-mode" data-highlighter="prismjs" data-ext="vue" data-title="vue"><pre><code><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span></span>\n<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span></span>\n<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>aui-row</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">margin-left</span><span class="token punctuation">:</span>-180px<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span></span>\n<span class="line">      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>aui-col</span> <span class="token attr-name">:span</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>3<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:offset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>4<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>\n<span class="line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>aui-button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btn<span class="token punctuation">&quot;</span></span> <span class="token attr-name">plain</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>next<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>下一步<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>aui-button</span><span class="token punctuation">&gt;</span></span></span>\n<span class="line">      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>aui-col</span><span class="token punctuation">&gt;</span></span></span>\n<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>aui-row</span><span class="token punctuation">&gt;</span></span></span>\n<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></span>\n<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span></span>\n<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript"></span>\n<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span></span>\n<span class="line">  <span class="token comment">// ...</span></span>\n<span class="line">  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>\n<span class="line">    <span class="token keyword">async</span> <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>\n<span class="line">      <span class="token comment">// ...</span></span>\n<span class="line">      <span class="token comment">// 下一步前提交的交易数据</span></span>\n<span class="line">      <span class="token keyword">const</span> commitData <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getModel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>\n<span class="line">      <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_next</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>\n<span class="line">        <span class="token literal-property property">data</span><span class="token operator">:</span> commitData<span class="token punctuation">,</span></span>\n<span class="line">      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>\n<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>\n<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>\n<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>\n<span class="line"></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="back-bpmn上一步" tabindex="-1"><a class="header-anchor" href="#back-bpmn上一步"><span><code>_back()</code> {#BPMN上一步}</span></a></h4><p><code>bpmn</code> 交易流程返回上一节点</p><ul><li><p>参数: 无参数</p></li><li><p>返回值: 请求成功,返回响应内容;请求失败,抛出错误 <code>TradeError</code>.</p></li><li><p>示例:</p></li></ul><div class="language-vue line-numbers-mode" data-highlighter="prismjs" data-ext="vue" data-title="vue"><pre><code><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span></span>\n<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span></span>\n<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>aui-row</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">margin-left</span><span class="token punctuation">:</span>-180px<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span></span>\n<span class="line">      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>aui-col</span> <span class="token attr-name">:span</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>3<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:offset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>4<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>\n<span class="line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>aui-button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btn<span class="token punctuation">&quot;</span></span> <span class="token attr-name">plain</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>back<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>上一步<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>aui-button</span><span class="token punctuation">&gt;</span></span></span>\n<span class="line">      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>aui-col</span><span class="token punctuation">&gt;</span></span></span>\n<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>aui-row</span><span class="token punctuation">&gt;</span></span></span>\n<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></span>\n<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span></span>\n<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript"></span>\n<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span></span>\n<span class="line">  <span class="token comment">// ...</span></span>\n<span class="line">  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>\n<span class="line">    <span class="token keyword">async</span> <span class="token function">_onBeforeMount</span><span class="token punctuation">(</span><span class="token parameter">lifecycleArgs</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>\n<span class="line">      <span class="token comment">// abpm 生成的流程节点 id</span></span>\n<span class="line">      <span class="token keyword">this</span><span class="token punctuation">.</span>args <span class="token operator">=</span> lifecycleArgs<span class="token punctuation">.</span>detail<span class="token punctuation">;</span></span>\n<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>\n<span class="line">    <span class="token keyword">async</span> <span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>\n<span class="line">      <span class="token comment">// ...</span></span>\n<span class="line">      <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>\n<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>\n<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>\n<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>\n<span class="line"></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="this-getcontext-destroy-bpmn退出交易" tabindex="-1"><a class="header-anchor" href="#this-getcontext-destroy-bpmn退出交易"><span><code>this.getContext().destroy()</code> {#BPMN退出交易}</span></a></h4><p><code>bpmn</code> 交易退出交易流程</p><ul><li><p>参数: 无参数</p></li><li><p>返回值:</p></li><li><p>示例:</p></li></ul><div class="language-vue line-numbers-mode" data-highlighter="prismjs" data-ext="vue" data-title="vue"><pre><code><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span></span>\n<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span></span>\n<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>aui-row</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">margin-left</span><span class="token punctuation">:</span>-180px<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span></span>\n<span class="line">      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>aui-col</span> <span class="token attr-name">:span</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>3<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:offset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>4<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>\n<span class="line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>aui-button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btn<span class="token punctuation">&quot;</span></span> <span class="token attr-name">plain</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>abort<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>退出交易<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>aui-button</span><span class="token punctuation">&gt;</span></span></span>\n<span class="line">      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>aui-col</span><span class="token punctuation">&gt;</span></span></span>\n<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>aui-row</span><span class="token punctuation">&gt;</span></span></span>\n<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></span>\n<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span></span>\n<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript"></span>\n<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span></span>\n<span class="line">  <span class="token comment">// ...</span></span>\n<span class="line">  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>\n<span class="line">    <span class="token keyword">async</span> <span class="token function">abort</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>\n<span class="line">      <span class="token comment">// ...</span></span>\n<span class="line">      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>\n<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>\n<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>\n<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>\n<span class="line"></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="jump-bpmn跳转" tabindex="-1"><a class="header-anchor" href="#jump-bpmn跳转"><span><code>_jump()</code> {#BPMN跳转}</span></a></h4><p><code>bpmn</code> 交易内跳转至指定节点</p><ul><li><p>参数: <code>Object</code>,包含以下内容:</p><ol><li>taskKey, 需要跳转的步骤对应的 pathTaskKey</li><li>taskId, 当前步骤的 taskId</li></ol></li><li><p>返回值: 请求成功,返回响应内容;请求失败,抛出错误 <code>TradeError</code>.</p></li><li><p>示例</p></li></ul><div class="language-vue line-numbers-mode" data-highlighter="prismjs" data-ext="vue" data-title="vue"><pre><code><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span></span>\n<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span></span>\n<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>aui-step</span></span>\n<span class="line">      <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>section_step<span class="token punctuation">&quot;</span></span></span>\n<span class="line">      <span class="token attr-name">:active</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>isActiveStep<span class="token punctuation">&quot;</span></span></span>\n<span class="line">      <span class="token attr-name">finish-status</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>success<span class="token punctuation">&quot;</span></span></span>\n<span class="line">      <span class="token attr-name">align-center</span></span>\n<span class="line">      <span class="token attr-name">:flat</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span></span>\n<span class="line">    <span class="token punctuation">&gt;</span></span></span>\n<span class="line">      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>aui-step-item</span></span>\n<span class="line">        <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>(item, index) in setpsQueue<span class="token punctuation">&quot;</span></span></span>\n<span class="line">        <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>index<span class="token punctuation">&quot;</span></span></span>\n<span class="line">        <span class="token attr-name">:title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>attachTitle(item)<span class="token punctuation">&quot;</span></span></span>\n<span class="line">        <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>doJump(index)<span class="token punctuation">&quot;</span></span></span>\n<span class="line">      <span class="token punctuation">&gt;</span></span></span>\n<span class="line">      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>aui-step-item</span><span class="token punctuation">&gt;</span></span></span>\n<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>aui-step</span><span class="token punctuation">&gt;</span></span></span>\n<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></span>\n<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span></span>\n<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript"></span>\n<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span></span>\n<span class="line">  <span class="token comment">// ...</span></span>\n<span class="line">  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>\n<span class="line">    <span class="token keyword">return</span> <span class="token punctuation">{</span></span>\n<span class="line">      <span class="token literal-property property">curStepNumber</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span></span>\n<span class="line">      <span class="token literal-property property">args</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span></span>\n<span class="line">      <span class="token literal-property property">taskId</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span></span>\n<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">;</span></span>\n<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>\n<span class="line">  <span class="token literal-property property">cumputed</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>\n<span class="line">    <span class="token comment">// 计算当前活跃的节点</span></span>\n<span class="line">    <span class="token literal-property property">isActiveStep</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>\n<span class="line">      <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>\n<span class="line">        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>args<span class="token punctuation">.</span>pathInfoList <span class="token operator">||</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>args<span class="token punctuation">.</span>pathInfoList<span class="token punctuation">.</span>length<span class="token punctuation">)</span></span>\n<span class="line">          <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>curStepNumber<span class="token punctuation">;</span></span>\n<span class="line">        <span class="token keyword">let</span> curStepIndex<span class="token punctuation">;</span></span>\n<span class="line">        <span class="token keyword">for</span> <span class="token punctuation">(</span></span>\n<span class="line">          curStepIndex <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></span>\n<span class="line">          curStepIndex <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>args<span class="token punctuation">.</span>pathInfoList<span class="token punctuation">.</span>length<span class="token punctuation">;</span></span>\n<span class="line">          curStepIndex<span class="token operator">++</span></span>\n<span class="line">        <span class="token punctuation">)</span> <span class="token punctuation">{</span></span>\n<span class="line">          <span class="token keyword">if</span> <span class="token punctuation">(</span></span>\n<span class="line">            <span class="token keyword">this</span><span class="token punctuation">.</span>taskKey<span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span></span>\n<span class="line">              <span class="token keyword">this</span><span class="token punctuation">.</span>args<span class="token punctuation">.</span>pathInfoList<span class="token punctuation">[</span>curStepIndex<span class="token punctuation">]</span><span class="token punctuation">.</span>pathTaskKey</span>\n<span class="line">            <span class="token punctuation">)</span></span>\n<span class="line">          <span class="token punctuation">)</span> <span class="token punctuation">{</span></span>\n<span class="line">            <span class="token keyword">break</span><span class="token punctuation">;</span></span>\n<span class="line">          <span class="token punctuation">}</span></span>\n<span class="line">        <span class="token punctuation">}</span></span>\n<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>curStepNumber <span class="token operator">=</span> curStepIndex<span class="token punctuation">;</span></span>\n<span class="line">        <span class="token keyword">return</span> curStepIndex<span class="token punctuation">;</span></span>\n<span class="line">      <span class="token punctuation">}</span><span class="token punctuation">,</span></span>\n<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>\n<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>\n<span class="line">  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>\n<span class="line">    <span class="token keyword">async</span> <span class="token function">_onBeforeMount</span><span class="token punctuation">(</span><span class="token parameter">lifecycleArgs</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>\n<span class="line">      <span class="token keyword">this</span><span class="token punctuation">.</span>args <span class="token operator">=</span> lifecycleArgs<span class="token punctuation">.</span>detail<span class="token punctuation">;</span></span>\n<span class="line">      <span class="token comment">// abpm 生成的流程步骤 id</span></span>\n<span class="line">      <span class="token keyword">this</span><span class="token punctuation">.</span>taskId <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>args<span class="token punctuation">.</span>data<span class="token punctuation">.</span>meta<span class="token punctuation">.</span>taskId<span class="token punctuation">;</span></span>\n<span class="line">      <span class="token comment">// 当前交易流程所处步骤的 taskKey ,用于更新步骤条信息</span></span>\n<span class="line">      <span class="token keyword">this</span><span class="token punctuation">.</span>taskKey <span class="token operator">=</span></span>\n<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>args<span class="token punctuation">.</span>data<span class="token punctuation">.</span>meta<span class="token punctuation">.</span>taskKey<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^.*:</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token keyword">this</span><span class="token punctuation">.</span>taskKey<span class="token punctuation">;</span></span>\n<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>\n<span class="line">    <span class="token keyword">async</span> <span class="token function">doJump</span><span class="token punctuation">(</span><span class="token parameter">index</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>\n<span class="line">      <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>isActiveStep<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span></span>\n<span class="line">      <span class="token comment">// 获取当前点击的步骤对应的 pathTaskKey</span></span>\n<span class="line">      <span class="token keyword">let</span> curStepsKey <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>args<span class="token punctuation">.</span>pathInfoList<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>pathTaskKey<span class="token punctuation">;</span></span>\n<span class="line"></span>\n<span class="line">      <span class="token keyword">const</span> args <span class="token operator">=</span> <span class="token punctuation">{</span></span>\n<span class="line">        <span class="token comment">// 需要重置/跳转的步骤的 pathTaskKey</span></span>\n<span class="line">        <span class="token literal-property property">taskKey</span><span class="token operator">:</span> curStepsKey<span class="token punctuation">,</span></span>\n<span class="line">        <span class="token comment">// 当前步骤的 taskId</span></span>\n<span class="line">        <span class="token literal-property property">taskId</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>taskId<span class="token punctuation">,</span></span>\n<span class="line">      <span class="token punctuation">}</span><span class="token punctuation">;</span></span>\n<span class="line">      <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">!=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>isActiveStep<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>\n<span class="line">        <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_jump</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span></span>\n<span class="line">      <span class="token punctuation">}</span></span>\n<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>\n<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>\n<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>\n<span class="line"></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="reset-bpmn重置" tabindex="-1"><a class="header-anchor" href="#reset-bpmn重置"><span><code>_reset()</code> {#BPMN重置}</span></a></h4><p><code>bpmn</code> 交易内重置当前节点</p><ul><li><p>参数: <code>Object</code>,包含以下内容:</p><ol><li>taskKey, 需要重置的步骤对应的 pathTaskKey</li><li>taskId, 当前步骤的 taskId</li></ol></li><li><p>返回值: 请求成功,返回响应内容;请求失败,抛出错误 <code>TradeError</code>.</p></li><li><p>示例</p></li></ul><div class="language-vue line-numbers-mode" data-highlighter="prismjs" data-ext="vue" data-title="vue"><pre><code><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span></span>\n<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span></span>\n<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>aui-step</span></span>\n<span class="line">      <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>section_step<span class="token punctuation">&quot;</span></span></span>\n<span class="line">      <span class="token attr-name">:active</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>isActiveStep<span class="token punctuation">&quot;</span></span></span>\n<span class="line">      <span class="token attr-name">finish-status</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>success<span class="token punctuation">&quot;</span></span></span>\n<span class="line">      <span class="token attr-name">align-center</span></span>\n<span class="line">      <span class="token attr-name">:flat</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span></span>\n<span class="line">    <span class="token punctuation">&gt;</span></span></span>\n<span class="line">      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>aui-step-item</span></span>\n<span class="line">        <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>(item, index) in setpsQueue<span class="token punctuation">&quot;</span></span></span>\n<span class="line">        <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>index<span class="token punctuation">&quot;</span></span></span>\n<span class="line">        <span class="token attr-name">:title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>attachTitle(item)<span class="token punctuation">&quot;</span></span></span>\n<span class="line">        <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>doJump(index)<span class="token punctuation">&quot;</span></span></span>\n<span class="line">      <span class="token punctuation">&gt;</span></span></span>\n<span class="line">      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>aui-step-item</span><span class="token punctuation">&gt;</span></span></span>\n<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>aui-step</span><span class="token punctuation">&gt;</span></span></span>\n<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></span>\n<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span></span>\n<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript"></span>\n<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span></span>\n<span class="line">  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>\n<span class="line">    <span class="token keyword">return</span> <span class="token punctuation">{</span></span>\n<span class="line">      <span class="token literal-property property">curStepNumber</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span></span>\n<span class="line">      <span class="token literal-property property">args</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span></span>\n<span class="line">      <span class="token literal-property property">taskId</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span></span>\n<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">;</span></span>\n<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>\n<span class="line">  <span class="token literal-property property">cumputed</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>\n<span class="line">    <span class="token comment">// 计算当前活跃的节点</span></span>\n<span class="line">    <span class="token literal-property property">isActiveStep</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>\n<span class="line">      <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>\n<span class="line">        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>args<span class="token punctuation">.</span>pathInfoList <span class="token operator">||</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>args<span class="token punctuation">.</span>pathInfoList<span class="token punctuation">.</span>length<span class="token punctuation">)</span></span>\n<span class="line">          <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>curStepNumber<span class="token punctuation">;</span></span>\n<span class="line">        <span class="token keyword">let</span> curStepIndex<span class="token punctuation">;</span></span>\n<span class="line">        <span class="token keyword">for</span> <span class="token punctuation">(</span></span>\n<span class="line">          curStepIndex <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></span>\n<span class="line">          curStepIndex <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>args<span class="token punctuation">.</span>pathInfoList<span class="token punctuation">.</span>length<span class="token punctuation">;</span></span>\n<span class="line">          curStepIndex<span class="token operator">++</span></span>\n<span class="line">        <span class="token punctuation">)</span> <span class="token punctuation">{</span></span>\n<span class="line">          <span class="token keyword">if</span> <span class="token punctuation">(</span></span>\n<span class="line">            <span class="token keyword">this</span><span class="token punctuation">.</span>taskKey<span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span></span>\n<span class="line">              <span class="token keyword">this</span><span class="token punctuation">.</span>args<span class="token punctuation">.</span>pathInfoList<span class="token punctuation">[</span>curStepIndex<span class="token punctuation">]</span><span class="token punctuation">.</span>pathTaskKey</span>\n<span class="line">            <span class="token punctuation">)</span></span>\n<span class="line">          <span class="token punctuation">)</span> <span class="token punctuation">{</span></span>\n<span class="line">            <span class="token keyword">break</span><span class="token punctuation">;</span></span>\n<span class="line">          <span class="token punctuation">}</span></span>\n<span class="line">        <span class="token punctuation">}</span></span>\n<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>curStepNumber <span class="token operator">=</span> curStepIndex<span class="token punctuation">;</span></span>\n<span class="line">        <span class="token keyword">return</span> curStepIndex<span class="token punctuation">;</span></span>\n<span class="line">      <span class="token punctuation">}</span><span class="token punctuation">,</span></span>\n<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>\n<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>\n<span class="line">  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>\n<span class="line">    <span class="token keyword">async</span> <span class="token function">_onBeforeMount</span><span class="token punctuation">(</span><span class="token parameter">lifecycleArgs</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>\n<span class="line">      <span class="token comment">// ...</span></span>\n<span class="line">      <span class="token keyword">this</span><span class="token punctuation">.</span>args <span class="token operator">=</span> lifecycleArgs<span class="token punctuation">.</span>detail<span class="token punctuation">;</span></span>\n<span class="line">      <span class="token comment">// abpm 生成的流程步骤 id</span></span>\n<span class="line">      <span class="token keyword">this</span><span class="token punctuation">.</span>taskId <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>args<span class="token punctuation">.</span>data<span class="token punctuation">.</span>meta<span class="token punctuation">.</span>taskId<span class="token punctuation">;</span></span>\n<span class="line">      <span class="token comment">// 当前交易流程所处步骤的 taskKey ,用于更新步骤条信息</span></span>\n<span class="line">      <span class="token keyword">this</span><span class="token punctuation">.</span>taskKey <span class="token operator">=</span></span>\n<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>args<span class="token punctuation">.</span>data<span class="token punctuation">.</span>meta<span class="token punctuation">.</span>taskKey<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^.*:</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token keyword">this</span><span class="token punctuation">.</span>taskKey<span class="token punctuation">;</span></span>\n<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>\n<span class="line">    <span class="token keyword">async</span> <span class="token function">doJump</span><span class="token punctuation">(</span><span class="token parameter">index</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>\n<span class="line">      <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>isActiveStep<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span></span>\n<span class="line">      <span class="token comment">// 获取当前点击的步骤对应的 pathTaskKey</span></span>\n<span class="line">      <span class="token keyword">let</span> curStepsKey <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>args<span class="token punctuation">.</span>pathInfoList<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>pathTaskKey<span class="token punctuation">;</span></span>\n<span class="line"></span>\n<span class="line">      <span class="token keyword">const</span> args <span class="token operator">=</span> <span class="token punctuation">{</span></span>\n<span class="line">        <span class="token comment">// 需要重置/跳转的步骤的 pathTaskKey</span></span>\n<span class="line">        <span class="token literal-property property">taskKey</span><span class="token operator">:</span> curStepsKey<span class="token punctuation">,</span></span>\n<span class="line">        <span class="token comment">// 当前步骤的 taskId</span></span>\n<span class="line">        <span class="token literal-property property">taskId</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>taskId<span class="token punctuation">,</span></span>\n<span class="line">      <span class="token punctuation">}</span><span class="token punctuation">;</span></span>\n<span class="line">      <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">==</span> <span class="token keyword">this</span><span class="token punctuation">.</span>isActiveStep<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>\n<span class="line">        <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_reset</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span></span>\n<span class="line">      <span class="token punctuation">}</span></span>\n<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>\n<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>\n<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>\n<span class="line"></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="retry-bpmn重试" tabindex="-1"><a class="header-anchor" href="#retry-bpmn重试"><span><code>_retry()</code> {#BPMN重试}</span></a></h4><p><code>bpmn</code> 交易流程提交错误后,重新尝试提交</p><ul><li><p>参数: 无参数</p></li><li><p>返回值: 请求成功,返回响应内容;请求失败,抛出错误 <code>TradeError</code>.</p></li><li><p>示例:</p></li></ul><div class="language-vue line-numbers-mode" data-highlighter="prismjs" data-ext="vue" data-title="vue"><pre><code><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span></span>\n<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span></span>\n<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>aui-button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>retry<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>retry<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>重试<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>aui-button</span><span class="token punctuation">&gt;</span></span></span>\n<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></span>\n<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span></span>\n<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript"></span>\n<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span></span>\n<span class="line">  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>\n<span class="line">    <span class="token function">retry</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>\n<span class="line">      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_retry</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>\n<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>\n<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>\n<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>\n<span class="line"></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="skip-bpmn跳过" tabindex="-1"><a class="header-anchor" href="#skip-bpmn跳过"><span><code>_skip()</code> {#BPMN跳过}</span></a></h4><p><code>bpmn</code> 交易流程中服务端报错后,跳过出现的错误,流程向后执行</p><ul><li><p>参数: 无参数</p></li><li><p>返回值: 请求成功,返回响应内容;请求失败,抛出错误 <code>TradeError</code>.</p></li><li><p>示例:</p></li></ul><div class="language-vue line-numbers-mode" data-highlighter="prismjs" data-ext="vue" data-title="vue"><pre><code><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript"></span>\n<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span></span>\n<span class="line">  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>\n<span class="line">    <span class="token keyword">async</span> <span class="token function">_onErrorCaptured</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>\n<span class="line">      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_skip</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>\n<span class="line">      <span class="token keyword">return</span><span class="token punctuation">;</span></span>\n<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>\n<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>\n<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>\n<span class="line"></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="pending-bpmn挂起" tabindex="-1"><a class="header-anchor" href="#pending-bpmn挂起"><span><code>_pending()</code> {#BPMN挂起}</span></a></h4><p><code>bpmn</code> 交易内挂起进行中的交易 (仅 bpmn 交易)</p><ul><li><p>参数: 无参数</p></li><li><p>返回值: 请求成功,返回响应内容;请求失败,抛出错误 <code>TradeError</code>.</p></li><li><p>示例:</p></li></ul><div class="language-vue line-numbers-mode" data-highlighter="prismjs" data-ext="vue" data-title="vue"><pre><code><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span></span>\n<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>aui-button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>pending<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>pending<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>跳过<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>aui-button</span><span class="token punctuation">&gt;</span></span></span>\n<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span></span>\n<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript"></span>\n<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span></span>\n<span class="line">  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>\n<span class="line">    <span class="token function">pending</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>\n<span class="line">      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_pending</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>\n<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>\n<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>\n<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>\n<span class="line"></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="wakeup-bpmn唤醒" tabindex="-1"><a class="header-anchor" href="#wakeup-bpmn唤醒"><span><code>_wakeup()</code> {#BPMN唤醒}</span></a></h4><p><code>bpmn</code> 交易内唤醒已挂起的交易 (仅 bpmn 交易)</p><ul><li><p>参数: 无参数</p></li><li><p>返回值: 请求成功,返回响应内容;请求失败,抛出错误 <code>TradeError</code>.</p></li><li><p>示例:</p></li></ul><div class="language-vue line-numbers-mode" data-highlighter="prismjs" data-ext="vue" data-title="vue"><pre><code><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span></span>\n<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>aui-button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wakeup<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wakeup<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>唤醒<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>aui-button</span><span class="token punctuation">&gt;</span></span></span>\n<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span></span>\n<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript"></span>\n<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span></span>\n<span class="line">  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>\n<span class="line">    <span class="token function">wakeup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>\n<span class="line">      <span class="token keyword">let</span> args <span class="token operator">=</span> <span class="token punctuation">{</span></span>\n<span class="line">        <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>\n<span class="line">          <span class="token string-property property">&quot;X-ABX-SessionID&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 必传参数,类型: string ,要唤醒交易的sessionID</span></span>\n<span class="line">        <span class="token punctuation">}</span><span class="token punctuation">,</span></span>\n<span class="line">      <span class="token punctuation">}</span><span class="token punctuation">;</span></span>\n<span class="line">      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_wakeup</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span></span>\n<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>\n<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>\n<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>\n<span class="line"></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="auf-交易流程-api" tabindex="-1"><a class="header-anchor" href="#auf-交易流程-api"><span>auf 交易流程 API</span></a></h3><h4 id="next-auf下一步" tabindex="-1"><a class="header-anchor" href="#next-auf下一步"><span><code>_next()</code> {#AUF下一步}</span></a></h4><p><code>auf</code> 交易提交当前节点,跳至下一节点</p><ul><li><p>参数: 无参数</p></li><li><p>返回值: 无</p></li><li><p>示例</p></li></ul><div class="language-vue line-numbers-mode" data-highlighter="prismjs" data-ext="vue" data-title="vue"><pre><code><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span></span>\n<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span></span>\n<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>aui-button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>next<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>next<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>下一步<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>aui-button</span><span class="token punctuation">&gt;</span></span></span>\n<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></span>\n<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span></span>\n<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript"></span>\n<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span></span>\n<span class="line">  <span class="token comment">// ...</span></span>\n<span class="line">  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>\n<span class="line">    <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>\n<span class="line">      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>\n<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>\n<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>\n<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>\n<span class="line"></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="back-auf上一步" tabindex="-1"><a class="header-anchor" href="#back-auf上一步"><span><code>_back()</code> {#AUF上一步}</span></a></h4><p><code>auf</code> 交易返回上一步节点</p><ul><li><p>参数: 无参数</p></li><li><p>返回值: 无</p></li><li><p>示例</p></li></ul><div class="language-vue line-numbers-mode" data-highlighter="prismjs" data-ext="vue" data-title="vue"><pre><code><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span></span>\n<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span></span>\n<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>aui-button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>back<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>back<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>上一步<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>aui-button</span><span class="token punctuation">&gt;</span></span></span>\n<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></span>\n<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span></span>\n<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript"></span>\n<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span></span>\n<span class="line">  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>\n<span class="line">    <span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>\n<span class="line">      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>\n<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>\n<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>\n<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>\n<span class="line"></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="this-getcontext-destroy-auf退出交易" tabindex="-1"><a class="header-anchor" href="#this-getcontext-destroy-auf退出交易"><span><code>this.getContext().destroy()</code> {#AUF退出交易}</span></a></h4><p><code>auf</code> 交易退出当前交易</p><ul><li><p>参数: 无参数</p></li><li><p>返回值:</p></li><li><p>示例</p></li></ul><div class="language-vue line-numbers-mode" data-highlighter="prismjs" data-ext="vue" data-title="vue"><pre><code><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span></span>\n<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span></span>\n<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>aui-row</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">margin-left</span><span class="token punctuation">:</span>-180px<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span></span>\n<span class="line">      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>aui-col</span> <span class="token attr-name">:span</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>3<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:offset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>4<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>\n<span class="line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>aui-button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btn<span class="token punctuation">&quot;</span></span> <span class="token attr-name">plain</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>abort<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>退出交易<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>aui-button</span><span class="token punctuation">&gt;</span></span></span>\n<span class="line">      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>aui-col</span><span class="token punctuation">&gt;</span></span></span>\n<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>aui-row</span><span class="token punctuation">&gt;</span></span></span>\n<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></span>\n<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span></span>\n<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript"></span>\n<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span></span>\n<span class="line">  <span class="token comment">// ...</span></span>\n<span class="line">  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>\n<span class="line">    <span class="token keyword">async</span> <span class="token function">abort</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>\n<span class="line">      <span class="token comment">// ...</span></span>\n<span class="line">      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>\n<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>\n<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>\n<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>\n<span class="line"></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="jump-auf跳转" tabindex="-1"><a class="header-anchor" href="#jump-auf跳转"><span><code>_jump()</code> {#AUF跳转}</span></a></h4><p><code>auf</code> 交易跳转到指定节点</p><ul><li><p>参数: <code>laneId</code>, auf.json 中对应节点配置的泳道 id</p></li><li><p>返回值: 要跳转的节点信息</p></li><li><p>示例</p></li></ul><div class="language-vue line-numbers-mode" data-highlighter="prismjs" data-ext="vue" data-title="vue"><pre><code><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span></span>\n<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span></span>\n<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>aui-button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>jump<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>jump<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>回跳<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>aui-button</span><span class="token punctuation">&gt;</span></span></span>\n<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></span>\n<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span></span>\n<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript"></span>\n<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span></span>\n<span class="line">  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>\n<span class="line">    <span class="token function">jump</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>\n<span class="line">      <span class="token keyword">let</span> laneId <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// auf.json中配置的泳道id</span></span>\n<span class="line">      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_jump</span><span class="token punctuation">(</span>laneId<span class="token punctuation">)</span><span class="token punctuation">;</span></span>\n<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>\n<span class="line">    <span class="token comment">// auf交易中右键可弹出重置和回跳选项,具体说明和配置详见ab-manager-auf文档</span></span>\n<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>\n<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>\n<span class="line"></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="reset-auf重置" tabindex="-1"><a class="header-anchor" href="#reset-auf重置"><span><code>_reset()</code> {#AUF重置}</span></a></h4><p><code>auf</code> 交易重置当前节点</p><ul><li><p>参数: 无参数</p></li><li><p>返回值: 无</p></li><li><p>示例</p></li></ul><div class="language-vue line-numbers-mode" data-highlighter="prismjs" data-ext="vue" data-title="vue"><pre><code><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span></span>\n<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span></span>\n<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>aui-button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>reset<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>reset<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>重置<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>aui-button</span><span class="token punctuation">&gt;</span></span></span>\n<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></span>\n<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span></span>\n<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript"></span>\n<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span></span>\n<span class="line">  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>\n<span class="line">    <span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>\n<span class="line">      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>\n<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>\n<span class="line">    <span class="token comment">// auf交易中右键可弹出重置和回跳选项,具体说明和配置详见ab-manager-auf文档</span></span>\n<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>\n<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>\n<span class="line"></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>',59))])}]]),c=JSON.parse('{"path":"/ABX5/%E5%89%8D%E7%AB%AF/%E6%B7%B1%E5%85%A5%E5%B9%B3%E5%8F%B0/%E4%BA%A4%E6%98%93%E6%B5%81%E7%A8%8B.html","title":"交易流程 {#交易流程}","lang":"en-US","frontmatter":{"outline":"deep"},"headers":[{"level":2,"title":"流程上下文","slug":"流程上下文","link":"#流程上下文","children":[]},{"level":2,"title":"流程操作 API{#流程操作 api}","slug":"流程操作-api-流程操作-api","link":"#流程操作-api-流程操作-api","children":[{"level":3,"title":"bpmn 流程操作 API 汇总","slug":"bpmn-流程操作-api-汇总","link":"#bpmn-流程操作-api-汇总","children":[]},{"level":3,"title":"auf 流程操作 API 汇总","slug":"auf-流程操作-api-汇总","link":"#auf-流程操作-api-汇总","children":[]},{"level":3,"title":"bpmn 交易 API","slug":"bpmn-交易-api","link":"#bpmn-交易-api","children":[]},{"level":3,"title":"auf 交易流程 API","slug":"auf-交易流程-api","link":"#auf-交易流程-api","children":[]}]}],"git":{"updatedTime":1727145923000,"contributors":[{"name":"wangaoqi","email":"wangaoqi@agree.com.cn","commits":1}]},"filePathRelative":"ABX5/前端/深入平台/交易流程.md"}')}}]);