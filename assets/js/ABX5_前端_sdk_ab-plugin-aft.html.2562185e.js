"use strict";(self.webpackChunkmy_vuepress_site=self.webpackChunkmy_vuepress_site||[]).push([[4822],{45737:(n,s,a)=>{a.r(s),a.d(s,{comp:()=>p,data:()=>l});var t=a(20641);const e={},p=(0,a(66262).A)(e,[["render",function(n,s){const a=(0,t.g2)("font");return(0,t.uX)(),(0,t.CE)("div",null,[s[31]||(s[31]=(0,t.Fv)('<h1 id="ab-plugin-aft-前端-aft-类组件" tabindex="-1"><a class="header-anchor" href="#ab-plugin-aft-前端-aft-类组件"><span>ab-plugin-aft @前端 AFT 类组件</span></a></h1><h2 id="_1-引入" tabindex="-1"><a class="header-anchor" href="#_1-引入"><span>1. 引入</span></a></h2><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> Aft <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@agree/ab-plugin-aft&#39;</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="_2-使用" tabindex="-1"><a class="header-anchor" href="#_2-使用"><span>2. 使用</span></a></h2><h3 id="_2-1-printpreviewxmlstring-xml-打印预览" tabindex="-1"><a class="header-anchor" href="#_2-1-printpreviewxmlstring-xml-打印预览"><span>2.1 printPreviewXmlString --xml 打印预览</span></a></h3>',5)),(0,t.Lk)("blockquote",null,[(0,t.bF)(a,{color:"red",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[0]||(s[0]=[(0,t.eW)("支持柜面渠道")]))),_:1})]),s[32]||(s[32]=(0,t.Fv)('<div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">let</span> xmlString <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;xml?XXXXXX&gt;</span><span class="token template-punctuation string">`</span></span> <span class="token comment">//打印xml入参</span></span>\n<span class="line"><span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token keyword">await</span> Aft<span class="token punctuation">.</span><span class="token function">printPreviewXmlString</span><span class="token punctuation">(</span>xmlString<span class="token punctuation">)</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>参数列表:</li></ul><table><thead><tr><th>参数</th><th>类型</th><th>必填参数</th><th>默认值</th><th>说明</th></tr></thead><tbody><tr><td>xmlString</td><td>string</td><td>√</td><td>x</td><td>打印 xml 字符串入参</td></tr></tbody></table><ul><li>返回值: <code>Object</code></li></ul><table><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>res.result</td><td>string</td><td>预览页面的 url</td></tr></tbody></table>',5)),(0,t.Lk)("blockquote",null,[(0,t.bF)(a,{color:"red",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[1]||(s[1]=[(0,t.eW)("对应柜面原 SDK: Printer.printPreviewXmlString(xmlString)")]))),_:1})]),s[33]||(s[33]=(0,t.Lk)("hr",null,null,-1)),s[34]||(s[34]=(0,t.Lk)("h3",{id:"_2-2-printwordpreview-word-打印预览",tabindex:"-1"},[(0,t.Lk)("a",{class:"header-anchor",href:"#_2-2-printwordpreview-word-打印预览"},[(0,t.Lk)("span",null,"2.2 printWordPreview --word 打印预览")])],-1)),(0,t.Lk)("blockquote",null,[(0,t.bF)(a,{color:"red",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[2]||(s[2]=[(0,t.eW)("支持柜面渠道")]))),_:1})]),s[35]||(s[35]=(0,t.Fv)('<div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">let</span> path <span class="token operator">=</span> <span class="token string">&#39;d://test.docx&#39;</span> <span class="token comment">//word文件路径</span></span>\n<span class="line"><span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token keyword">await</span> Aft<span class="token punctuation">.</span><span class="token function">printWordPreview</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>参数列表:</li></ul><table><thead><tr><th>参数</th><th>类型</th><th>必填参数</th><th>默认值</th><th>说明</th></tr></thead><tbody><tr><td>path</td><td>string</td><td>√</td><td>x</td><td>word 文件路径</td></tr></tbody></table><ul><li>返回值: <code>Object</code></li></ul><table><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>res.result</td><td>string</td><td>&quot;true&quot;</td></tr></tbody></table>',5)),(0,t.Lk)("blockquote",null,[(0,t.bF)(a,{color:"red",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[3]||(s[3]=[(0,t.eW)("对应柜面原 SDK: Printer.printWordPreview(path)")]))),_:1})]),s[36]||(s[36]=(0,t.Lk)("hr",null,null,-1)),s[37]||(s[37]=(0,t.Lk)("h3",{id:"_2-3-printexcelpreview-excel-打印预览",tabindex:"-1"},[(0,t.Lk)("a",{class:"header-anchor",href:"#_2-3-printexcelpreview-excel-打印预览"},[(0,t.Lk)("span",null,"2.3 printExcelPreview --excel 打印预览")])],-1)),(0,t.Lk)("blockquote",null,[(0,t.bF)(a,{color:"red",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[4]||(s[4]=[(0,t.eW)("支持柜面渠道")]))),_:1})]),s[38]||(s[38]=(0,t.Fv)('<div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">let</span> path <span class="token operator">=</span> <span class="token string">&#39;d://test.xlsx&#39;</span> <span class="token comment">//excel文件路径</span></span>\n<span class="line"><span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token keyword">await</span> Aft<span class="token punctuation">.</span><span class="token function">printExcelPreview</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>参数列表:</li></ul><table><thead><tr><th>参数</th><th>类型</th><th>必填参数</th><th>默认值</th><th>说明</th></tr></thead><tbody><tr><td>path</td><td>string</td><td>√</td><td>x</td><td>excel 文件路径</td></tr></tbody></table><ul><li>返回值: <code>Object</code></li></ul><table><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>res.result</td><td>string</td><td>&quot;true&quot;</td></tr></tbody></table>',5)),(0,t.Lk)("blockquote",null,[(0,t.bF)(a,{color:"red",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[5]||(s[5]=[(0,t.eW)("对应柜面原 SDK: Printer.printExcelPreview(path)")]))),_:1})]),s[39]||(s[39]=(0,t.Lk)("hr",null,null,-1)),s[40]||(s[40]=(0,t.Lk)("h3",{id:"_2-4-parseaft-解析-aft-文件",tabindex:"-1"},[(0,t.Lk)("a",{class:"header-anchor",href:"#_2-4-parseaft-解析-aft-文件"},[(0,t.Lk)("span",null,"2.4 parseAft --解析 aft 文件")])],-1)),(0,t.Lk)("blockquote",null,[(0,t.bF)(a,{color:"red",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[6]||(s[6]=[(0,t.eW)("支持柜面渠道")]))),_:1})]),s[41]||(s[41]=(0,t.Fv)('<div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">let</span> path <span class="token operator">=</span> <span class="token string">&#39;www/test.aft&#39;</span> <span class="token comment">//aft资源文件路径</span></span>\n<span class="line"><span class="token keyword">let</span> map <span class="token operator">=</span> <span class="token punctuation">{</span></span>\n<span class="line">  <span class="token literal-property property">account</span><span class="token operator">:</span> <span class="token string">&#39;1,230.00&#39;</span><span class="token punctuation">,</span></span>\n<span class="line">  <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">&#39;test&#39;</span><span class="token punctuation">,</span></span>\n<span class="line">  <span class="token literal-property property">namelist</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>\n<span class="line">    <span class="token punctuation">{</span></span>\n<span class="line">      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;hg&#39;</span><span class="token punctuation">,</span></span>\n<span class="line">      <span class="token literal-property property">sexual</span><span class="token operator">:</span> <span class="token string">&#39;male&#39;</span><span class="token punctuation">,</span></span>\n<span class="line">      <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token string">&#39;29&#39;</span></span>\n<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>\n<span class="line">    <span class="token punctuation">{</span></span>\n<span class="line">      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;ly&#39;</span><span class="token punctuation">,</span></span>\n<span class="line">      <span class="token literal-property property">sexual</span><span class="token operator">:</span> <span class="token string">&#39;famle&#39;</span><span class="token punctuation">,</span></span>\n<span class="line">      <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token string">&#39;18&#39;</span></span>\n<span class="line">    <span class="token punctuation">}</span></span>\n<span class="line">  <span class="token punctuation">]</span><span class="token punctuation">,</span></span>\n<span class="line">  <span class="token literal-property property">huangguan</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;123&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;456&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>\n<span class="line">  <span class="token literal-property property">male</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;nan&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;nv&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;other&#39;</span><span class="token punctuation">]</span></span>\n<span class="line"><span class="token punctuation">}</span> <span class="token comment">//映射mapping</span></span>\n<span class="line"><span class="token keyword">let</span> controlParam <span class="token operator">=</span> <span class="token punctuation">{</span></span>\n<span class="line">  <span class="token literal-property property">notRepeatPrintHeaderFooter</span><span class="token operator">:</span> <span class="token string">&#39;6,10&#39;</span></span>\n<span class="line"><span class="token punctuation">}</span> <span class="token comment">//打印配置，详细请参考打印文件aft说明</span></span>\n<span class="line"><span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token keyword">await</span> Aft<span class="token punctuation">.</span><span class="token function">parseAft</span><span class="token punctuation">(</span>path<span class="token punctuation">,</span> map<span class="token punctuation">,</span> controlParam<span class="token punctuation">)</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>参数列表:</li></ul><table><thead><tr><th>参数</th><th>类型</th><th>必填参数</th><th>默认值</th><th>说明</th></tr></thead><tbody><tr><td>path</td><td>string</td><td>√</td><td>x</td><td>aft 资源文件路径</td></tr><tr><td>map</td><td>obj</td><td>√</td><td>x</td><td>映射 mapping</td></tr><tr><td>controlParam</td><td>obj</td><td>√</td><td>x</td><td>打印配置，详细请参考打印文件 aft 说明</td></tr></tbody></table><ul><li>返回值: <code>Object</code></li></ul><table><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>res.transferContent</td><td>string</td><td>解析后的 xml 字符串</td></tr><tr><td>res.totalHeight</td><td>string</td><td>解析后 xml 的高度</td></tr></tbody></table>',5)),(0,t.Lk)("blockquote",null,[(0,t.bF)(a,{color:"red",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[7]||(s[7]=[(0,t.eW)("对应柜面原 SDK: Printer.parseAft(path, map, controlParam)")]))),_:1})]),s[42]||(s[42]=(0,t.Lk)("hr",null,null,-1)),s[43]||(s[43]=(0,t.Lk)("h3",{id:"_2-5-parsemultipageaft-解析循环打印文件",tabindex:"-1"},[(0,t.Lk)("a",{class:"header-anchor",href:"#_2-5-parsemultipageaft-解析循环打印文件"},[(0,t.Lk)("span",null,"2.5 parseMultiPageAft --解析循环打印文件")])],-1)),(0,t.Lk)("blockquote",null,[(0,t.bF)(a,{color:"red",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[8]||(s[8]=[(0,t.eW)("支持柜面渠道")]))),_:1})]),s[44]||(s[44]=(0,t.Fv)('<div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">let</span> path <span class="token operator">=</span> <span class="token string">&#39;/www/FCClient/print/1/T00401017.aft&#39;</span> <span class="token comment">//aft资源文件路径</span></span>\n<span class="line"><span class="token keyword">let</span> map <span class="token operator">=</span> <span class="token punctuation">{</span></span>\n<span class="line">  <span class="token constant">ORG_NUM</span><span class="token operator">:</span> <span class="token string">&#39;12&#39;</span><span class="token punctuation">,</span></span>\n<span class="line">  <span class="token constant">ORG_NO</span><span class="token operator">:</span> <span class="token string">&#39;34&#39;</span><span class="token punctuation">,</span></span>\n<span class="line">  <span class="token constant">PRT_DT</span><span class="token operator">:</span> <span class="token string">&#39;2019-09&#39;</span><span class="token punctuation">,</span></span>\n<span class="line">  <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>\n<span class="line">    <span class="token comment">//[序号，扣款日期，待报解账户，批次号，证件号码，姓名，扣款账号，扣款金额，扣款结果]</span></span>\n<span class="line">    <span class="token literal-property property">tablePrintSerach_Id</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>\n<span class="line">      <span class="token punctuation">[</span><span class="token string">&#39;1&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;20200518&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;371342289&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;23023&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>\n<span class="line">      <span class="token punctuation">[</span><span class="token string">&#39;2&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;20200519&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;222222223&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;234023&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>\n<span class="line">      <span class="token punctuation">[</span><span class="token string">&#39;3&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;20200511&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;2122222313&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;23423&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>\n<span class="line">      <span class="token punctuation">[</span><span class="token string">&#39;4&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;20200512&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;2132222122&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;23423&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>\n<span class="line">      <span class="token punctuation">[</span><span class="token string">&#39;5&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;20200513&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;213222222&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;23&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>\n<span class="line">      <span class="token punctuation">[</span><span class="token string">&#39;6&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;20200514&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;213222214&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;2023&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>\n<span class="line">      <span class="token punctuation">[</span><span class="token string">&#39;7&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;20200515&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;2132222412&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;234223&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>\n<span class="line">      <span class="token punctuation">[</span><span class="token string">&#39;8&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;20200516&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;212222342&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;2343&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>\n<span class="line">      <span class="token punctuation">[</span><span class="token string">&#39;9&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;20200516&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;212222342&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;2343&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>\n<span class="line">      <span class="token punctuation">[</span><span class="token string">&#39;0&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;20200516&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;212222342&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;2343&#39;</span><span class="token punctuation">]</span></span>\n<span class="line">    <span class="token punctuation">]</span></span>\n<span class="line">  <span class="token punctuation">}</span></span>\n<span class="line"><span class="token punctuation">}</span> <span class="token comment">//映射mapping</span></span>\n<span class="line"><span class="token keyword">let</span> para <span class="token operator">=</span> <span class="token punctuation">{</span></span>\n<span class="line">  <span class="token comment">//控制分页有两种参数</span></span>\n<span class="line">  <span class="token comment">// notRepeatPrintHeaderFooter: &quot;6,10&quot;,</span></span>\n<span class="line">  <span class="token literal-property property">TableRowNumOfPage</span><span class="token operator">:</span> <span class="token string">&#39;34&#39;</span><span class="token punctuation">,</span></span>\n<span class="line">  <span class="token literal-property property">TableColWidth</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;30&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;30&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;30&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;30&#39;</span><span class="token punctuation">]</span></span>\n<span class="line"><span class="token punctuation">}</span> <span class="token comment">//打印配置，详细请参考打印文件aft说明</span></span>\n<span class="line"><span class="token keyword">let</span> prtRes <span class="token operator">=</span> <span class="token keyword">await</span> Aft<span class="token punctuation">.</span><span class="token function">parseMultiPageAft</span><span class="token punctuation">(</span>path<span class="token punctuation">,</span> map<span class="token punctuation">,</span> para<span class="token punctuation">)</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>参数列表:</li></ul><table><thead><tr><th>参数</th><th>类型</th><th>必填参数</th><th>默认值</th><th>说明</th></tr></thead><tbody><tr><td>path</td><td>string</td><td>√</td><td>x</td><td>aft 资源文件路径</td></tr><tr><td>map</td><td>obj</td><td>√</td><td>x</td><td>映射 mapping</td></tr><tr><td>para</td><td>obj</td><td>√</td><td>x</td><td>打印配置，详细请参考打印文件 aft 说明</td></tr></tbody></table><ul><li>返回值: <code>Object</code></li></ul><table><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>res.result</td><td>array</td><td>解析后的 xml 字符串数组</td></tr></tbody></table>',5)),(0,t.Lk)("blockquote",null,[(0,t.bF)(a,{color:"red",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[9]||(s[9]=[(0,t.eW)("对应柜面原 SDK: Printer.parseMultiPageAft(path, map, para)")]))),_:1})]),s[45]||(s[45]=(0,t.Lk)("hr",null,null,-1)),s[46]||(s[46]=(0,t.Lk)("h3",{id:"_2-6-combineandclipaft-拼接并分割已解析好的-aft-字符串-合并多个利用-parseaftcommandhandler-解析出的-xml-字符串-根据参数切割并返回可供打印的-xml-字符串-list",tabindex:"-1"},[(0,t.Lk)("a",{class:"header-anchor",href:"#_2-6-combineandclipaft-拼接并分割已解析好的-aft-字符串-合并多个利用-parseaftcommandhandler-解析出的-xml-字符串-根据参数切割并返回可供打印的-xml-字符串-list"},[(0,t.Lk)("span",null,"2.6 combineAndClipAft --拼接并分割已解析好的 aft 字符串，合并多个利用 ParseAftCommandHandler 解析出的 Xml 字符串.根据参数切割并返回可供打印的 xml 字符串 List")])],-1)),(0,t.Lk)("blockquote",null,[(0,t.bF)(a,{color:"red",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[10]||(s[10]=[(0,t.eW)("支持柜面渠道")]))),_:1})]),s[47]||(s[47]=(0,t.Fv)('<div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">let</span> aftXmls <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>prtlist <span class="token comment">//解析好的aft字符串List 必输</span></span>\n<span class="line"><span class="token keyword">let</span> gaps <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;2&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;2&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;2&#39;</span><span class="token punctuation">]</span> <span class="token comment">//合并时每页面之间域的间距List 必输</span></span>\n<span class="line"><span class="token keyword">let</span> insertElemMarginTop <span class="token operator">=</span> <span class="token string">&#39;15&#39;</span> <span class="token comment">//insertXml插入新页时距离顶部的偏移量 undefined时视作0</span></span>\n<span class="line"><span class="token keyword">let</span> insertElemMarginBottom <span class="token operator">=</span> <span class="token string">&#39;5&#39;</span> <span class="token comment">//insertXml插入新页时底部距离下一field的偏移量,insertXml为空时可视作页面顶部偏移量 必输</span></span>\n<span class="line"><span class="token keyword">let</span> insertXml <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>head <span class="token comment">//每次换页时在头部插入的aft Xml String,可以为null</span></span>\n<span class="line"><span class="token keyword">let</span> clipThreshold <span class="token operator">=</span> <span class="token string">&#39;250&#39;</span> <span class="token comment">//切割切割限制,合并时位置超出此高度的域会被加入下页的大小</span></span>\n<span class="line"><span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token keyword">await</span> Aft<span class="token punctuation">.</span><span class="token function">combineAndClipAft</span><span class="token punctuation">(</span>aftXmls<span class="token punctuation">,</span> gaps<span class="token punctuation">,</span> insertElemMarginTop<span class="token punctuation">,</span> insertElemMarginBottom<span class="token punctuation">,</span> insertXml<span class="token punctuation">,</span> clipThreshold<span class="token punctuation">)</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>参数列表:</li></ul><table><thead><tr><th>参数</th><th>类型</th><th>必填参数</th><th>默认值</th><th>说明</th></tr></thead><tbody><tr><td>aftXmls</td><td>list</td><td>√</td><td>x</td><td>解析好的 aft 字符串 List</td></tr><tr><td>gaps</td><td>list</td><td>√</td><td>x</td><td>合并时每页面之间域的间距 List</td></tr><tr><td>insertElemMarginTop</td><td>string</td><td>x</td><td>x</td><td>insertXml 插入新页时距离顶部的偏移量</td></tr><tr><td>insertElemMarginBottom</td><td>string</td><td>√</td><td>x</td><td>insertXml 插入新页时底部距离下一 field 的偏移量</td></tr><tr><td>insertXml</td><td>string</td><td>x</td><td>x</td><td>每次换页时在头部插入的 aft</td></tr><tr><td>clipThreshold</td><td>string</td><td>√</td><td>x</td><td>切割切割限制,合并时位置超出此高度的域会被加入下页的大小</td></tr></tbody></table><ul><li>返回值: <code>Object</code></li></ul><table><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>res.result</td><td>array</td><td>解析后的 xml 字符串数组</td></tr></tbody></table>',5)),(0,t.Lk)("blockquote",null,[(0,t.bF)(a,{color:"red",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[11]||(s[11]=[(0,t.eW)("对应柜面原 SDK: Printer.combineAndClipAft(aftXmls, gaps, insertElemMarginTop, insertElemMarginBottom, insertXml, clipThreshold)")]))),_:1})]),s[48]||(s[48]=(0,t.Lk)("hr",null,null,-1)),s[49]||(s[49]=(0,t.Lk)("h3",{id:"_2-7-combineaftwithheadandtail-拼接-aft-包含头和尾",tabindex:"-1"},[(0,t.Lk)("a",{class:"header-anchor",href:"#_2-7-combineaftwithheadandtail-拼接-aft-包含头和尾"},[(0,t.Lk)("span",null,"2.7 combineAftWithHeadAndTail --拼接 Aft 包含头和尾")])],-1)),(0,t.Lk)("blockquote",null,[(0,t.bF)(a,{color:"red",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[12]||(s[12]=[(0,t.eW)("支持柜面渠道")]))),_:1})]),s[50]||(s[50]=(0,t.Fv)('<div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">let</span> head <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>head <span class="token comment">//解析后的xml字符串</span></span>\n<span class="line"><span class="token keyword">let</span> tail <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>tail <span class="token comment">//解析后的xml字符串</span></span>\n<span class="line"><span class="token keyword">let</span> aftXmls <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>prtlist <span class="token comment">//解析后的xml字符串数组</span></span>\n<span class="line"><span class="token keyword">let</span> offsets <span class="token operator">=</span> <span class="token punctuation">[</span></span>\n<span class="line">  <span class="token punctuation">[</span><span class="token string">&#39;10&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;0&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>\n<span class="line">  <span class="token punctuation">[</span><span class="token string">&#39;10&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;0&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>\n<span class="line">  <span class="token punctuation">[</span><span class="token string">&#39;10&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;0&#39;</span><span class="token punctuation">]</span></span>\n<span class="line"><span class="token punctuation">]</span></span>\n<span class="line"><span class="token keyword">let</span> pageTop <span class="token operator">=</span> <span class="token string">&#39;10.0&#39;</span></span>\n<span class="line"><span class="token keyword">let</span> pageBottom <span class="token operator">=</span> <span class="token string">&#39;250.0&#39;</span></span>\n<span class="line"><span class="token keyword">let</span> gap <span class="token operator">=</span> <span class="token string">&#39;10.0&#39;</span></span>\n<span class="line"><span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token keyword">await</span> Aft<span class="token punctuation">.</span><span class="token function">combineAftWithHeadAndTail</span><span class="token punctuation">(</span>aftXmls<span class="token punctuation">,</span> head<span class="token punctuation">,</span> tail<span class="token punctuation">,</span> offsets<span class="token punctuation">,</span> pageTop<span class="token punctuation">,</span> pageBottom<span class="token punctuation">,</span> gap<span class="token punctuation">)</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>参数列表:</li></ul><table><thead><tr><th>参数</th><th>类型</th><th>必填参数</th><th>默认值</th><th>说明</th></tr></thead><tbody><tr><td>aftXmls</td><td>list</td><td>√</td><td>x</td><td>解析后的 xml 字符串数组</td></tr><tr><td>head</td><td>string</td><td>√</td><td>x</td><td>解析后的 xml 字符串</td></tr><tr><td>tail</td><td>string</td><td>√</td><td>x</td><td>解析后的 xml 字符串</td></tr><tr><td>offsets</td><td>array</td><td>√</td><td>x</td><td>insertXml 插入新页时底部距离下一 field 的偏移量</td></tr><tr><td>pageTop</td><td>string</td><td>√</td><td>x</td><td>距离头部的距离</td></tr><tr><td>pageBottom</td><td>string</td><td>√</td><td>x</td><td>距离底部的距离</td></tr><tr><td>gap</td><td>string</td><td>√</td><td>x</td><td>暂时未知</td></tr></tbody></table><ul><li>返回值: <code>Object</code></li></ul><table><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>res.result</td><td>array</td><td>解析后的 xml 字符串数组</td></tr></tbody></table>',5)),(0,t.Lk)("blockquote",null,[(0,t.bF)(a,{color:"red",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[13]||(s[13]=[(0,t.eW)("对应柜面原 SDK: Printer.combineAftWithHeadAndTail(aftXmls,head,tail,offsets,pageTop,pageBottom,gap)")]))),_:1})]),s[51]||(s[51]=(0,t.Lk)("hr",null,null,-1)),s[52]||(s[52]=(0,t.Lk)("h3",{id:"_2-8-combineaft-拼接-aft-字符串",tabindex:"-1"},[(0,t.Lk)("a",{class:"header-anchor",href:"#_2-8-combineaft-拼接-aft-字符串"},[(0,t.Lk)("span",null,"2.8 combineAft --拼接 Aft 字符串")])],-1)),(0,t.Lk)("blockquote",null,[(0,t.bF)(a,{color:"red",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[14]||(s[14]=[(0,t.eW)("支持柜面渠道")]))),_:1})]),s[53]||(s[53]=(0,t.Fv)('<div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">let</span> aftPaths <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;/www/FCClient/print/1/T00401017.aft&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;/www/FCClient/print/1/T00401018.aft&#39;</span><span class="token punctuation">]</span> <span class="token comment">//aft资源文件路径数组</span></span>\n<span class="line"><span class="token keyword">let</span> mapping <span class="token operator">=</span> <span class="token punctuation">{</span></span>\n<span class="line">  <span class="token constant">ORG_NUM</span><span class="token operator">:</span> <span class="token string">&#39;12&#39;</span><span class="token punctuation">,</span></span>\n<span class="line">  <span class="token constant">ORG_NO</span><span class="token operator">:</span> <span class="token string">&#39;34&#39;</span><span class="token punctuation">,</span></span>\n<span class="line">  <span class="token constant">PRT_DT</span><span class="token operator">:</span> <span class="token string">&#39;2019-09&#39;</span></span>\n<span class="line"><span class="token punctuation">}</span> <span class="token comment">//映射mapping</span></span>\n<span class="line"><span class="token keyword">let</span> controlParams <span class="token operator">=</span> <span class="token punctuation">{</span></span>\n<span class="line">  <span class="token comment">//控制分页有两种参数</span></span>\n<span class="line">  <span class="token comment">// notRepeatPrintHeaderFooter: &quot;6,10&quot;,</span></span>\n<span class="line">  <span class="token literal-property property">TableRowNumOfPage</span><span class="token operator">:</span> <span class="token string">&#39;34&#39;</span><span class="token punctuation">,</span></span>\n<span class="line">  <span class="token literal-property property">TableColWidth</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;30&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;30&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;30&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;30&#39;</span><span class="token punctuation">]</span></span>\n<span class="line"><span class="token punctuation">}</span> <span class="token comment">//打印配置，详细请参考打印文件aft说明</span></span>\n<span class="line"><span class="token keyword">let</span> bodyOffsetTop <span class="token operator">=</span> <span class="token string">&#39;10&#39;</span></span>\n<span class="line"><span class="token keyword">let</span> tailOffsetTop <span class="token operator">=</span> <span class="token string">&#39;10&#39;</span></span>\n<span class="line"><span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token keyword">await</span> Aft<span class="token punctuation">.</span><span class="token function">combineAft</span><span class="token punctuation">(</span>aftPaths<span class="token punctuation">,</span> mapping<span class="token punctuation">,</span> controlParams<span class="token punctuation">,</span> bodyOffsetTop<span class="token punctuation">,</span> tailOffsetTop<span class="token punctuation">)</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>参数列表:</li></ul><table><thead><tr><th>参数</th><th>类型</th><th>必填参数</th><th>默认值</th><th>说明</th></tr></thead><tbody><tr><td>aftPaths</td><td>array</td><td>√</td><td>x</td><td>aft 资源文件路径数组</td></tr><tr><td>mapping</td><td>map</td><td>√</td><td>x</td><td>映射 mapping</td></tr><tr><td>controlParams</td><td>map</td><td>√</td><td>x</td><td>打印配置，详细请参考打印文件 aft 说明</td></tr><tr><td>bodyOffsetTop</td><td>string</td><td>√</td><td>x</td><td>body 距离头部的距离</td></tr><tr><td>tailOffsetTop</td><td>string</td><td>√</td><td>x</td><td>底部到头部的距离</td></tr></tbody></table><ul><li>返回值: <code>Object</code></li></ul><table><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>res.result</td><td>string</td><td>解析后的 xml 字符串</td></tr></tbody></table>',5)),(0,t.Lk)("blockquote",null,[(0,t.bF)(a,{color:"red",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[15]||(s[15]=[(0,t.eW)("对应柜面原 SDK: Printer.combineAft(aftPaths,mapping,controlParams,bodyOffsetTop,tailOffsetTop)")]))),_:1})]),s[54]||(s[54]=(0,t.Lk)("hr",null,null,-1)),s[55]||(s[55]=(0,t.Lk)("h3",{id:"_2-9-afttopdf-aft-转换为-pdf-壳子无相应支持-勿调用",tabindex:"-1"},[(0,t.Lk)("a",{class:"header-anchor",href:"#_2-9-afttopdf-aft-转换为-pdf-壳子无相应支持-勿调用"},[(0,t.Lk)("span",null,"2.9 aftToPdf --aft 转换为 pdf （壳子无相应支持，勿调用！）")])],-1)),(0,t.Lk)("blockquote",null,[(0,t.bF)(a,{color:"red",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[16]||(s[16]=[(0,t.eW)("支持柜面渠道（壳子无相应支持，勿调用！）")]))),_:1})]),s[56]||(s[56]=(0,t.Fv)('<div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">let</span> aftPath <span class="token operator">=</span> <span class="token string">&#39;D://test.aft&#39;</span> <span class="token comment">//aft文件路径 相对路径</span></span>\n<span class="line"><span class="token keyword">let</span> pdfPath <span class="token operator">=</span> <span class="token string">&#39;D://test.pdf&#39;</span> <span class="token comment">//pdf文件路径 绝对路径</span></span>\n<span class="line"><span class="token keyword">let</span> mapping <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token constant">ORG_NUM</span><span class="token operator">:</span> <span class="token string">&#39;12&#39;</span><span class="token punctuation">,</span> <span class="token constant">ORG_NO</span><span class="token operator">:</span> <span class="token string">&#39;34&#39;</span><span class="token punctuation">,</span> <span class="token constant">PRT_DT</span><span class="token operator">:</span> <span class="token string">&#39;2019-09&#39;</span> <span class="token punctuation">}</span> <span class="token comment">//所有文本框的赋值</span></span>\n<span class="line"><span class="token keyword">let</span> controlParams <span class="token operator">=</span> <span class="token punctuation">{</span></span>\n<span class="line">  <span class="token comment">//控制分页有两种参数</span></span>\n<span class="line">  <span class="token comment">// notRepeatPrintHeaderFooter: &quot;6,10&quot;,</span></span>\n<span class="line">  <span class="token literal-property property">TableRowNumOfPage</span><span class="token operator">:</span> <span class="token string">&#39;34&#39;</span><span class="token punctuation">,</span></span>\n<span class="line">  <span class="token literal-property property">TableColWidth</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;30&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;30&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;30&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;30&#39;</span><span class="token punctuation">]</span></span>\n<span class="line"><span class="token punctuation">}</span> <span class="token comment">//打印配置，详细请参考打印文件aft说明</span></span>\n<span class="line"><span class="token keyword">let</span> waterMarkName <span class="token operator">=</span> <span class="token string">&#39;&#39;</span> <span class="token comment">//水印值</span></span>\n<span class="line"><span class="token keyword">let</span> font <span class="token operator">=</span> <span class="token string">&#39;&#39;</span> <span class="token comment">//水印字体大小</span></span>\n<span class="line"><span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token keyword">await</span> Aft<span class="token punctuation">.</span><span class="token function">aftToPdf</span><span class="token punctuation">(</span>aftPath<span class="token punctuation">,</span> pdfPath<span class="token punctuation">,</span> mapping<span class="token punctuation">,</span> controlParams<span class="token punctuation">,</span> waterMarkName<span class="token punctuation">,</span> font<span class="token punctuation">)</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><table><thead><tr><th>参数</th><th>类型</th><th>必填参数</th><th>默认值</th><th>说明</th></tr></thead><tbody><tr><td>aftPath</td><td>any</td><td>√</td><td>x</td><td>aft 文件路径</td></tr><tr><td>pdfPath</td><td>any</td><td>√</td><td>x</td><td>pdf 文件路径</td></tr><tr><td>mapping</td><td>any</td><td>√</td><td>x</td><td>所有文本框的赋值</td></tr><tr><td>controlParams</td><td>any</td><td>√</td><td>x</td><td>打印配置，详细请参考打印文件 aft 说明</td></tr><tr><td>waterMarkName</td><td>any</td><td>√</td><td>x</td><td>水印值</td></tr><tr><td>font</td><td>any</td><td>√</td><td>x</td><td>水印字体大小</td></tr></tbody></table><ul><li>返回值: <code>Object</code></li></ul><table><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>res.result</td><td>string</td><td>暂时未知</td></tr></tbody></table>',4)),(0,t.Lk)("blockquote",null,[(0,t.bF)(a,{color:"red",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[17]||(s[17]=[(0,t.eW)("对应柜面原 SDK: Printer.aftToPdf(aftPath,pdfPath,mapping,controlParams,waterMarkName,font)")]))),_:1})]),s[57]||(s[57]=(0,t.Lk)("hr",null,null,-1)),s[58]||(s[58]=(0,t.Lk)("h3",{id:"_2-10-looperafttopdf-循环打印-pdf-壳子无相应支持-勿调用",tabindex:"-1"},[(0,t.Lk)("a",{class:"header-anchor",href:"#_2-10-looperafttopdf-循环打印-pdf-壳子无相应支持-勿调用"},[(0,t.Lk)("span",null,"2.10 looperAftToPdf --循环打印 PDF（壳子无相应支持，勿调用！）")])],-1)),(0,t.Lk)("blockquote",null,[(0,t.bF)(a,{color:"red",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[18]||(s[18]=[(0,t.eW)("支持柜面渠道（壳子无相应支持，勿调用！）")]))),_:1})]),s[59]||(s[59]=(0,t.Fv)('<div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">let</span> aftPath <span class="token operator">=</span> <span class="token string">&#39;D://test.aft&#39;</span> <span class="token comment">//aft文件路径 相对路径</span></span>\n<span class="line"><span class="token keyword">let</span> pdfPath <span class="token operator">=</span> <span class="token string">&#39;D://test.pdf&#39;</span> <span class="token comment">//pdf文件路径 绝对路径</span></span>\n<span class="line"><span class="token keyword">let</span> jointString <span class="token operator">=</span> <span class="token string">&#39;&#39;</span> <span class="token comment">//一页中aft的数量，false确认一页一个</span></span>\n<span class="line"><span class="token keyword">let</span> mapping <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token constant">ORG_NUM</span><span class="token operator">:</span> <span class="token string">&#39;12&#39;</span><span class="token punctuation">,</span> <span class="token constant">ORG_NO</span><span class="token operator">:</span> <span class="token string">&#39;34&#39;</span><span class="token punctuation">,</span> <span class="token constant">PRT_DT</span><span class="token operator">:</span> <span class="token string">&#39;2019-09&#39;</span> <span class="token punctuation">}</span> <span class="token comment">//所有文本框的赋值</span></span>\n<span class="line"><span class="token keyword">let</span> controlParams <span class="token operator">=</span> <span class="token punctuation">{</span></span>\n<span class="line">  <span class="token comment">//控制分页有两种参数</span></span>\n<span class="line">  <span class="token comment">// notRepeatPrintHeaderFooter: &quot;6,10&quot;,</span></span>\n<span class="line">  <span class="token literal-property property">TableRowNumOfPage</span><span class="token operator">:</span> <span class="token string">&#39;34&#39;</span><span class="token punctuation">,</span></span>\n<span class="line">  <span class="token literal-property property">TableColWidth</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;30&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;30&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;30&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;30&#39;</span><span class="token punctuation">]</span></span>\n<span class="line"><span class="token punctuation">}</span> <span class="token comment">//打印配置，详细请参考打印文件aft说明</span></span>\n<span class="line"><span class="token keyword">let</span> waterMarkName <span class="token operator">=</span> <span class="token string">&#39;&#39;</span> <span class="token comment">//水印值</span></span>\n<span class="line"><span class="token keyword">let</span> font <span class="token operator">=</span> <span class="token string">&#39;&#39;</span> <span class="token comment">//水印字体大小</span></span>\n<span class="line"><span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token keyword">await</span> Aft<span class="token punctuation">.</span><span class="token function">looperAftToPdf</span><span class="token punctuation">(</span>aftPath<span class="token punctuation">,</span> pdfPath<span class="token punctuation">,</span> jointString<span class="token punctuation">,</span> mapping<span class="token punctuation">,</span> controlParams<span class="token punctuation">,</span> waterMarkName<span class="token punctuation">,</span> font<span class="token punctuation">)</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><table><thead><tr><th>参数</th><th>类型</th><th>必填参数</th><th>默认值</th><th>说明</th></tr></thead><tbody><tr><td>aftPath</td><td>any</td><td>√</td><td>x</td><td>aft 文件路径</td></tr><tr><td>pdfPath</td><td>any</td><td>√</td><td>x</td><td>pdf 文件路径</td></tr><tr><td>jointString</td><td>any</td><td>√</td><td>x</td><td>一页中 aft 的数量，false 确认一页一个</td></tr><tr><td>mapping</td><td>any</td><td>√</td><td>x</td><td>所有文本框的赋值</td></tr><tr><td>controlParams</td><td>any</td><td>√</td><td>x</td><td>打印配置，详细请参考打印文件 aft 说明</td></tr><tr><td>waterMarkName</td><td>any</td><td>√</td><td>x</td><td>水印值</td></tr><tr><td>font</td><td>any</td><td>√</td><td>x</td><td>水印字体大小</td></tr></tbody></table><ul><li>返回值: <code>Object</code></li></ul><table><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>res.result</td><td>string</td><td>暂时未知</td></tr></tbody></table>',4)),(0,t.Lk)("blockquote",null,[(0,t.bF)(a,{color:"red",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[19]||(s[19]=[(0,t.eW)("对应柜面原 SDK: Printer.looperAftToPdf(aftPath,pdfPath,jointString,mapping,controlParams,waterMarkName,font)")]))),_:1})]),s[60]||(s[60]=(0,t.Lk)("hr",null,null,-1)),s[61]||(s[61]=(0,t.Lk)("h3",{id:"_2-11-selectdirector-选择文件夹目录-壳子无相应支持-勿调用",tabindex:"-1"},[(0,t.Lk)("a",{class:"header-anchor",href:"#_2-11-selectdirector-选择文件夹目录-壳子无相应支持-勿调用"},[(0,t.Lk)("span",null,"2.11 selectDirector --选择文件夹目录（壳子无相应支持，勿调用！）")])],-1)),(0,t.Lk)("blockquote",null,[(0,t.bF)(a,{color:"red",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[20]||(s[20]=[(0,t.eW)("支持柜面渠道（壳子无相应支持，勿调用！）")]))),_:1})]),s[62]||(s[62]=(0,t.Fv)('<div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">let</span> mkdirOrGet <span class="token operator">=</span> <span class="token string">&#39;&#39;</span> <span class="token comment">//文件夹目录判断变量 mkdir 打开弹窗 get 返回路径</span></span>\n<span class="line"><span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token keyword">await</span> Aft<span class="token punctuation">.</span><span class="token function">selectDirector</span><span class="token punctuation">(</span>mkdirOrGet<span class="token punctuation">)</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><table><thead><tr><th>参数</th><th>类型</th><th>必填参数</th><th>默认值</th><th>说明</th></tr></thead><tbody><tr><td>mkdirOrGet</td><td>string</td><td>√</td><td>x</td><td>文件夹目录判断变量</td></tr></tbody></table><ul><li>返回值: <code>Object</code></li></ul><table><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>res.result</td><td>string</td><td>暂时未知</td></tr></tbody></table>',4)),(0,t.Lk)("blockquote",null,[(0,t.bF)(a,{color:"red",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[21]||(s[21]=[(0,t.eW)("对应柜面原 SDK: Printer.selectDirector(mkdirOrGet)")]))),_:1})]),s[63]||(s[63]=(0,t.Lk)("hr",null,null,-1)),s[64]||(s[64]=(0,t.Lk)("h3",{id:"_2-12-concataft-合并-aft-壳子无相应支持-勿调用",tabindex:"-1"},[(0,t.Lk)("a",{class:"header-anchor",href:"#_2-12-concataft-合并-aft-壳子无相应支持-勿调用"},[(0,t.Lk)("span",null,"2.12 concatAft --合并 aft（壳子无相应支持，勿调用！）")])],-1)),(0,t.Lk)("blockquote",null,[(0,t.bF)(a,{color:"red",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[22]||(s[22]=[(0,t.eW)("支持柜面渠道（壳子无相应支持，勿调用！）")]))),_:1})]),s[65]||(s[65]=(0,t.Fv)('<div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">let</span> aftList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;/www/FCClient/print/1/T00401017.aft&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;/www/FCClient/print/1/T00401018.aft&#39;</span><span class="token punctuation">]</span> <span class="token comment">//所有aft文件路径 相对路径</span></span>\n<span class="line"><span class="token keyword">let</span> pdfString <span class="token operator">=</span> <span class="token string">&#39;D://test.pdf&#39;</span> <span class="token comment">//pdf文件路径 绝对路径</span></span>\n<span class="line"><span class="token keyword">let</span> mapping <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token constant">ORG_NUM</span><span class="token operator">:</span> <span class="token string">&#39;12&#39;</span><span class="token punctuation">,</span> <span class="token constant">ORG_NO</span><span class="token operator">:</span> <span class="token string">&#39;34&#39;</span><span class="token punctuation">,</span> <span class="token constant">PRT_DT</span><span class="token operator">:</span> <span class="token string">&#39;2019-09&#39;</span> <span class="token punctuation">}</span> <span class="token comment">//所以文本框的赋值 list&lt;map&gt;</span></span>\n<span class="line"><span class="token keyword">let</span> controlParams <span class="token operator">=</span> <span class="token punctuation">{</span></span>\n<span class="line">  <span class="token comment">//控制分页有两种参数</span></span>\n<span class="line">  <span class="token comment">// notRepeatPrintHeaderFooter: &quot;6,10&quot;,</span></span>\n<span class="line">  <span class="token literal-property property">TableRowNumOfPage</span><span class="token operator">:</span> <span class="token string">&#39;34&#39;</span><span class="token punctuation">,</span></span>\n<span class="line">  <span class="token literal-property property">TableColWidth</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;30&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;30&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;30&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;30&#39;</span><span class="token punctuation">]</span></span>\n<span class="line"><span class="token punctuation">}</span> <span class="token comment">//打印配置，详细请参考打印文件aft说明</span></span>\n<span class="line"><span class="token keyword">let</span> waterMarkName <span class="token operator">=</span> <span class="token string">&#39;&#39;</span> <span class="token comment">//水印值</span></span>\n<span class="line"><span class="token keyword">let</span> font <span class="token operator">=</span> <span class="token string">&#39;&#39;</span> <span class="token comment">//水印字体大小</span></span>\n<span class="line"><span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token keyword">await</span> Aft<span class="token punctuation">.</span><span class="token function">concatAft</span><span class="token punctuation">(</span>aftList<span class="token punctuation">,</span> pdfString<span class="token punctuation">,</span> mapping<span class="token punctuation">,</span> controlParams<span class="token punctuation">,</span> waterMarkName<span class="token punctuation">,</span> font<span class="token punctuation">)</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><table><thead><tr><th>参数</th><th>类型</th><th>必填参数</th><th>默认值</th><th>说明</th></tr></thead><tbody><tr><td>aftList</td><td>list</td><td>√</td><td>x</td><td>所有 aft 文件路径</td></tr><tr><td>pdfString</td><td>string</td><td>√</td><td>x</td><td>pdf 文件路径</td></tr><tr><td>mapping</td><td>map</td><td>√</td><td>x</td><td>所有文本框的赋值</td></tr><tr><td>controlParams</td><td>map</td><td>√</td><td>x</td><td>打印配置，详细请参考打印文件 aft 说明</td></tr><tr><td>waterMarkName</td><td>string</td><td>√</td><td>x</td><td>水印值</td></tr><tr><td>font</td><td>string</td><td>√</td><td>x</td><td>水印字体大小</td></tr></tbody></table><ul><li>返回值: <code>Object</code></li></ul><table><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>res.result</td><td>string</td><td>暂时未知</td></tr></tbody></table>',4)),(0,t.Lk)("blockquote",null,[(0,t.bF)(a,{color:"red",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[23]||(s[23]=[(0,t.eW)("对应柜面原 SDK: Printer.concatAft(aftList,pdfString,mapping,controlParams,waterMarkName,font)")]))),_:1})]),s[66]||(s[66]=(0,t.Lk)("hr",null,null,-1)),s[67]||(s[67]=(0,t.Lk)("h3",{id:"_2-13-looperaddpicture-aft-中按需求添加图片-壳子无相应支持-勿调用",tabindex:"-1"},[(0,t.Lk)("a",{class:"header-anchor",href:"#_2-13-looperaddpicture-aft-中按需求添加图片-壳子无相应支持-勿调用"},[(0,t.Lk)("span",null,"2.13 looperAddPicture --Aft 中按需求添加图片（壳子无相应支持，勿调用！）")])],-1)),(0,t.Lk)("blockquote",null,[(0,t.bF)(a,{color:"red",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[24]||(s[24]=[(0,t.eW)("支持柜面渠道（壳子无相应支持，勿调用！）")]))),_:1})]),s[68]||(s[68]=(0,t.Fv)('<div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">let</span> aftPath <span class="token operator">=</span> <span class="token string">&#39;D://test.aft&#39;</span> <span class="token comment">//本体表单的aft路径，图片的aft路径</span></span>\n<span class="line"><span class="token keyword">let</span> pdfPath <span class="token operator">=</span> <span class="token string">&#39;D://test.pdf&#39;</span> <span class="token comment">//pdf文件路径 绝对路径</span></span>\n<span class="line"><span class="token keyword">let</span> mapping <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token constant">ORG_NUM</span><span class="token operator">:</span> <span class="token string">&#39;12&#39;</span><span class="token punctuation">,</span> <span class="token constant">ORG_NO</span><span class="token operator">:</span> <span class="token string">&#39;34&#39;</span><span class="token punctuation">,</span> <span class="token constant">PRT_DT</span><span class="token operator">:</span> <span class="token string">&#39;2019-09&#39;</span> <span class="token punctuation">}</span> <span class="token comment">//所有文本框的赋值 list&lt;map&gt;</span></span>\n<span class="line"><span class="token keyword">let</span> ImgSrcKey <span class="token operator">=</span> <span class="token string">&#39;&#39;</span> <span class="token comment">//图片src的值</span></span>\n<span class="line"><span class="token keyword">let</span> controlParams <span class="token operator">=</span> <span class="token punctuation">{</span></span>\n<span class="line">  <span class="token comment">//控制分页有两种参数</span></span>\n<span class="line">  <span class="token comment">// notRepeatPrintHeaderFooter: &quot;6,10&quot;,</span></span>\n<span class="line">  <span class="token literal-property property">TableRowNumOfPage</span><span class="token operator">:</span> <span class="token string">&#39;34&#39;</span><span class="token punctuation">,</span></span>\n<span class="line">  <span class="token literal-property property">TableColWidth</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;30&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;30&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;30&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;30&#39;</span><span class="token punctuation">]</span></span>\n<span class="line"><span class="token punctuation">}</span> <span class="token comment">//Map&lt;String, Object&gt;</span></span>\n<span class="line"><span class="token keyword">let</span> waterMarkName <span class="token operator">=</span> <span class="token string">&#39;&#39;</span> <span class="token comment">//水印值</span></span>\n<span class="line"><span class="token keyword">let</span> font <span class="token operator">=</span> <span class="token string">&#39;&#39;</span> <span class="token comment">//水印字体大小</span></span>\n<span class="line"><span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token keyword">await</span> Aft<span class="token punctuation">.</span><span class="token function">looperAddPicture</span><span class="token punctuation">(</span>aftPath<span class="token punctuation">,</span> pdfPath<span class="token punctuation">,</span> mapping<span class="token punctuation">,</span> ImgSrcKey<span class="token punctuation">,</span> controlParams<span class="token punctuation">,</span> waterMarkName<span class="token punctuation">,</span> font<span class="token punctuation">)</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><table><thead><tr><th>参数</th><th>类型</th><th>必填参数</th><th>默认值</th><th>说明</th></tr></thead><tbody><tr><td>aftPath</td><td>list</td><td>√</td><td>x</td><td>本体表单的 aft 路径，图片的 aft 路径</td></tr><tr><td>pdfPath</td><td>string</td><td>√</td><td>x</td><td>pdf 文件路径</td></tr><tr><td>mapping</td><td>map</td><td>√</td><td>x</td><td>所有文本框的赋值</td></tr><tr><td>ImgSrcKey</td><td>map</td><td>√</td><td>x</td><td>图片 src 的值</td></tr><tr><td>controlParams</td><td>map</td><td>√</td><td>x</td><td>打印配置，详细请参考打印文件 aft 说明</td></tr><tr><td>waterMarkName</td><td>string</td><td>√</td><td>x</td><td>水印值</td></tr><tr><td>font</td><td>string</td><td>√</td><td>x</td><td>水印字体大小</td></tr></tbody></table><ul><li>返回值: <code>Object</code></li></ul><table><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>res.result</td><td>string</td><td>暂时未知</td></tr></tbody></table>',4)),(0,t.Lk)("blockquote",null,[(0,t.bF)(a,{color:"red",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[25]||(s[25]=[(0,t.eW)("对应柜面原 SDK: Printer.looperAddPicture(aftPath,pdfPath,mapping,ImgSrcKey,controlParams,waterMarkName,font)")]))),_:1})]),s[69]||(s[69]=(0,t.Lk)("hr",null,null,-1)),s[70]||(s[70]=(0,t.Lk)("h3",{id:"_2-14-printtable-通用表格打印-不带线",tabindex:"-1"},[(0,t.Lk)("a",{class:"header-anchor",href:"#_2-14-printtable-通用表格打印-不带线"},[(0,t.Lk)("span",null,"2.14 printTable --通用表格打印（不带线）")])],-1)),(0,t.Lk)("blockquote",null,[(0,t.bF)(a,{color:"red",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[26]||(s[26]=[(0,t.eW)("支持柜面渠道")]))),_:1})]),s[71]||(s[71]=(0,t.Fv)('<div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">let</span> dataList <span class="token operator">=</span> <span class="token punctuation">[</span></span>\n<span class="line">  <span class="token punctuation">[</span><span class="token string">&#39;柜员号&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;身份证号码&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;柜员类型&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;库管员标志&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;现金业务类型&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>\n<span class="line">  <span class="token punctuation">[</span><span class="token string">&#39;002001&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;371481198303070032&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;A&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;N-否&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;Y-是&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>\n<span class="line">  <span class="token punctuation">[</span><span class="token string">&#39;002002&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;371481198303070032&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;1-一般柜员&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;Y-是&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;Y-是&#39;</span><span class="token punctuation">]</span></span>\n<span class="line"><span class="token punctuation">]</span> <span class="token comment">//表格数据</span></span>\n<span class="line"><span class="token keyword">let</span> encoding <span class="token operator">=</span> <span class="token string">&#39;GBK&#39;</span> <span class="token comment">//字符编码</span></span>\n<span class="line"><span class="token keyword">let</span> separator <span class="token operator">=</span> <span class="token string">&#39;  &#39;</span> <span class="token comment">//单元要素分隔符</span></span>\n<span class="line"><span class="token keyword">let</span> columnLenList <span class="token operator">=</span> <span class="token string">&#39;&#39;</span> <span class="token comment">//单元格宽度List</span></span>\n<span class="line"><span class="token keyword">let</span> endWithSeparator <span class="token operator">=</span> <span class="token string">&#39;*&#39;</span> <span class="token comment">//结束符</span></span>\n<span class="line"><span class="token keyword">let</span> flushRight <span class="token operator">=</span> <span class="token boolean">true</span> <span class="token comment">//是否右对齐 是true 否false</span></span>\n<span class="line"><span class="token keyword">let</span> maxLength <span class="token operator">=</span> <span class="token number">100</span> <span class="token comment">//单行最大长度</span></span>\n<span class="line"><span class="token keyword">let</span> data <span class="token operator">=</span> <span class="token string">&#39;hello world&#39;</span> <span class="token comment">//额外要素内容</span></span>\n<span class="line"><span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token keyword">await</span> Aft<span class="token punctuation">.</span><span class="token function">printTable</span><span class="token punctuation">(</span>dataList<span class="token punctuation">,</span> encoding<span class="token punctuation">,</span> separator<span class="token punctuation">,</span> columnLenList<span class="token punctuation">,</span> endWithSeparator<span class="token punctuation">,</span> flushRight<span class="token punctuation">,</span> maxLength<span class="token punctuation">,</span> data<span class="token punctuation">)</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><table><thead><tr><th>参数</th><th>类型</th><th>必填参数</th><th>默认值</th><th>说明</th></tr></thead><tbody><tr><td>dataList</td><td>list</td><td>√</td><td>x</td><td>表格数据</td></tr><tr><td>encoding</td><td>string</td><td>√</td><td>x</td><td>字符编码</td></tr><tr><td>separator</td><td>string</td><td>√</td><td>x</td><td>单元要素分隔符</td></tr><tr><td>columnLenList</td><td>string</td><td>√</td><td>x</td><td>单元格宽度 List</td></tr><tr><td>endWithSeparator</td><td>string</td><td>√</td><td>x</td><td>结束符</td></tr><tr><td>flushRight</td><td>bollean</td><td>√</td><td>x</td><td>是否右对齐</td></tr><tr><td>maxLength</td><td>number</td><td>√</td><td>x</td><td>单行最大长度</td></tr><tr><td>data</td><td>string</td><td>√</td><td>x</td><td>额外要素内容</td></tr></tbody></table><ul><li>返回值: <code>Object</code></li></ul><table><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>res.result</td><td>string</td><td>解析后的 xml 字符串</td></tr></tbody></table>',4)),(0,t.Lk)("blockquote",null,[(0,t.bF)(a,{color:"red",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[27]||(s[27]=[(0,t.eW)("对应柜面原 SDK: Printer.printTable(dataList, encoding, separator, columnLenList, endWithSeparator, flushRight, maxLength, data)")]))),_:1})]),s[72]||(s[72]=(0,t.Lk)("hr",null,null,-1)),s[73]||(s[73]=(0,t.Lk)("h3",{id:"_2-15-printtablewithline-通用表格打印-带线",tabindex:"-1"},[(0,t.Lk)("a",{class:"header-anchor",href:"#_2-15-printtablewithline-通用表格打印-带线"},[(0,t.Lk)("span",null,"2.15 printTableWithLine --通用表格打印（带线）")])],-1)),(0,t.Lk)("blockquote",null,[(0,t.bF)(a,{color:"red",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[28]||(s[28]=[(0,t.eW)("支持柜面渠道")]))),_:1})]),s[74]||(s[74]=(0,t.Fv)('<div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">let</span> path <span class="token operator">=</span> <span class="token string">&#39;/www/FCClient/print/1/T00501003.aft&#39;</span> <span class="token comment">//aft资源文件路径</span></span>\n<span class="line"><span class="token keyword">let</span> map <span class="token operator">=</span> <span class="token punctuation">{</span></span>\n<span class="line">  <span class="token comment">//变量数据</span></span>\n<span class="line">  <span class="token constant">USER_NAME</span><span class="token operator">:</span> <span class="token string">&#39;用户名称&#39;</span><span class="token punctuation">,</span></span>\n<span class="line">  <span class="token constant">TOTL_STKCNT</span><span class="token operator">:</span> <span class="token string">&#39;总笔数&#39;</span><span class="token punctuation">,</span></span>\n<span class="line">  <span class="token constant">TOTL_AMT</span><span class="token operator">:</span> <span class="token string">&#39;总金额&#39;</span><span class="token punctuation">,</span></span>\n<span class="line">  <span class="token constant">SUCC_STKCNT</span><span class="token operator">:</span> <span class="token string">&#39;成功笔数&#39;</span><span class="token punctuation">,</span></span>\n<span class="line">  <span class="token constant">FAIL_STKCNT</span><span class="token operator">:</span> <span class="token string">&#39;失败笔数&#39;</span><span class="token punctuation">,</span></span>\n<span class="line">  <span class="token constant">SUCC_TOTL_AMT</span><span class="token operator">:</span> <span class="token string">&#39;成功金额&#39;</span><span class="token punctuation">,</span></span>\n<span class="line">  <span class="token constant">FAIL_TOTL_AMT</span><span class="token operator">:</span> <span class="token string">&#39;失败金额&#39;</span><span class="token punctuation">,</span></span>\n<span class="line">  <span class="token literal-property property">SerialNum1</span><span class="token operator">:</span> <span class="token string">&#39;0&#39;</span><span class="token punctuation">,</span></span>\n<span class="line">  <span class="token comment">//表格数据</span></span>\n<span class="line">  <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>\n<span class="line">    <span class="token comment">//表格ID</span></span>\n<span class="line">    <span class="token literal-property property">WaterTable</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>\n<span class="line">      <span class="token comment">//[序号，缴费日期，欠费金额，违约金，实缴金额，渠道，状态]</span></span>\n<span class="line">      <span class="token punctuation">[</span><span class="token string">&#39;1&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;20200518&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;371342289&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;2302&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;32243&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;线上&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;1&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>\n<span class="line">      <span class="token punctuation">[</span><span class="token string">&#39;2&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;20200519&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;222222223&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;2340&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;43243&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;线上&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;1&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>\n<span class="line">      <span class="token punctuation">[</span><span class="token string">&#39;3&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;20200511&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;212222231&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;2342&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;43243&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;线上&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;1&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>\n<span class="line">      <span class="token punctuation">[</span><span class="token string">&#39;4&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;20200512&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;213222212&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;2342&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;43243&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;线上&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;1&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>\n<span class="line">      <span class="token punctuation">[</span><span class="token string">&#39;5&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;20200513&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;213222222&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;2389&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;43243&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;线上&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;1&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>\n<span class="line">      <span class="token punctuation">[</span><span class="token string">&#39;6&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;20200514&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;213222214&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;2023&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;43243&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;线上&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;1&#39;</span><span class="token punctuation">]</span></span>\n<span class="line">    <span class="token punctuation">]</span></span>\n<span class="line">  <span class="token punctuation">}</span></span>\n<span class="line"><span class="token punctuation">}</span> <span class="token comment">//映射mapping</span></span>\n<span class="line"><span class="token keyword">let</span> controlParam <span class="token operator">=</span> <span class="token punctuation">{</span></span>\n<span class="line">  <span class="token literal-property property">TableRowNumOfPage</span><span class="token operator">:</span> <span class="token number">24</span></span>\n<span class="line">  <span class="token comment">// TableColWidth:[24,24,24,24,24,24,24]</span></span>\n<span class="line"><span class="token punctuation">}</span> <span class="token comment">//打印配置，详细请参考打印文件aft说明</span></span>\n<span class="line"><span class="token keyword">let</span> ret <span class="token operator">=</span> <span class="token keyword">await</span> Aft<span class="token punctuation">.</span><span class="token function">printTableWithLine</span><span class="token punctuation">(</span>path<span class="token punctuation">,</span> map<span class="token punctuation">,</span> controlParam<span class="token punctuation">)</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><table><thead><tr><th>参数</th><th>类型</th><th>必填参数</th><th>默认值</th><th>说明</th></tr></thead><tbody><tr><td>path</td><td>list</td><td>√</td><td>x</td><td>通用 aft 路径</td></tr><tr><td>map</td><td>string</td><td>√</td><td>x</td><td>数据映射关系</td></tr><tr><td>controlParam</td><td>string</td><td>√</td><td>x</td><td>配置参数</td></tr></tbody></table><ul><li>返回值: <code>Object</code></li></ul><table><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>res.result</td><td>array</td><td>解析后的 xml 字符串数组</td></tr></tbody></table>',4)),(0,t.Lk)("blockquote",null,[(0,t.bF)(a,{color:"red",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[29]||(s[29]=[(0,t.eW)("对应柜面原 SDK: Printer.printTableWithLine(path,map,data,colWidth,controlParam)")]))),_:1})]),s[75]||(s[75]=(0,t.Lk)("hr",null,null,-1)),s[76]||(s[76]=(0,t.Lk)("h3",{id:"_2-16-printaftwindows-打印-aftwindows-方式",tabindex:"-1"},[(0,t.Lk)("a",{class:"header-anchor",href:"#_2-16-printaftwindows-打印-aftwindows-方式"},[(0,t.Lk)("span",null,"2.16 printAftWindows --打印 AFTwindows 方式")])],-1)),(0,t.Lk)("blockquote",null,[(0,t.bF)(a,{color:"red",style:{"font-weight":"bold"}},{default:(0,t.k6)((()=>s[30]||(s[30]=[(0,t.eW)("支持柜面渠道")]))),_:1})]),s[77]||(s[77]=(0,t.Fv)('<div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">let</span> AftContentList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">]</span> <span class="token comment">//需要打印的AFT解析后的xml数组</span></span>\n<span class="line"><span class="token keyword">let</span> ImagesList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token keyword">null</span><span class="token punctuation">]</span> <span class="token comment">//需要打印的解析后的xml数组带图片的</span></span>\n<span class="line"><span class="token keyword">let</span> PrinterName <span class="token operator">=</span> <span class="token string">&#39;&#39;</span> <span class="token comment">//打印机名称，不传默认打印机</span></span>\n<span class="line"><span class="token keyword">let</span> PaperSize <span class="token operator">=</span> <span class="token string">&#39;210,297&#39;</span> <span class="token comment">//纸张大小</span></span>\n<span class="line"><span class="token keyword">let</span> ShowConfigWindow <span class="token operator">=</span> <span class="token boolean">true</span> <span class="token comment">//是否显示打印提示框</span></span>\n<span class="line"><span class="token keyword">let</span> HorizontalOffset <span class="token operator">=</span> <span class="token string">&#39;0&#39;</span> <span class="token comment">//水平偏移数值</span></span>\n<span class="line"><span class="token keyword">let</span> VerticalOffset <span class="token operator">=</span> <span class="token string">&#39;0&#39;</span> <span class="token comment">//纵向偏移数值</span></span>\n<span class="line"><span class="token keyword">let</span> ret <span class="token operator">=</span> <span class="token keyword">await</span> Aft<span class="token punctuation">.</span><span class="token function">printAftWindows</span><span class="token punctuation">(</span>AftContentList<span class="token punctuation">,</span> ImagesList<span class="token punctuation">,</span> PrinterName<span class="token punctuation">,</span> PaperSize<span class="token punctuation">,</span> ShowConfigWindow<span class="token punctuation">,</span> HorizontalOffset<span class="token punctuation">,</span> VerticalOffset<span class="token punctuation">)</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><table><thead><tr><th>参数</th><th>类型</th><th>必填参数</th><th>默认值</th><th>说明</th></tr></thead><tbody><tr><td>AftContentList</td><td>Array[string]</td><td>√</td><td>x</td><td>需要打印的 AFT 解析后的 xml 数组</td></tr><tr><td>ImagesList</td><td>Array[obj]</td><td>√</td><td>x</td><td>需要打印的解析后的 xml 数组带图片的</td></tr><tr><td>PrinterName</td><td>string</td><td>√</td><td>x</td><td>打印机名称，不传默认打印机</td></tr><tr><td>PaperSize</td><td>string</td><td>√</td><td>x</td><td>纸张大小</td></tr><tr><td>ShowConfigWindow</td><td>boolean</td><td>√</td><td>x</td><td>是否显示打印提示框</td></tr><tr><td>HorizontalOffset</td><td>string</td><td>√</td><td>x</td><td>水平偏移数值</td></tr><tr><td>VerticalOffset</td><td>string</td><td>√</td><td>x</td><td>纵向偏移数值</td></tr></tbody></table><ul><li>返回值: <code>Object</code></li></ul><table><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>res.result</td><td>string</td><td>success 成功标识</td></tr></tbody></table>',4)),(0,t.Lk)("blockquote",null,[(0,t.bF)(a,{color:"red",style:{"font-weight":"bold"}})]),s[78]||(s[78]=(0,t.Lk)("hr",null,null,-1))])}]]),l=JSON.parse('{"path":"/ABX5/%E5%89%8D%E7%AB%AF/sdk/ab-plugin-aft.html","title":"ab-plugin-aft @前端 AFT 类组件","lang":"en-US","frontmatter":{"outline":"deep"},"headers":[{"level":2,"title":"1. 引入","slug":"_1-引入","link":"#_1-引入","children":[]},{"level":2,"title":"2. 使用","slug":"_2-使用","link":"#_2-使用","children":[{"level":3,"title":"2.1 printPreviewXmlString --xml 打印预览","slug":"_2-1-printpreviewxmlstring-xml-打印预览","link":"#_2-1-printpreviewxmlstring-xml-打印预览","children":[]},{"level":3,"title":"2.2 printWordPreview --word 打印预览","slug":"_2-2-printwordpreview-word-打印预览","link":"#_2-2-printwordpreview-word-打印预览","children":[]},{"level":3,"title":"2.3 printExcelPreview --excel 打印预览","slug":"_2-3-printexcelpreview-excel-打印预览","link":"#_2-3-printexcelpreview-excel-打印预览","children":[]},{"level":3,"title":"2.4 parseAft --解析 aft 文件","slug":"_2-4-parseaft-解析-aft-文件","link":"#_2-4-parseaft-解析-aft-文件","children":[]},{"level":3,"title":"2.5 parseMultiPageAft --解析循环打印文件","slug":"_2-5-parsemultipageaft-解析循环打印文件","link":"#_2-5-parsemultipageaft-解析循环打印文件","children":[]},{"level":3,"title":"2.6 combineAndClipAft --拼接并分割已解析好的 aft 字符串，合并多个利用 ParseAftCommandHandler 解析出的 Xml 字符串.根据参数切割并返回可供打印的 xml 字符串 List","slug":"_2-6-combineandclipaft-拼接并分割已解析好的-aft-字符串-合并多个利用-parseaftcommandhandler-解析出的-xml-字符串-根据参数切割并返回可供打印的-xml-字符串-list","link":"#_2-6-combineandclipaft-拼接并分割已解析好的-aft-字符串-合并多个利用-parseaftcommandhandler-解析出的-xml-字符串-根据参数切割并返回可供打印的-xml-字符串-list","children":[]},{"level":3,"title":"2.7 combineAftWithHeadAndTail --拼接 Aft 包含头和尾","slug":"_2-7-combineaftwithheadandtail-拼接-aft-包含头和尾","link":"#_2-7-combineaftwithheadandtail-拼接-aft-包含头和尾","children":[]},{"level":3,"title":"2.8 combineAft --拼接 Aft 字符串","slug":"_2-8-combineaft-拼接-aft-字符串","link":"#_2-8-combineaft-拼接-aft-字符串","children":[]},{"level":3,"title":"2.9 aftToPdf --aft 转换为 pdf （壳子无相应支持，勿调用！）","slug":"_2-9-afttopdf-aft-转换为-pdf-壳子无相应支持-勿调用","link":"#_2-9-afttopdf-aft-转换为-pdf-壳子无相应支持-勿调用","children":[]},{"level":3,"title":"2.10 looperAftToPdf --循环打印 PDF（壳子无相应支持，勿调用！）","slug":"_2-10-looperafttopdf-循环打印-pdf-壳子无相应支持-勿调用","link":"#_2-10-looperafttopdf-循环打印-pdf-壳子无相应支持-勿调用","children":[]},{"level":3,"title":"2.11 selectDirector --选择文件夹目录（壳子无相应支持，勿调用！）","slug":"_2-11-selectdirector-选择文件夹目录-壳子无相应支持-勿调用","link":"#_2-11-selectdirector-选择文件夹目录-壳子无相应支持-勿调用","children":[]},{"level":3,"title":"2.12 concatAft --合并 aft（壳子无相应支持，勿调用！）","slug":"_2-12-concataft-合并-aft-壳子无相应支持-勿调用","link":"#_2-12-concataft-合并-aft-壳子无相应支持-勿调用","children":[]},{"level":3,"title":"2.13 looperAddPicture --Aft 中按需求添加图片（壳子无相应支持，勿调用！）","slug":"_2-13-looperaddpicture-aft-中按需求添加图片-壳子无相应支持-勿调用","link":"#_2-13-looperaddpicture-aft-中按需求添加图片-壳子无相应支持-勿调用","children":[]},{"level":3,"title":"2.14 printTable --通用表格打印（不带线）","slug":"_2-14-printtable-通用表格打印-不带线","link":"#_2-14-printtable-通用表格打印-不带线","children":[]},{"level":3,"title":"2.15 printTableWithLine --通用表格打印（带线）","slug":"_2-15-printtablewithline-通用表格打印-带线","link":"#_2-15-printtablewithline-通用表格打印-带线","children":[]},{"level":3,"title":"2.16 printAftWindows --打印 AFTwindows 方式","slug":"_2-16-printaftwindows-打印-aftwindows-方式","link":"#_2-16-printaftwindows-打印-aftwindows-方式","children":[]}]}],"git":{"updatedTime":1727145923000,"contributors":[{"name":"wangaoqi","email":"wangaoqi@agree.com.cn","commits":1}]},"filePathRelative":"ABX5/前端/sdk/ab-plugin-aft.md"}')}}]);